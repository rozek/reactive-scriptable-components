{"version":3,"file":"reactive-scriptable-components.cjs","sources":["../node_modules/javascript-interface-library/dist/javascript-interface-library.esm.js","../node_modules/preact/dist/preact.module.js","../node_modules/htm/dist/htm.module.js","../node_modules/htm/preact/index.module.js","../node_modules/hyperactiv/src/tools.js","../node_modules/hyperactiv/src/data.js","../node_modules/hyperactiv/src/batcher.js","../node_modules/hyperactiv/src/observe.js","../node_modules/hyperactiv/src/computed.js","../node_modules/hyperactiv/src/index.js","../src/reactive-scriptable-components.ts","../node_modules/hyperactiv/src/dispose.js"],"sourcesContent":["//----------------------------------------------------------------------------//\n//                        JavaScript Interface Library                        //\n//----------------------------------------------------------------------------//\n/**** get a reference to the \"global\" object ****/\nvar global = /*#__PURE__*/ Function('return this')();\n// see https://stackoverflow.com/questions/3277182/how-to-get-the-global-object-in-javascript\n//------------------------------------------------------------------------------\n//--                             Object Functions                             --\n//------------------------------------------------------------------------------\n// allow methods from Object.prototype to be applied to \"vanilla\" objects\n/**** Object_hasOwnProperty ****/\nfunction Object_hasOwnProperty(Value, PropertyName) {\n    return ((Value == null) || // let this method crash like its original\n        ('hasOwnProperty' in Value) && (typeof Value.hasOwnProperty === 'function')\n        ? Value.hasOwnProperty(PropertyName)\n        : Object.prototype.hasOwnProperty.call(Value, PropertyName));\n}\n/**** Object_isPrototypeOf ****/\nfunction Object_isPrototypeOf(Value, Candidate) {\n    return ((Value == null) || // let this method crash like its original\n        ('isPrototypeOf' in Value) && (typeof Value.isPrototypeOf === 'function')\n        ? Value.isPrototypeOf(Candidate)\n        : Object.prototype.isPrototypeOf.call(Value, Candidate));\n}\n/**** Object_propertyIsEnumerable ****/\nfunction Object_propertyIsEnumerable(Value, PropertyName) {\n    return ((Value == null) || // let this method crash like its original\n        ('propertyIsEnumerable' in Value) && (typeof Value.propertyIsEnumerable === 'function')\n        ? Value.propertyIsEnumerable(PropertyName)\n        : Object.prototype.propertyIsEnumerable.call(Value, PropertyName));\n}\n/**** Object_toString ****/\nfunction Object_toString(Value) {\n    return ((Value == null) || // let this method crash like its original\n        ('toString' in Value) && (typeof Value.toString === 'function')\n        ? Value.toString()\n        : Object.prototype.toString.call(Value));\n}\n/**** Object_toLocaleString ****/\nfunction Object_toLocaleString(Value) {\n    return ((Value == null) || // let this method crash like its original\n        ('toLocaleString' in Value) && (typeof Value.toLocaleString === 'function')\n        ? Value.toLocaleString()\n        : Object.prototype.toString.call(Value)); // a missing \"toLocaleString\" method will crash Object.prototype.toLocaleString\n}\n/**** Object_valueOf ****/\nfunction Object_valueOf(Value) {\n    return ((Value == null) || // let this method crash like its original\n        ('valueOf' in Value) && (typeof Value.valueOf === 'function')\n        ? Value.valueOf()\n        : Object.prototype.valueOf.call(Value));\n}\n/**** ObjectMergedWith ****/\nfunction ObjectMergedWith(TargetObject) {\n    var otherObjectList = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        otherObjectList[_i - 1] = arguments[_i];\n    }\n    for (var i = 0, l = otherObjectList.length; i < l; i++) {\n        var otherObject = otherObjectList[i];\n        if (otherObject == null) {\n            continue;\n        }\n        if (typeof otherObject === 'object') {\n            for (var Key in otherObject) {\n                var Descriptor = Object.getOwnPropertyDescriptor(otherObject, Key);\n                if (Descriptor != null) {\n                    Object.defineProperty(TargetObject, Key, Descriptor);\n                }\n            }\n        }\n        else {\n            throwError('InvalidArgument: argument #' + (i + 1) + ' is not an object');\n        }\n    }\n    return TargetObject;\n}\n/**** throwError - simplifies construction of named errors ****/\nfunction throwError(Message) {\n    var Match = /^([$a-zA-Z][$a-zA-Z0-9]*):\\s*(\\S.+)\\s*$/.exec(Message);\n    if (Match == null) {\n        throw new Error(Message);\n    }\n    else {\n        var namedError = new Error(Match[2]);\n        namedError.name = Match[1];\n        throw namedError;\n    }\n}\n//------------------------------------------------------------------------------\n//--                      Value Classification Functions                      --\n//------------------------------------------------------------------------------\n/**** ValueExists ****/\nfunction ValueExists(Value) {\n    return (Value != null);\n}\n/**** ValueIsMissing ****/\nfunction ValueIsMissing(Value) {\n    return (Value == null);\n}\n/**** ValueIsBoolean ****/\nfunction ValueIsBoolean(Value) {\n    return (typeof Value === 'boolean') || (Value instanceof Boolean);\n}\n/**** ValueIsNumber ****/\nfunction ValueIsNumber(Value) {\n    return (typeof Value === 'number') || (Value instanceof Number);\n}\n/**** ValueIsFiniteNumber (pure \"isFinite\" breaks on objects) ****/\nfunction ValueIsFiniteNumber(Value) {\n    return ((typeof Value === 'number') || (Value instanceof Number)) && isFinite(Value.valueOf());\n}\n/**** ValueIsNaN (numeric, but NaN - this differs from pure \"isNaN\") ****/\nfunction ValueIsNaN(Value) {\n    return ((typeof Value === 'number') || (Value instanceof Number)) && isNaN(Value.valueOf());\n}\n/**** ValueIsNumberInRange ****/\nfunction ValueIsNumberInRange(Value, minValue, maxValue, withMin, withMax) {\n    if (withMin === void 0) { withMin = true; }\n    if (withMax === void 0) { withMax = true; }\n    if (!ValueIsNumber(Value) || isNaN(Value)) {\n        return false;\n    }\n    if (ValueIsFiniteNumber(minValue)) { // more robust than \"isFinite\" alone\n        if (ValueIsFiniteNumber(maxValue)) { // more robust than \"isFinite\" alone\n            if ((Value < minValue) || (!withMin && (Value === minValue)) ||\n                (Value > maxValue) || (!withMax && (Value === maxValue))) {\n                return false;\n            }\n        }\n        else {\n            if ((Value < minValue) || (!withMin && (Value === minValue))) {\n                return false;\n            }\n        }\n    }\n    else {\n        if (ValueIsFiniteNumber(maxValue)) { // more robust than \"isFinite\" alone\n            if ((Value > maxValue) || (!withMax && (Value === maxValue))) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n/**** ValueIsInteger ****/\nfunction ValueIsInteger(Value) {\n    if ((typeof Value !== 'number') && !(Value instanceof Number)) {\n        return false;\n    }\n    Value = Value.valueOf();\n    return isFinite(Value) && (Math.round(Value) === Value);\n}\n/**** ValueIsIntegerInRange ****/\nfunction ValueIsIntegerInRange(Value, minValue, maxValue) {\n    if (!ValueIsInteger(Value) || isNaN(Value)) {\n        return false;\n    }\n    if (ValueIsFiniteNumber(minValue)) { // more robust than \"isFinite\" alone\n        if (ValueIsFiniteNumber(maxValue)) { // more robust than \"isFinite\" alone\n            if ((Value < minValue) || (Value > maxValue)) {\n                return false;\n            }\n        }\n        else {\n            if (Value < minValue) {\n                return false;\n            }\n        }\n    }\n    else {\n        if (ValueIsFiniteNumber(maxValue)) { // more robust than \"isFinite\" alone\n            if (Value > maxValue) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n/**** ValueIsOrdinal ****/\nfunction ValueIsOrdinal(Value) {\n    if ((typeof Value !== 'number') && !(Value instanceof Number)) {\n        return false;\n    }\n    Value = Value.valueOf();\n    return isFinite(Value) && (Math.round(Value) === Value) && (Value >= 0);\n}\n/**** ValueIsCardinal ****/\nfunction ValueIsCardinal(Value) {\n    if ((typeof Value !== 'number') && !(Value instanceof Number)) {\n        return false;\n    }\n    Value = Value.valueOf();\n    return isFinite(Value) && (Math.round(Value) === Value) && (Value >= 1);\n}\n/**** ValueIsString ****/\nfunction ValueIsString(Value) {\n    return (typeof Value === 'string') || (Value instanceof String);\n}\n/**** ValueIs[Non]EmptyString ****/\nvar emptyStringPattern = /^\\s*$/;\nfunction ValueIsEmptyString(Value) {\n    return ((typeof Value === 'string') || (Value instanceof String)) && emptyStringPattern.test(Value.valueOf());\n}\nfunction ValueIsNonEmptyString(Value) {\n    return ((typeof Value === 'string') || (Value instanceof String)) && !emptyStringPattern.test(Value.valueOf());\n}\n/**** ValueIsStringMatching ****/\nfunction ValueIsStringMatching(Value, Pattern) {\n    return ((typeof Value === 'string') || (Value instanceof String)) && Pattern.test(Value.valueOf());\n}\n/**** ValueIsText ****/\nvar noCtrlCharsButCRLFPattern = /^[^\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x9F\\u2028\\u2029\\uFFF9-\\uFFFB]*$/;\nfunction ValueIsText(Value) {\n    return ValueIsStringMatching(Value, noCtrlCharsButCRLFPattern);\n}\n/**** ValueIsTextline ****/\nvar noCtrlCharsPattern = /^[^\\x00-\\x1F\\x7F-\\x9F\\u2028\\u2029\\uFFF9-\\uFFFB]*$/;\nfunction ValueIsTextline(Value) {\n    return ValueIsStringMatching(Value, noCtrlCharsPattern);\n}\n/**** ValueIsFunction ****/\nfunction ValueIsFunction(Value) {\n    return (typeof Value === 'function');\n}\n/**** ValueIsAnonymousFunction ****/\nfunction ValueIsAnonymousFunction(Value) {\n    return ((typeof Value === 'function') &&\n        ((Value.name == null) || (Value.name === '')));\n}\n/**** ValueIsNamedFunction ****/\nfunction ValueIsNamedFunction(Value) {\n    return ((typeof Value === 'function') &&\n        (Value.name != null) && (Value.name !== ''));\n}\n/**** ValueIsNativeFunction ****/\nfunction ValueIsNativeFunction(Value) {\n    return ((typeof Value === 'function') &&\n        /^function\\s*[^(]*\\(\\)\\s*\\{\\s*\\[native code\\]\\s*\\}\\s*$/.test(Value.toString()));\n}\n/**** ValueIsScriptedFunction ****/\nfunction ValueIsScriptedFunction(Value) {\n    return ((typeof Value === 'function') &&\n        !/^function\\s*[^(]*\\(\\)\\s*\\{\\s*\\[native code\\]\\s*\\}\\s*$/.test(Value.toString()));\n}\n/**** ValueIsObject ****/\nfunction ValueIsObject(Value) {\n    return (Value != null) && (typeof Value === 'object');\n}\n/**** ValueIsPlainObject ****/\nfunction ValueIsPlainObject(Value) {\n    return ((Value != null) && (typeof Value === 'object') &&\n        (Object.getPrototypeOf(Value) === Object.prototype));\n}\n/**** ValueIsVanillaObject ****/\nfunction ValueIsVanillaObject(Value) {\n    return ((Value != null) && (typeof Value === 'object') &&\n        !(Value instanceof Object));\n}\n/**** ValueIsArray ****/\nvar ValueIsArray = Array.isArray;\n/**** ValueIsList (\"dense\" array) ****/\nfunction ValueIsList(Value, minLength, maxLength) {\n    if (ValueIsArray(Value)) {\n        for (var i = 0, l = Value.length; i < l; i++) {\n            if (Value[i] === undefined) {\n                return false;\n            }\n        }\n        if (minLength != null) {\n            if (Value.length < minLength) {\n                return false;\n            }\n        }\n        if (maxLength != null) {\n            if (Value.length > maxLength) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n}\n/**** ValueIsListSatisfying ****/\nfunction ValueIsListSatisfying(Value, Validator, minLength, maxLength) {\n    if (ValueIsArray(Value)) {\n        try {\n            for (var i = 0, l = Value.length; i < l; i++) {\n                if (Validator(Value[i]) == false) {\n                    return false;\n                }\n            }\n            if (minLength != null) {\n                if (Value.length < minLength) {\n                    return false;\n                }\n            }\n            if (maxLength != null) {\n                if (Value.length > maxLength) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        catch (Signal) { /* nop */ }\n    }\n    return false;\n}\n/**** ValueIsInstanceOf ****/\nfunction ValueIsInstanceOf(Value, Constructor) {\n    return (Value instanceof Constructor);\n}\n/**** ValueInheritsFrom ****/\nfunction ValueInheritsFrom(Value, Prototype) {\n    return Object_isPrototypeOf(Prototype, Value);\n}\n/**** ValueIsDate ****/\nfunction ValueIsDate(Value) {\n    return (Value instanceof Date);\n}\n/**** ValueIsError ****/\nfunction ValueIsError(Value) {\n    return (Value instanceof Error);\n}\n/**** ValueIsPromise ****/\nfunction ValueIsPromise(Value) {\n    return (Value != null) && (typeof Value.then === 'function');\n}\n// see https://stackoverflow.com/questions/27746304/how-do-i-tell-if-an-object-is-a-promise\n/**** ValueIsRegExp ****/\nfunction ValueIsRegExp(Value) {\n    return (Value instanceof RegExp);\n}\n/**** ValueIsOneOf ****/\nfunction ValueIsOneOf(Value, ValueList) {\n    return (ValueList.indexOf(Value) >= 0);\n} // no automatic unboxing of boxed values and vice-versa!\n/**** ValueIsColor ****/\nfunction ValueIsColor(Value) {\n    return ValueIsString(Value) && (ColorSet.hasOwnProperty(Value) ||\n        /^#[a-fA-F0-9]{6}$/.test(Value) ||\n        /^#[a-fA-F0-9]{8}$/.test(Value) ||\n        /^rgb\\([0-9]+,\\s*[0-9]+,\\s*[0-9]+\\)$/.test(Value) || // not perfect\n        /^rgba\\([0-9]+,\\s*[0-9]+,\\s*[0-9]+,([01]|[0]?[.][0-9]+)\\)$/.test(Value) // dto.\n    );\n}\n/**** ValueIsEMailAddress ****/\nvar EMailAddressPattern = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;\n// see https://stackoverflow.com/questions/201323/how-to-validate-an-email-address-using-a-regular-expression\nfunction ValueIsEMailAddress(Value) {\n    return ValueIsStringMatching(Value, EMailAddressPattern);\n}\n/**** ValueIsURL ****/\nvar noCtrlCharsOrWhitespacePattern = /^[^\\s\\x00-\\x1F\\x7F-\\x9F\\u2028\\u2029\\uFFF9-\\uFFFB]*$/;\nfunction ValueIsURL(Value) {\n    if (!ValueIsStringMatching(Value, noCtrlCharsOrWhitespacePattern) ||\n        (Value === '')) {\n        return false;\n    }\n    try {\n        new URL(Value, 'file://');\n        return true;\n    }\n    catch (Signal) {\n        return false;\n    }\n}\n//------------------------------------------------------------------------------\n//--                      Argument Validation Functions                       --\n//------------------------------------------------------------------------------\nvar rejectNil = false;\nvar acceptNil = true;\n/**** validatedArgument ****/\nfunction validatedArgument(Description, Argument, ValueIsValid, NilIsAcceptable, Expectation) {\n    if (Argument == null) {\n        if (NilIsAcceptable) {\n            return Argument;\n        }\n        else {\n            throwError(\"MissingArgument: no \".concat(escaped(Description), \" given\"));\n        }\n    }\n    else {\n        if (ValueIsValid(Argument)) {\n            switch (true) {\n                case Argument instanceof Boolean:\n                case Argument instanceof Number:\n                case Argument instanceof String:\n                    return Argument.valueOf(); // unboxes any primitives\n                default:\n                    return Argument;\n            }\n        }\n        else {\n            throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is no valid \").concat(escaped(Expectation)));\n        }\n    }\n}\n/**** ValidatorForClassifier ****/\nfunction ValidatorForClassifier(Classifier, NilIsAcceptable, Expectation) {\n    var Validator = function (Description, Argument) {\n        return validatedArgument(Description, Argument, Classifier, NilIsAcceptable, Expectation);\n    };\n    var ClassifierName = Classifier.name;\n    if ((ClassifierName != null) && /^ValueIs/.test(ClassifierName)) {\n        var ValidatorName = ClassifierName.replace(// derive name from validator\n        /^ValueIs/, NilIsAcceptable ? 'allow' : 'expect');\n        return FunctionWithName(Validator, ValidatorName);\n    }\n    else {\n        return Validator; // without any specific name\n    }\n}\n/**** FunctionWithName (works with older JS engines as well) ****/\nfunction FunctionWithName(originalFunction, desiredName) {\n    if (originalFunction == null) {\n        throwError('MissingArgument: no function given');\n    }\n    if (typeof originalFunction !== 'function') {\n        throwError('InvalidArgument: the given 1st Argument is not a JavaScript function');\n    }\n    if (desiredName == null) {\n        throwError('MissingArgument: no desired name given');\n    }\n    if ((typeof desiredName !== 'string') && !(desiredName instanceof String)) {\n        throwError('InvalidArgument: the given desired name is not a string');\n    }\n    if (originalFunction.name === desiredName) {\n        return originalFunction;\n    }\n    try {\n        Object.defineProperty(originalFunction, 'name', { value: desiredName });\n        if (originalFunction.name === desiredName) {\n            return originalFunction;\n        }\n    }\n    catch (signal) { /* ok - let's take the hard way */ }\n    var renamed = new Function('originalFunction', 'return function ' + desiredName + ' () {' +\n        'return originalFunction.apply(this,Array.prototype.slice.apply(arguments))' +\n        '}');\n    return renamed(originalFunction);\n} // also works with older JavaScript engines\n/**** expect[ed]Value ****/\nfunction expectValue(Description, Argument) {\n    if (Argument == null) {\n        throwError(\"MissingArgument: no \".concat(escaped(Description), \" given\"));\n    }\n    else {\n        return Argument.valueOf();\n    }\n}\nvar expectedValue = expectValue;\n/**** allow/expect[ed]Boolean ****/\nvar allowBoolean = /*#__PURE__*/ ValidatorForClassifier(ValueIsBoolean, acceptNil, 'boolean value'), allowedBoolean = allowBoolean;\nvar expectBoolean = /*#__PURE__*/ ValidatorForClassifier(ValueIsBoolean, rejectNil, 'boolean value'), expectedBoolean = expectBoolean;\n/**** allow/expect[ed]Number ****/\nvar allowNumber = /*#__PURE__*/ ValidatorForClassifier(ValueIsNumber, acceptNil, 'numeric value'), allowedNumber = allowNumber;\nvar expectNumber = /*#__PURE__*/ ValidatorForClassifier(ValueIsNumber, rejectNil, 'numeric value'), expectedNumber = expectNumber;\n/**** allow/expect[ed]FiniteNumber ****/\nvar allowFiniteNumber = /*#__PURE__*/ ValidatorForClassifier(ValueIsFiniteNumber, acceptNil, 'finite numeric value'), allowedFiniteNumber = allowFiniteNumber;\nvar expectFiniteNumber = /*#__PURE__*/ ValidatorForClassifier(ValueIsFiniteNumber, rejectNil, 'finite numeric value'), expectedFiniteNumber = expectFiniteNumber;\n/**** allow/expect[ed]NaN ****/\nvar allowNaN = /*#__PURE__*/ ValidatorForClassifier(ValueIsNaN, acceptNil, 'NaN value'), allowedNaN = allowNaN;\nvar expectNaN = /*#__PURE__*/ ValidatorForClassifier(ValueIsNaN, rejectNil, 'NaN value'), expectedNaN = expectNaN;\n/**** allow[ed]NumberInRange ****/\nfunction allowNumberInRange(Description, Argument, minValue, maxValue, withMin, withMax) {\n    return (Argument == null\n        ? Argument\n        : expectedNumberInRange(Description, Argument, minValue, maxValue, withMin, withMax));\n}\nvar allowedNumberInRange = allowNumberInRange;\n/**** expect[ed]NumberInRange ****/\nfunction expectNumberInRange(Description, Argument, minValue, maxValue, withMin, withMax) {\n    expectNumber(Description, Argument);\n    if (isNaN(Argument)) {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is not-a-number\"));\n    }\n    if (withMin == null) {\n        withMin = true;\n    }\n    if (withMax == null) {\n        withMax = true;\n    }\n    if ((minValue != null) && isFinite(minValue)) {\n        if ((maxValue != null) && isFinite(maxValue)) {\n            if ((Argument < minValue) || (!withMin && (Argument === minValue)) ||\n                (Argument > maxValue) || (!withMax && (Argument === maxValue))) {\n                throw new RangeError(\"the given \".concat(escaped(Description), \" (\").concat(Argument, \") is outside \") +\n                    \"the allowed range (\".concat(minValue, \"...\").concat(maxValue, \")\"));\n            }\n        }\n        else {\n            if ((Argument < minValue) || (!withMin && (Argument === minValue))) {\n                throw new RangeError(\"the given \".concat(escaped(Description), \" is below the allowed \") +\n                    \"minimum (\".concat(Argument, \" \").concat(withMin ? '<' : '<=', \" \").concat(minValue, \")\"));\n            }\n        }\n    }\n    else {\n        if ((maxValue != null) && isFinite(maxValue)) {\n            if ((Argument > maxValue) || (!withMax && (Argument === maxValue))) {\n                throw new RangeError(\"the given \".concat(escaped(Description), \" exceeds the allowed \") +\n                    \"maximum (\".concat(Argument, \" \").concat(withMax ? '>' : '>=', \" \").concat(maxValue, \")\"));\n            }\n        }\n    }\n    return Argument.valueOf();\n}\nvar expectedNumberInRange = expectNumberInRange;\n/**** allow/expect[ed]Integer ****/\nvar allowInteger = /*#__PURE__*/ ValidatorForClassifier(ValueIsInteger, acceptNil, 'integral numeric value'), allowedInteger = allowInteger;\nvar expectInteger = /*#__PURE__*/ ValidatorForClassifier(ValueIsInteger, rejectNil, 'integral numeric value'), expectedInteger = expectInteger;\n/**** allow[ed]IntegerInRange ****/\nfunction allowIntegerInRange(Description, Argument, minValue, maxValue) {\n    return (Argument == null\n        ? Argument\n        : expectedIntegerInRange(Description, Argument, minValue, maxValue));\n}\nvar allowedIntegerInRange = allowIntegerInRange;\n/**** expect[ed]IntegerInRange ****/\nfunction expectIntegerInRange(Description, Argument, minValue, maxValue) {\n    expectInteger(Description, Argument);\n    if (isNaN(Argument)) {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is not-a-number\"));\n    }\n    if ((minValue != null) && isFinite(minValue)) {\n        if ((maxValue != null) && isFinite(maxValue)) {\n            if ((Argument < minValue) || (Argument > maxValue)) {\n                throw new RangeError(\"the given \".concat(escaped(Description), \" (\").concat(Argument, \") is outside \") +\n                    \"the allowed range (\".concat(minValue, \"...\").concat(maxValue, \")\"));\n            }\n        }\n        else {\n            if (Argument < minValue) {\n                throw new RangeError(\"the given \".concat(escaped(Description), \" is below the allowed \") +\n                    \"minimum (\".concat(Argument, \" < \").concat(minValue, \")\"));\n            }\n        }\n    }\n    else {\n        if ((maxValue != null) && isFinite(maxValue)) {\n            if (Argument > maxValue) {\n                throw new RangeError(\"the given \".concat(escaped(Description), \" exceeds the allowed \") +\n                    \"maximum (\".concat(Argument, \" > \").concat(maxValue, \")\"));\n            }\n        }\n    }\n    return Argument.valueOf();\n}\nvar expectedIntegerInRange = expectIntegerInRange;\n/**** allow/expect[ed]Ordinal ****/\nvar allowOrdinal = /*#__PURE__*/ ValidatorForClassifier(ValueIsOrdinal, acceptNil, 'ordinal number'), allowedOrdinal = allowOrdinal;\nvar expectOrdinal = /*#__PURE__*/ ValidatorForClassifier(ValueIsOrdinal, rejectNil, 'ordinal number'), expectedOrdinal = expectOrdinal;\n/**** allow/expect[ed]Cardinal ****/\nvar allowCardinal = /*#__PURE__*/ ValidatorForClassifier(ValueIsCardinal, acceptNil, 'cardinal number'), allowedCardinal = allowCardinal;\nvar expectCardinal = /*#__PURE__*/ ValidatorForClassifier(ValueIsCardinal, rejectNil, 'cardinal number'), expectedCardinal = expectCardinal;\n/**** allow/expect[ed]String ****/\nvar allowString = /*#__PURE__*/ ValidatorForClassifier(ValueIsString, acceptNil, 'literal string'), allowedString = allowString;\nvar expectString = /*#__PURE__*/ ValidatorForClassifier(ValueIsString, rejectNil, 'literal string'), expectedString = expectString;\n/**** allow/expect[ed]NonEmptyString ****/\nvar allowNonEmptyString = /*#__PURE__*/ ValidatorForClassifier(ValueIsNonEmptyString, acceptNil, 'non-empty literal string'), allowedNonEmptyString = allowNonEmptyString;\nvar expectNonEmptyString = /*#__PURE__*/ ValidatorForClassifier(ValueIsNonEmptyString, rejectNil, 'non-empty literal string'), expectedNonEmptyString = expectNonEmptyString;\n/**** allow[ed]StringMatching ****/\nfunction allowStringMatching(Description, Argument, Pattern) {\n    return (Argument == null\n        ? Argument\n        : expectedStringMatching(Description, Argument, Pattern));\n}\nvar allowedStringMatching = allowStringMatching;\n/**** expect[ed]StringMatching ****/\nfunction expectStringMatching(Description, Argument, Pattern) {\n    expectString(Description, Argument);\n    if (Pattern.test(Argument)) {\n        return Argument.valueOf();\n    }\n    else {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" does not match the specified pattern\"));\n    }\n}\nvar expectedStringMatching = expectStringMatching;\n/**** allow/expect[ed]Text ****/\nvar allowText = /*#__PURE__*/ ValidatorForClassifier(ValueIsText, acceptNil, 'literal text'), allowedText = allowText;\nvar expectText = /*#__PURE__*/ ValidatorForClassifier(ValueIsText, rejectNil, 'literal text'), expectedText = expectText;\n/**** allow/expect[ed]Textline ****/\nvar allowTextline = /*#__PURE__*/ ValidatorForClassifier(ValueIsTextline, acceptNil, 'single line of text'), allowedTextline = allowTextline;\nvar expectTextline = /*#__PURE__*/ ValidatorForClassifier(ValueIsTextline, rejectNil, 'single line of text'), expectedTextline = expectTextline;\n/**** allow/expect[ed]Function ****/\nvar allowFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsFunction, acceptNil, 'JavaScript function'), allowedFunction = allowFunction;\nvar expectFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsFunction, rejectNil, 'JavaScript function'), expectedFunction = expectFunction;\n/**** allow/expect[ed]AnonymousFunction ****/\nvar allowAnonymousFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsAnonymousFunction, acceptNil, 'anonymous JavaScript function'), allowedAnonymousFunction = allowAnonymousFunction;\nvar expectAnonymousFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsAnonymousFunction, rejectNil, 'anonymous JavaScript function'), expectedAnonymousFunction = expectAnonymousFunction;\n/**** allow/expect[ed]NamedFunction ****/\nvar allowNamedFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsNamedFunction, acceptNil, 'named JavaScript function'), allowedNamedFunction = allowNamedFunction;\nvar expectNamedFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsNamedFunction, rejectNil, 'named JavaScript function'), expectedNamedFunction = expectNamedFunction;\n/**** allow/expect[ed]NativeFunction ****/\nvar allowNativeFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsNativeFunction, acceptNil, 'native JavaScript function'), allowedNativeFunction = allowNativeFunction;\nvar expectNativeFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsNativeFunction, rejectNil, 'native JavaScript function'), expectedNativeFunction = expectNativeFunction;\n/**** allow/expect[ed]ScriptedFunction ****/\nvar allowScriptedFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsScriptedFunction, acceptNil, 'scripted JavaScript function'), allowedScriptedFunction = allowScriptedFunction;\nvar expectScriptedFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsScriptedFunction, rejectNil, 'scripted JavaScript function'), expectedScriptedFunction = expectScriptedFunction;\n/**** allow/expect[ed]Object ****/\nvar allowObject = /*#__PURE__*/ ValidatorForClassifier(ValueIsObject, acceptNil, 'JavaScript object'), allowedObject = allowObject;\nvar expectObject = /*#__PURE__*/ ValidatorForClassifier(ValueIsObject, rejectNil, 'JavaScript object'), expectedObject = expectObject;\n/**** allow/expect[ed]PlainObject ****/\nvar allowPlainObject = /*#__PURE__*/ ValidatorForClassifier(ValueIsPlainObject, acceptNil, '\"plain\" JavaScript object'), allowedPlainObject = allowPlainObject;\nvar expectPlainObject = /*#__PURE__*/ ValidatorForClassifier(ValueIsPlainObject, rejectNil, '\"plain\" JavaScript object'), expectedPlainObject = expectPlainObject;\n/**** allow/expect[ed]VanillaObject ****/\nvar allowVanillaObject = /*#__PURE__*/ ValidatorForClassifier(ValueIsVanillaObject, acceptNil, '\"vanilla\" JavaScript object'), allowedVanillaObject = allowVanillaObject;\nvar expectVanillaObject = /*#__PURE__*/ ValidatorForClassifier(ValueIsVanillaObject, rejectNil, '\"vanilla\" JavaScript object'), expectedVanillaObject = expectVanillaObject;\n/**** allow[ed]Array ****/\nfunction allowArray(Description, Argument) {\n    return (Argument == null\n        ? Argument\n        : expectedArray(Description, Argument));\n}\nvar allowedArray = allowArray;\n/**** expect[ed]Array ****/\nfunction expectArray(Description, Argument) {\n    if (Argument == null) {\n        throwError(\"MissingArgument: no \".concat(escaped(Description), \" given\"));\n    }\n    if (ValueIsArray(Argument)) {\n        return Argument;\n    }\n    else {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is no JavaScript array\"));\n    }\n}\nvar expectedArray = expectArray;\n/**** allow[ed]List ****/\nfunction allowList(Description, Argument, Expectation, minLength, maxLength) {\n    return (Argument == null\n        ? Argument\n        : expectedList(Description, Argument, Expectation, minLength, maxLength));\n}\nvar allowedList = allowList;\n/**** expect[ed]List ****/\nfunction expectList(Description, Argument, Expectation, minLength, maxLength) {\n    if (Argument == null) {\n        throwError(\"MissingArgument: no \".concat(escaped(Description), \" given\"));\n    }\n    if (ValueIsList(Argument, minLength, maxLength)) {\n        return Argument;\n    }\n    else {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is \") + (Expectation == null\n            ? 'either not a list or contains an invalid number of elements'\n            : 'no ' + escaped(Expectation)));\n    }\n}\nvar expectedList = expectList;\n/**** allow[ed]ListSatisfying ****/\nfunction allowListSatisfying(Description, Argument, Validator, Expectation, minLength, maxLength) {\n    return (Argument == null\n        ? Argument\n        : expectedListSatisfying(Description, Argument, Validator, Expectation, minLength, maxLength));\n}\nvar allowedListSatisfying = allowListSatisfying;\n/**** expect[ed]ListSatisfying ****/\nfunction expectListSatisfying(Description, Argument, Validator, Expectation, minLength, maxLength) {\n    if (Argument == null) {\n        throwError(\"MissingArgument: no \".concat(escaped(Description), \" given\"));\n    }\n    if (ValueIsListSatisfying(Argument, Validator, minLength, maxLength)) {\n        return Argument;\n    }\n    else {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is \") + (Expectation == null\n            ? 'either not a list or contains invalid elements'\n            : 'no ' + escaped(Expectation)));\n    }\n}\nvar expectedListSatisfying = expectListSatisfying;\n/**** allow[ed]InstanceOf ****/\nfunction allowInstanceOf(Description, Argument, constructor, Expectation) {\n    return (Argument == null\n        ? Argument\n        : expectedInstanceOf(Description, Argument, constructor, Expectation));\n}\nvar allowedInstanceOf = allowInstanceOf;\n/**** expect[ed]InstanceOf ****/\nfunction expectInstanceOf(Description, Argument, constructor, Expectation) {\n    if (Argument == null) {\n        throwError(\"MissingArgument: no \".concat(escaped(Description), \" given\"));\n    }\n    if (!(Argument instanceof constructor)) {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is no \").concat(escaped(Expectation)));\n    }\n    return Argument;\n}\nvar expectedInstanceOf = expectInstanceOf;\n/**** allow[ed]ValueInheritingFrom ****/\nfunction allowValueInheritingFrom(Description, Argument, prototype, Expectation) {\n    return (Argument == null\n        ? Argument\n        : expectedValueInheritingFrom(Description, Argument, prototype, Expectation));\n}\nvar allowedValueInheritingFrom = allowValueInheritingFrom;\n/**** expect[ed]ValueInheritingFrom ****/\nfunction expectValueInheritingFrom(Description, Argument, prototype, Expectation) {\n    if (Argument == null) {\n        throwError(\"MissingArgument: no \".concat(escaped(Description), \" given\"));\n    }\n    if (prototype.isPrototypeOf(Argument)) {\n        return Argument;\n    }\n    else {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is no \").concat(escaped(Expectation)));\n    }\n}\nvar expectedValueInheritingFrom = expectValueInheritingFrom;\n/**** allow/expect[ed]Date ****/\nvar allowDate = /*#__PURE__*/ ValidatorForClassifier(ValueIsDate, acceptNil, 'JavaScript Date object'), allowedDate = allowDate;\nvar expectDate = /*#__PURE__*/ ValidatorForClassifier(ValueIsDate, rejectNil, 'JavaScript Date object'), expectedDate = expectDate;\n/**** allow/expect[ed]Error ****/\nvar allowError = /*#__PURE__*/ ValidatorForClassifier(ValueIsError, acceptNil, 'JavaScript Error object'), allowedError = allowError;\nvar expectError = /*#__PURE__*/ ValidatorForClassifier(ValueIsError, rejectNil, 'JavaScript Error object'), expectedError = expectError;\n/**** allow/expect[ed]Promise ****/\nvar allowPromise = /*#__PURE__*/ ValidatorForClassifier(ValueIsPromise, acceptNil, 'JavaScript Promise (or \"Thenable\") object'), allowedPromise = allowPromise;\nvar expectPromise = /*#__PURE__*/ ValidatorForClassifier(ValueIsPromise, rejectNil, 'JavaScript Promise (or \"Thenable\") object'), expectedPromise = expectPromise;\n/**** allow/expect[ed]RegExp ****/\nvar allowRegExp = /*#__PURE__*/ ValidatorForClassifier(ValueIsRegExp, acceptNil, 'JavaScript RegExp object'), allowedRegExp = allowRegExp;\nvar expectRegExp = /*#__PURE__*/ ValidatorForClassifier(ValueIsRegExp, rejectNil, 'JavaScript RegExp object'), expectedRegExp = expectRegExp;\n/**** allow[ed]OneOf ****/\nfunction allowOneOf(Description, Argument, ValueList) {\n    return (Argument == null\n        ? Argument\n        : expectedOneOf(Description, Argument, ValueList));\n}\nvar allowedOneOf = allowOneOf;\n/**** expect[ed]OneOf ****/\nfunction expectOneOf(Description, Argument, ValueList) {\n    if (Argument == null) {\n        throwError(\"MissingArgument: no \".concat(escaped(Description), \" given\"));\n    }\n    if (ValueIsOneOf(Argument, ValueList)) {\n        return ( // unboxes any primitives\n        (Argument == null) || (typeof Argument.valueOf !== 'function')\n            ? Argument\n            : Argument.valueOf());\n    }\n    else {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is not among the supported values\"));\n    }\n}\nvar expectedOneOf = expectOneOf;\n/**** allow/expect[ed]Color ****/\nvar allowColor = /*#__PURE__*/ ValidatorForClassifier(ValueIsColor, acceptNil, 'CSS color specification'), allowedColor = allowColor;\nvar expectColor = /*#__PURE__*/ ValidatorForClassifier(ValueIsColor, rejectNil, 'CSS color specification'), expectedColor = expectColor;\n/**** allow/expect[ed]EMailAddress ****/\nvar allowEMailAddress = /*#__PURE__*/ ValidatorForClassifier(ValueIsEMailAddress, acceptNil, 'EMail address'), allowedEMailAddress = allowEMailAddress;\nvar expectEMailAddress = /*#__PURE__*/ ValidatorForClassifier(ValueIsEMailAddress, rejectNil, 'EMail address'), expectedEMailAddress = expectEMailAddress;\n/**** allow/expect[ed]URL ****/\nvar allowURL = /*#__PURE__*/ ValidatorForClassifier(ValueIsURL, acceptNil, 'URL'), allowedURL = allowURL;\nvar expectURL = /*#__PURE__*/ ValidatorForClassifier(ValueIsURL, rejectNil, 'URL'), expectedURL = expectURL;\n/**** escaped - escapes all control characters in a given string ****/\nfunction escaped(Text) {\n    var EscapeSequencePattern = /\\\\x[0-9a-zA-Z]{2}|\\\\u[0-9a-zA-Z]{4}|\\\\[0bfnrtv'\"\\\\\\/]?/g;\n    var CtrlCharCodePattern = /[\\x00-\\x1f\\x7f-\\x9f]/g;\n    return Text\n        .replace(EscapeSequencePattern, function (Match) {\n        return (Match === '\\\\' ? '\\\\\\\\' : Match);\n    })\n        .replace(CtrlCharCodePattern, function (Match) {\n        switch (Match) {\n            case '\\0': return '\\\\0';\n            case '\\b': return '\\\\b';\n            case '\\f': return '\\\\f';\n            case '\\n': return '\\\\n';\n            case '\\r': return '\\\\r';\n            case '\\t': return '\\\\t';\n            case '\\v': return '\\\\v';\n            default: {\n                var HexCode = Match.charCodeAt(0).toString(16);\n                return '\\\\x' + '00'.slice(HexCode.length) + HexCode;\n            }\n        }\n    });\n}\n/**** unescaped - evaluates all escape sequences in a given string ****/\nfunction unescaped(Text) {\n    var EscapeSequencePattern = /\\\\[0bfnrtv'\"\\\\\\/]|\\\\x[0-9a-zA-Z]{2}|\\\\u[0-9a-zA-Z]{4}/g;\n    return Text\n        .replace(EscapeSequencePattern, function (Match) {\n        switch (Match) {\n            case '\\\\0': return '\\0';\n            case '\\\\b': return '\\b';\n            case '\\\\f': return '\\f';\n            case '\\\\n': return '\\n';\n            case '\\\\r': return '\\r';\n            case '\\\\t': return '\\t';\n            case '\\\\v': return '\\v';\n            case '\\\\\\'': return \"'\";\n            case '\\\\\"': return '\"';\n            case '\\\\\\\\': return \"\\\\\";\n            default: {\n                var CharCode = parseInt(Match.slice(2), 16);\n                return String.fromCharCode(CharCode);\n            }\n        }\n    });\n}\n/**** quotable - makes a given string ready to be put in single/double quotes ****/\nfunction quotable(Text, Quote) {\n    if (Quote === void 0) { Quote = '\"'; }\n    var EscSeqOrSglQuotePattern = /\\\\x[0-9a-zA-Z]{2}|\\\\u[0-9a-zA-Z]{4}|\\\\[0bfnrtv'\"\\\\\\/]?|'/g;\n    var EscSeqOrDblQuotePattern = /\\\\x[0-9a-zA-Z]{2}|\\\\u[0-9a-zA-Z]{4}|\\\\[0bfnrtv'\"\\\\\\/]?|\"/g;\n    var CtrlCharCodePattern = /[\\x00-\\x1f\\x7f-\\x9f]/g;\n    return Text\n        .replace(Quote === \"'\" ? EscSeqOrSglQuotePattern : EscSeqOrDblQuotePattern, function (Match) {\n        switch (Match) {\n            case \"'\": return \"\\\\'\";\n            case '\"': return '\\\\\"';\n            case '\\\\': return '\\\\\\\\';\n            default: return Match;\n        }\n    })\n        .replace(CtrlCharCodePattern, function (Match) {\n        switch (Match) {\n            case '\\0': return '\\\\0';\n            case '\\b': return '\\\\b';\n            case '\\f': return '\\\\f';\n            case '\\n': return '\\\\n';\n            case '\\r': return '\\\\r';\n            case '\\t': return '\\\\t';\n            case '\\v': return '\\\\v';\n            default: {\n                var HexCode = Match.charCodeAt(0).toString(16);\n                return '\\\\x' + '00'.slice(HexCode.length) + HexCode;\n            }\n        }\n    });\n}\n/**** quoted ****/\nfunction quoted(Text, Quote) {\n    if (Quote === void 0) { Quote = '\"'; }\n    return Quote + quotable(Text, Quote) + Quote;\n}\n/**** HTMLsafe ****/\nfunction HTMLsafe(Argument, EOLReplacement) {\n    EOLReplacement = (EOLReplacement || '').trim() || '<br/>';\n    return Argument.replace(/[&<>\"'\\u0000-\\u001F\\u007F-\\u009F\\\\]/g, function (Match) {\n        switch (Match) {\n            case '&': return '&amp;';\n            case '<': return '&lt;';\n            case '>': return '&gt;';\n            case '\"': return '&quot;';\n            case \"'\": return '&apos;';\n            case '\\b': return '&#92;b';\n            case '\\f': return '&#92;f';\n            case '\\n': return EOLReplacement;\n            case '\\r': return '&#92;r';\n            case '\\t': return '&#92;t';\n            case '\\v': return '&#92;v';\n            case '\\\\': return '&#92;';\n            default:\n                var Result = Match.charCodeAt(0).toString(16);\n                return '&#x0000'.substring(3, 7 - Result.length) + Result + ';';\n        }\n    });\n}\n/**** MarkDownSafe ****/\nfunction MarkDownSafe(Argument, EOLReplacement) {\n    return HTMLsafe(Argument, EOLReplacement).replace(/:/g, '&#58;');\n}\n/**** ValuesDiffer ****/\nfunction ValuesDiffer(thisValue, otherValue, Mode) {\n    if (thisValue === otherValue) {\n        return false;\n    }\n    var thisType = typeof thisValue;\n    if (thisType !== typeof otherValue) {\n        return true;\n    }\n    /**** ArraysDiffer ****/\n    function ArraysDiffer(thisArray, otherArray, Mode) {\n        if (!Array.isArray(otherArray)) {\n            return true;\n        }\n        if (thisArray.length !== otherArray.length) {\n            return true;\n        }\n        for (var i = 0, l = thisArray.length; i < l; i++) {\n            if (ValuesDiffer(thisArray[i], otherArray[i], Mode)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**** ObjectsDiffer ****/\n    function ObjectsDiffer(thisObject, otherObject, Mode) {\n        if (Object.getPrototypeOf(thisObject) !== Object.getPrototypeOf(otherObject)) {\n            return true;\n        }\n        for (var key in thisObject) {\n            if (!(key in otherObject)) {\n                return true;\n            }\n        }\n        for (var key in otherObject) {\n            if (!(key in thisObject)) {\n                return true;\n            }\n            if (ValuesDiffer(thisObject[key], otherObject[key], Mode)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    switch (thisType) {\n        case 'undefined':\n        case 'boolean':\n        case 'string':\n        case 'function': return true; // most primitives are compared using \"===\"\n        case 'number': return ((isNaN(thisValue) !== isNaN(otherValue)) ||\n            (Math.abs(thisValue - otherValue) > Number.EPSILON));\n        case 'object':\n            if (thisValue == null) {\n                return true;\n            } // since \"other_value\" != null!\n            if (otherValue == null) {\n                return true;\n            } // since \"this_value\" != null!\n            if ((Mode === 'by-value') && ((thisValue instanceof Boolean) ||\n                (thisValue instanceof Number) ||\n                (thisValue instanceof String))) {\n                return (thisValue.valueOf() !== otherValue.valueOf());\n            }\n            if (Array.isArray(thisValue)) {\n                return ArraysDiffer(thisValue, otherValue, Mode);\n            }\n            return (Mode === 'by-reference'\n                ? true // because (thisValue !== otherValue)\n                : ObjectsDiffer(thisValue, otherValue, Mode));\n        default: return true; // unsupported property type\n    }\n    return true;\n}\n/**** ValuesAreEqual ****/\nfunction ValuesAreEqual(thisValue, otherValue, Mode) {\n    return !ValuesDiffer(thisValue, otherValue, Mode);\n}\n/**** ObjectIsEmpty ****/\nfunction ObjectIsEmpty(Candidate) {\n    expectObject('candidate', Candidate);\n    for (var Key in Candidate) {\n        if (Object_hasOwnProperty(Candidate, Key)) {\n            return false;\n        }\n    }\n    return true;\n}\n/**** ObjectIsNotEmpty ****/\nfunction ObjectIsNotEmpty(Candidate) {\n    return !ObjectIsEmpty(Candidate);\n}\n/**** StringIsEmpty ****/\nfunction StringIsEmpty(Candidate) {\n    return /^\\s*$/.test(Candidate);\n}\n/**** StringIsNotEmpty ****/\nfunction StringIsNotEmpty(Candidate) {\n    return !StringIsEmpty(Candidate);\n}\n/**** constrained ****/\nfunction constrained(Value, Minimum, Maximum) {\n    if (Minimum === void 0) { Minimum = -Infinity; }\n    if (Maximum === void 0) { Maximum = Infinity; }\n    return Math.max(Minimum, Math.min(Value, Maximum));\n}\n//------------------------------------------------------------------------------\n//--                             Color Utilities                              --\n//------------------------------------------------------------------------------\n// built-in color names (see http://www.w3.org/TR/SVG/types.html#ColorKeywords) ----\nvar ColorSet = {\n    transparent: 'rgba(0,0,0,0,0.0)',\n    aliceblue: 'rgba(240,248,255,1.0)', lightpink: 'rgba(255,182,193,1.0)',\n    antiquewhite: 'rgba(250,235,215,1.0)', lightsalmon: 'rgba(255,160,122,1.0)',\n    aqua: 'rgba(0,255,255,1.0)', lightseagreen: 'rgba(32,178,170,1.0)',\n    aquamarine: 'rgba(127,255,212,1.0)', lightskyblue: 'rgba(135,206,250,1.0)',\n    azure: 'rgba(240,255,255,1.0)', lightslategray: 'rgba(119,136,153,1.0)',\n    beige: 'rgba(245,245,220,1.0)', lightslategrey: 'rgba(119,136,153,1.0)',\n    bisque: 'rgba(255,228,196,1.0)', lightsteelblue: 'rgba(176,196,222,1.0)',\n    black: 'rgba(0,0,0,1.0)', lightyellow: 'rgba(255,255,224,1.0)',\n    blanchedalmond: 'rgba(255,235,205,1.0)', lime: 'rgba(0,255,0,1.0)',\n    blue: 'rgba(0,0,255,1.0)', limegreen: 'rgba(50,205,50,1.0)',\n    blueviolet: 'rgba(138,43,226,1.0)', linen: 'rgba(250,240,230,1.0)',\n    brown: 'rgba(165,42,42,1.0)', magenta: 'rgba(255,0,255,1.0)',\n    burlywood: 'rgba(222,184,135,1.0)', maroon: 'rgba(128,0,0,1.0)',\n    cadetblue: 'rgba(95,158,160,1.0)', mediumaquamarine: 'rgba(102,205,170,1.0)',\n    chartreuse: 'rgba(127,255,0,1.0)', mediumblue: 'rgba(0,0,205,1.0)',\n    chocolate: 'rgba(210,105,30,1.0)', mediumorchid: 'rgba(186,85,211,1.0)',\n    coral: 'rgba(255,127,80,1.0)', mediumpurple: 'rgba(147,112,219,1.0)',\n    cornflowerblue: 'rgba(100,149,237,1.0)', mediumseagreen: 'rgba(60,179,113,1.0)',\n    cornsilk: 'rgba(255,248,220,1.0)', mediumslateblue: 'rgba(123,104,238,1.0)',\n    crimson: 'rgba(220,20,60,1.0)', mediumspringgreen: 'rgba(0,250,154,1.0)',\n    cyan: 'rgba(0,255,255,1.0)', mediumturquoise: 'rgba(72,209,204,1.0)',\n    darkblue: 'rgba(0,0,139,1.0)', mediumvioletred: 'rgba(199,21,133,1.0)',\n    darkcyan: 'rgba(0,139,139,1.0)', midnightblue: 'rgba(25,25,112,1.0)',\n    darkgoldenrod: 'rgba(184,134,11,1.0)', mintcream: 'rgba(245,255,250,1.0)',\n    darkgray: 'rgba(169,169,169,1.0)', mistyrose: 'rgba(255,228,225,1.0)',\n    darkgreen: 'rgba(0,100,0,1.0)', moccasin: 'rgba(255,228,181,1.0)',\n    darkgrey: 'rgba(169,169,169,1.0)', navajowhite: 'rgba(255,222,173,1.0)',\n    darkkhaki: 'rgba(189,183,107,1.0)', navy: 'rgba(0,0,128,1.0)',\n    darkmagenta: 'rgba(139,0,139,1.0)', oldlace: 'rgba(253,245,230,1.0)',\n    darkolivegreen: 'rgba(85,107,47,1.0)', olive: 'rgba(128,128,0,1.0)',\n    darkorange: 'rgba(255,140,0,1.0)', olivedrab: 'rgba(107,142,35,1.0)',\n    darkorchid: 'rgba(153,50,204,1.0)', orange: 'rgba(255,165,0,1.0)',\n    darkred: 'rgba(139,0,0,1.0)', orangered: 'rgba(255,69,0,1.0)',\n    darksalmon: 'rgba(233,150,122,1.0)', orchid: 'rgba(218,112,214,1.0)',\n    darkseagreen: 'rgba(143,188,143,1.0)', palegoldenrod: 'rgba(238,232,170,1.0)',\n    darkslateblue: 'rgba(72,61,139,1.0)', palegreen: 'rgba(152,251,152,1.0)',\n    darkslategray: 'rgba(47,79,79,1.0)', paleturquoise: 'rgba(175,238,238,1.0)',\n    darkslategrey: 'rgba(47,79,79,1.0)', palevioletred: 'rgba(219,112,147,1.0)',\n    darkturquoise: 'rgba(0,206,209,1.0)', papayawhip: 'rgba(255,239,213,1.0)',\n    darkviolet: 'rgba(148,0,211,1.0)', peachpuff: 'rgba(255,218,185,1.0)',\n    deeppink: 'rgba(255,20,147,1.0)', peru: 'rgba(205,133,63,1.0)',\n    deepskyblue: 'rgba(0,191,255,1.0)', pink: 'rgba(255,192,203,1.0)',\n    dimgray: 'rgba(105,105,105,1.0)', plum: 'rgba(221,160,221,1.0)',\n    dimgrey: 'rgba(105,105,105,1.0)', powderblue: 'rgba(176,224,230,1.0)',\n    dodgerblue: 'rgba(30,144,255,1.0)', purple: 'rgba(128,0,128,1.0)',\n    firebrick: 'rgba(178,34,34,1.0)', red: 'rgba(255,0,0,1.0)',\n    floralwhite: 'rgba(255,250,240,1.0)', rosybrown: 'rgba(188,143,143,1.0)',\n    forestgreen: 'rgba(34,139,34,1.0)', royalblue: 'rgba(65,105,225,1.0)',\n    fuchsia: 'rgba(255,0,255,1.0)', saddlebrown: 'rgba(139,69,19,1.0)',\n    gainsboro: 'rgba(220,220,220,1.0)', salmon: 'rgba(250,128,114,1.0)',\n    ghostwhite: 'rgba(248,248,255,1.0)', sandybrown: 'rgba(244,164,96,1.0)',\n    gold: 'rgba(255,215,0,1.0)', seagreen: 'rgba(46,139,87,1.0)',\n    goldenrod: 'rgba(218,165,32,1.0)', seashell: 'rgba(255,245,238,1.0)',\n    gray: 'rgba(128,128,128,1.0)', sienna: 'rgba(160,82,45,1.0)',\n    green: 'rgba(0,128,0,1.0)', silver: 'rgba(192,192,192,1.0)',\n    greenyellow: 'rgba(173,255,47,1.0)', skyblue: 'rgba(135,206,235,1.0)',\n    grey: 'rgba(128,128,128,1.0)', slateblue: 'rgba(106,90,205,1.0)',\n    honeydew: 'rgba(240,255,240,1.0)', slategray: 'rgba(112,128,144,1.0)',\n    hotpink: 'rgba(255,105,180,1.0)', slategrey: 'rgba(112,128,144,1.0)',\n    indianred: 'rgba(205,92,92,1.0)', snow: 'rgba(255,250,250,1.0)',\n    indigo: 'rgba(75,0,130,1.0)', springgreen: 'rgba(0,255,127,1.0)',\n    ivory: 'rgba(255,255,240,1.0)', steelblue: 'rgba(70,130,180,1.0)',\n    khaki: 'rgba(240,230,140,1.0)', tan: 'rgba(210,180,140,1.0)',\n    lavender: 'rgba(230,230,250,1.0)', teal: 'rgba(0,128,128,1.0)',\n    lavenderblush: 'rgba(255,240,245,1.0)', thistle: 'rgba(216,191,216,1.0)',\n    lawngreen: 'rgba(124,252,0,1.0)', tomato: 'rgba(255,99,71,1.0)',\n    lemonchiffon: 'rgba(255,250,205,1.0)', turquoise: 'rgba(64,224,208,1.0)',\n    lightblue: 'rgba(173,216,230,1.0)', violet: 'rgba(238,130,238,1.0)',\n    lightcoral: 'rgba(240,128,128,1.0)', wheat: 'rgba(245,222,179,1.0)',\n    lightcyan: 'rgba(224,255,255,1.0)', white: 'rgba(255,255,255,1.0)',\n    lightgoldenrodyellow: 'rgba(250,250,210,1.0)', whitesmoke: 'rgba(245,245,245,1.0)',\n    lightgray: 'rgba(211,211,211,1.0)', yellow: 'rgba(255,255,0,1.0)',\n    lightgreen: 'rgba(144,238,144,1.0)', yellowgreen: 'rgba(154,205,50,1.0)',\n    lightgrey: 'rgba(211,211,211,1.0)',\n};\n/**** HexColor - converts a given color to #rrggbbaa ****/\nfunction HexColor(Color) {\n    var lowerColor = Color.toLowerCase();\n    if (ColorSet.hasOwnProperty(lowerColor)) {\n        // @ts-ignore TS dislikes indexing with literal keys\n        Color = ColorSet[lowerColor];\n    } // do not return here as color is now in RGBA format\n    if (/^#[a-fA-F0-9]{6}$/.test(Color)) {\n        return Color + 'FF';\n    }\n    if (/^#[a-fA-F0-9]{8}$/.test(Color)) {\n        return Color;\n    }\n    var HexDigit = '0123456789ABCDEF';\n    function dec2hex(Value) {\n        if (Value > 255) {\n            Value = 255;\n        }\n        return HexDigit[Math.trunc(Value / 16)] + HexDigit[Value % 16];\n    }\n    var RGBPattern = /^rgb\\(([0-9]+),\\s*([0-9]+),\\s*([0-9]+)\\)$/i; // not perfect\n    var Match = RGBPattern.exec(Color);\n    if (Match != null) {\n        return ('#' +\n            dec2hex(parseInt(Match[1], 10)) +\n            dec2hex(parseInt(Match[2], 10)) +\n            dec2hex(parseInt(Match[3], 10)) + 'FF');\n    }\n    var RGBAPattern = /^rgba\\(([(0-9]+),\\s*([0-9]+),\\s*([0-9]+),\\s*([01]?[.][0-9]+|[01])\\)$/i; // not perfect\n    Match = RGBAPattern.exec(Color);\n    if (Match != null) {\n        return ('#' +\n            dec2hex(parseInt(Match[1], 10)) +\n            dec2hex(parseInt(Match[2], 10)) +\n            dec2hex(parseInt(Match[3], 10)) +\n            dec2hex(parseFloat(Match[4]) * 255));\n    }\n    throwError('InvalidArgument: the given Value is not a valid CSS Color specification');\n}\n/**** RGBAColor - converts a given color to RGBA(r,g,b,a) ****/\nfunction RGBAColor(Color) {\n    var lowerColor = Color.toLowerCase();\n    if (ColorSet.hasOwnProperty(lowerColor)) {\n        // @ts-ignore TS dislikes indexing with literal keys\n        return ColorSet[lowerColor]; // color is already in RGBA format\n    }\n    if (/^#[a-fA-F0-9]{6}$/.test(Color)) {\n        return ('rgba(' +\n            parseInt(Color.slice(1, 3), 16) + ',' +\n            parseInt(Color.slice(3, 5), 16) + ',' +\n            parseInt(Color.slice(5, 7), 16) + ', 1' +\n            ')');\n    }\n    if (/^#[a-fA-F0-9]{8}$/.test(Color)) {\n        return ('rgba(' +\n            parseInt(Color.slice(1, 3), 16) + ',' +\n            parseInt(Color.slice(3, 5), 16) + ',' +\n            parseInt(Color.slice(5, 7), 16) + ',' +\n            (parseInt(Color.slice(7), 16) / 255) +\n            ')');\n    }\n    var RGBPattern = /^rgb\\(([0-9]+),\\s*([0-9]+),\\s*([0-9]+)\\)$/i; //not perfect\n    var Match = RGBPattern.exec(Color);\n    if (Match != null) {\n        return Color.slice(0, Color.length - 1) + ',1)';\n    }\n    var RGBAPattern = /^rgba\\(([(0-9]+),\\s*([0-9]+),\\s*([0-9]+),\\s*([0]?[.][0-9]+|[01])\\)$/i; // not perfect\n    Match = RGBAPattern.exec(Color);\n    if (Match != null) {\n        return Color;\n    }\n    throwError('InvalidArgument: the given Value is not a valid CSS Color specification');\n}\n/**** shortHexColor - converts a given color into #RRGGBB ****/\nfunction shortHexColor(Color) {\n    return HexColor(Color).slice(0, 7);\n}\n\nexport { ColorSet, FunctionWithName, HTMLsafe, HexColor, MarkDownSafe, ObjectIsEmpty, ObjectIsNotEmpty, ObjectMergedWith, Object_hasOwnProperty, Object_isPrototypeOf, Object_propertyIsEnumerable, Object_toLocaleString, Object_toString, Object_valueOf, RGBAColor, StringIsEmpty, StringIsNotEmpty, ValidatorForClassifier, ValueExists, ValueInheritsFrom, ValueIsAnonymousFunction, ValueIsArray, ValueIsBoolean, ValueIsCardinal, ValueIsColor, ValueIsDate, ValueIsEMailAddress, ValueIsEmptyString, ValueIsError, ValueIsFiniteNumber, ValueIsFunction, ValueIsInstanceOf, ValueIsInteger, ValueIsIntegerInRange, ValueIsList, ValueIsListSatisfying, ValueIsMissing, ValueIsNaN, ValueIsNamedFunction, ValueIsNativeFunction, ValueIsNonEmptyString, ValueIsNumber, ValueIsNumberInRange, ValueIsObject, ValueIsOneOf, ValueIsOrdinal, ValueIsPlainObject, ValueIsPromise, ValueIsRegExp, ValueIsScriptedFunction, ValueIsString, ValueIsStringMatching, ValueIsText, ValueIsTextline, ValueIsURL, ValueIsVanillaObject, ValuesAreEqual, ValuesDiffer, acceptNil, allowAnonymousFunction, allowArray, allowBoolean, allowCardinal, allowColor, allowDate, allowEMailAddress, allowError, allowFiniteNumber, allowFunction, allowInstanceOf, allowInteger, allowIntegerInRange, allowList, allowListSatisfying, allowNaN, allowNamedFunction, allowNativeFunction, allowNonEmptyString, allowNumber, allowNumberInRange, allowObject, allowOneOf, allowOrdinal, allowPlainObject, allowPromise, allowRegExp, allowScriptedFunction, allowString, allowStringMatching, allowText, allowTextline, allowURL, allowValueInheritingFrom, allowVanillaObject, allowedAnonymousFunction, allowedArray, allowedBoolean, allowedCardinal, allowedColor, allowedDate, allowedEMailAddress, allowedError, allowedFiniteNumber, allowedFunction, allowedInstanceOf, allowedInteger, allowedIntegerInRange, allowedList, allowedListSatisfying, allowedNaN, allowedNamedFunction, allowedNativeFunction, allowedNonEmptyString, allowedNumber, allowedNumberInRange, allowedObject, allowedOneOf, allowedOrdinal, allowedPlainObject, allowedPromise, allowedRegExp, allowedScriptedFunction, allowedString, allowedStringMatching, allowedText, allowedTextline, allowedURL, allowedValueInheritingFrom, allowedVanillaObject, constrained, escaped, expectAnonymousFunction, expectArray, expectBoolean, expectCardinal, expectColor, expectDate, expectEMailAddress, expectError, expectFiniteNumber, expectFunction, expectInstanceOf, expectInteger, expectIntegerInRange, expectList, expectListSatisfying, expectNaN, expectNamedFunction, expectNativeFunction, expectNonEmptyString, expectNumber, expectNumberInRange, expectObject, expectOneOf, expectOrdinal, expectPlainObject, expectPromise, expectRegExp, expectScriptedFunction, expectString, expectStringMatching, expectText, expectTextline, expectURL, expectValue, expectValueInheritingFrom, expectVanillaObject, expectedAnonymousFunction, expectedArray, expectedBoolean, expectedCardinal, expectedColor, expectedDate, expectedEMailAddress, expectedError, expectedFiniteNumber, expectedFunction, expectedInstanceOf, expectedInteger, expectedIntegerInRange, expectedList, expectedListSatisfying, expectedNaN, expectedNamedFunction, expectedNativeFunction, expectedNonEmptyString, expectedNumber, expectedNumberInRange, expectedObject, expectedOneOf, expectedOrdinal, expectedPlainObject, expectedPromise, expectedRegExp, expectedScriptedFunction, expectedString, expectedStringMatching, expectedText, expectedTextline, expectedURL, expectedValue, expectedValueInheritingFrom, expectedVanillaObject, global, quotable, quoted, rejectNil, shortHexColor, throwError, unescaped, validatedArgument };\n//# sourceMappingURL=javascript-interface-library.esm.js.map\n","var n,l,u,t,i,o,r,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function v(n,l){for(var u in l)n[u]=l[u];return n}function p(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,t){var i,o,r,f={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return d(l,f,i,o,null)}function d(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++u:r,__i:-1,__u:0};return null==r&&null!=l.vnode&&l.vnode(f),f}function _(){return{current:null}}function g(n){return n.children}function b(n,l){this.props=n,this.context=l}function m(n,l){if(null==l)return n.__?m(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?m(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function w(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!x.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(x)}function x(){var n,u,t,o,r,e,c,s,a;for(i.sort(f);n=i.shift();)n.__d&&(u=i.length,o=void 0,e=(r=(t=n).__v).__e,s=[],a=[],(c=t.__P)&&((o=v({},r)).__v=r.__v+1,l.vnode&&l.vnode(o),L(c,o,r,t.__n,void 0!==c.ownerSVGElement,32&r.__u?[e]:null,s,null==e?m(r):e,!!(32&r.__u),a),o.__.__k[o.__i]=o,M(s,o,a),o.__e!=e&&k(o)),i.length>u&&i.sort(f));x.__r=0}function C(n,l,u,t,i,o,r,f,e,a,h){var v,p,y,d,_,g=t&&t.__k||s,b=l.length;for(u.__d=e,P(u,l,g),e=u.__d,v=0;v<b;v++)null!=(y=u.__k[v])&&\"boolean\"!=typeof y&&\"function\"!=typeof y&&(p=-1===y.__i?c:g[y.__i]||c,y.__i=v,L(n,y,p,i,o,r,f,e,a,h),d=y.__e,y.ref&&p.ref!=y.ref&&(p.ref&&z(p.ref,null,y),h.push(y.ref,y.__c||d,y)),null==_&&null!=d&&(_=d),65536&y.__u||p.__k===y.__k?e=S(y,e,n):\"function\"==typeof y.type&&void 0!==y.__d?e=y.__d:d&&(e=d.nextSibling),y.__d=void 0,y.__u&=-196609);u.__d=e,u.__e=_}function P(n,l,u){var t,i,o,r,f,e=l.length,c=u.length,s=c,a=0;for(n.__k=[],t=0;t<e;t++)null!=(i=n.__k[t]=null==(i=l[t])||\"boolean\"==typeof i||\"function\"==typeof i?null:\"string\"==typeof i||\"number\"==typeof i||\"bigint\"==typeof i||i.constructor==String?d(null,i,null,null,i):h(i)?d(g,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?d(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=n,i.__b=n.__b+1,f=H(i,u,r=t+a,s),i.__i=f,o=null,-1!==f&&(s--,(o=u[f])&&(o.__u|=131072)),null==o||null===o.__v?(-1==f&&a--,\"function\"!=typeof i.type&&(i.__u|=65536)):f!==r&&(f===r+1?a++:f>r?s>e-r?a+=f-r:a--:a=f<r&&f==r-1?f-r:0,f!==t+a&&(i.__u|=65536))):(o=u[t])&&null==o.key&&o.__e&&(o.__e==n.__d&&(n.__d=m(o)),N(o,o,!1),u[t]=null,s--);if(s)for(t=0;t<c;t++)null!=(o=u[t])&&0==(131072&o.__u)&&(o.__e==n.__d&&(n.__d=m(o)),N(o,o))}function S(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=S(t[i],l,u));return l}return n.__e!=l&&(u.insertBefore(n.__e,l||null),l=n.__e),l&&l.nextSibling}function $(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(h(n)?n.some(function(n){$(n,l)}):l.push(n)),l}function H(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type)return u;if(t>(null!=e&&0==(131072&e.__u)?1:0))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return r;r--}if(f<l.length){if((e=l[f])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return f;f++}}return-1}function I(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function T(n,l,u,t,i){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||I(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||I(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/,\"$1\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=Date.now(),n.addEventListener(l,o?D:A,o)):n.removeEventListener(l,o?D:A,o);else{if(i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&\"rowSpan\"!==l&&\"colSpan\"!==l&&\"role\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function A(n){var u=this.l[n.type+!1];if(n.t){if(n.t<=u.u)return}else n.t=Date.now();return u(l.event?l.event(n):n)}function D(n){return this.l[n.type+!0](l.event?l.event(n):n)}function L(n,u,t,i,o,r,f,e,c,s){var a,p,y,d,_,m,k,w,x,P,S,$,H,I,T,A=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[e=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof A)try{if(w=u.props,x=(a=A.contextType)&&i[a.__c],P=a?x?x.props.value:a.__:i,t.__c?k=(p=u.__c=t.__c).__=p.__E:(\"prototype\"in A&&A.prototype.render?u.__c=p=new A(w,P):(u.__c=p=new b(w,P),p.constructor=A,p.render=O),x&&x.sub(p),p.props=w,p.state||(p.state={}),p.context=P,p.__n=i,y=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=A.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=v({},p.__s)),v(p.__s,A.getDerivedStateFromProps(w,p.__s))),d=p.props,_=p.state,p.__v=u,y)null==A.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==A.getDerivedStateFromProps&&w!==d&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(w,P),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(w,p.__s,P)||u.__v===t.__v)){for(u.__v!==t.__v&&(p.props=w,p.state=p.__s,p.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.forEach(function(n){n&&(n.__=u)}),S=0;S<p._sb.length;S++)p.__h.push(p._sb[S]);p._sb=[],p.__h.length&&f.push(p);break n}null!=p.componentWillUpdate&&p.componentWillUpdate(w,p.__s,P),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(d,_,m)})}if(p.context=P,p.props=w,p.__P=n,p.__e=!1,$=l.__r,H=0,\"prototype\"in A&&A.prototype.render){for(p.state=p.__s,p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),I=0;I<p._sb.length;I++)p.__h.push(p._sb[I]);p._sb=[]}else do{p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++H<25);p.state=p.__s,null!=p.getChildContext&&(i=v(v({},i),p.getChildContext())),y||null==p.getSnapshotBeforeUpdate||(m=p.getSnapshotBeforeUpdate(d,_)),C(n,h(T=null!=a&&a.type===g&&null==a.key?a.props.children:a)?T:[T],u,t,i,o,r,f,e,c,s),p.base=u.__e,u.__u&=-161,p.__h.length&&f.push(p),k&&(p.__E=p.__=null)}catch(n){u.__v=null,c||null!=r?(u.__e=e,u.__u|=c?160:32,r[r.indexOf(e)]=null):(u.__e=t.__e,u.__k=t.__k),l.__e(n,u,t)}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=j(t.__e,u,t,i,o,r,f,c,s);(a=l.diffed)&&a(u)}function M(n,u,t){u.__d=void 0;for(var i=0;i<t.length;i++)z(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function j(l,u,t,i,o,r,f,e,s){var a,v,y,d,_,g,b,k=t.props,w=u.props,x=u.type;if(\"svg\"===x&&(o=!0),null!=r)for(a=0;a<r.length;a++)if((_=r[a])&&\"setAttribute\"in _==!!x&&(x?_.localName===x:3===_.nodeType)){l=_,r[a]=null;break}if(null==l){if(null===x)return document.createTextNode(w);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",x):document.createElement(x,w.is&&w),r=null,e=!1}if(null===x)k===w||e&&l.data===w||(l.data=w);else{if(r=r&&n.call(l.childNodes),k=t.props||c,!e&&null!=r)for(k={},a=0;a<l.attributes.length;a++)k[(_=l.attributes[a]).name]=_.value;for(a in k)_=k[a],\"children\"==a||(\"dangerouslySetInnerHTML\"==a?y=_:\"key\"===a||a in w||T(l,a,null,_,o));for(a in w)_=w[a],\"children\"==a?d=_:\"dangerouslySetInnerHTML\"==a?v=_:\"value\"==a?g=_:\"checked\"==a?b=_:\"key\"===a||e&&\"function\"!=typeof _||k[a]===_||T(l,a,_,k[a],o);if(v)e||y&&(v.__html===y.__html||v.__html===l.innerHTML)||(l.innerHTML=v.__html),u.__k=[];else if(y&&(l.innerHTML=\"\"),C(l,h(d)?d:[d],u,t,i,o&&\"foreignObject\"!==x,r,f,r?r[0]:t.__k&&m(t,0),e,s),null!=r)for(a=r.length;a--;)null!=r[a]&&p(r[a]);e||(a=\"value\",void 0!==g&&(g!==l[a]||\"progress\"===x&&!g||\"option\"===x&&g!==k[a])&&T(l,a,g,k[a],!1),a=\"checked\",void 0!==b&&b!==l[a]&&T(l,a,b,k[a],!1))}return l}function z(n,u,t){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,t)}}function N(n,u,t){var i,o;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||z(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&N(i[o],u,t||\"function\"!=typeof n.type);t||null==n.__e||p(n.__e),n.__=n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function q(u,t,i){var o,r,f,e;l.__&&l.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,f=[],e=[],L(t,u=(!o&&i||t).__k=y(g,null,[u]),r||c,c,void 0!==t.ownerSVGElement,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,f,!o&&i?i:r?r.__e:t.firstChild,o,e),M(f,u,e)}function B(n,l){q(n,l,B)}function E(l,u,t){var i,o,r,f,e=v({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),d(l.type,e,i||l.key,o||l.ref,null)}function F(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,t;return this.getChildContext||(u=[],(t={})[l]=this,this.getChildContext=function(){return t},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,w(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},b.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),\"function\"==typeof n&&(n=n(v({},u),this.props)),n&&v(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),w(this))},b.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),w(this))},b.prototype.render=g,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},x.__r=0,e=0;export{b as Component,g as Fragment,E as cloneElement,F as createContext,y as createElement,_ as createRef,y as h,B as hydrate,t as isValidElement,l as options,q as render,$ as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","var n=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var p=s[h++],a=s[h]?(s[0]|=p?1:2,r[s[h++]]):s[++h];3===p?e[0]=a:4===p?e[1]=Object.assign(e[1]||{},a):5===p?(e[1]=e[1]||{})[s[++h]]=a:6===p?e[1][s[++h]]+=a+\"\":p?(u=t.apply(a,n(t,a,r,[\"\",null])),e.push(u),a[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(a)}return e},t=new Map;export default function(s){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(s)||(r.set(s,r=function(n){for(var t,s,r=1,e=\"\",u=\"\",h=[0],p=function(n){1===r&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?h.push(0,n,e):3===r&&(n||e)?(h.push(3,n,e),r=2):2===r&&\"...\"===e&&n?h.push(4,n,0):2===r&&e&&!n?h.push(5,0,!0,e):r>=5&&((e||!n&&5===r)&&(h.push(r,0,e,s),r=6),n&&(h.push(r,n,0,s),r=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===r&&p(),p(a));for(var l=0;l<n[a].length;l++)t=n[a][l],1===r?\"<\"===t?(p(),h=[h],r=3):e+=t:4===r?\"--\"===e&&\">\"===t?(r=1,e=\"\"):e=t+e[0]:u?t===u?u=\"\":e+=t:'\"'===t||\"'\"===t?u=t:\">\"===t?(p(),r=1):r&&(\"=\"===t?(r=5,s=e,e=\"\"):\"/\"===t&&(r<5||\">\"===n[a][l+1])?(p(),3===r&&(h=h[0]),r=h,(h=h[0]).push(2,0,r),r=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(p(),r=2):e+=t),3===r&&\"!--\"===e&&(r=4,h=h[0])}return p(),h}(s)),r),arguments,[])).length>1?r:r[0]}\n","import{h as r,Component as o,render as t}from\"preact\";export{h,render,Component}from\"preact\";import e from\"htm\";var m=e.bind(r);export{m as html};\n","const BIND_IGNORED = [\n  'String',\n  'Number',\n  'Object',\n  'Array',\n  'Boolean',\n  'Date'\n]\n\nexport function isObj(object) { return object && typeof object === 'object' }\nexport function setHiddenKey(object, key, value) {\n  Object.defineProperty(object, key, { value, enumerable: false, configurable: true })\n}\nexport function defineBubblingProperties(object, key, parent) {\n  setHiddenKey(object, '__key', key)\n  setHiddenKey(object, '__parent', parent)\n}\nexport function getInstanceMethodKeys(object) {\n  return (\n    Object\n      .getOwnPropertyNames(object)\n      .concat(\n        Object.getPrototypeOf(object) &&\n                BIND_IGNORED.indexOf(Object.getPrototypeOf(object).constructor.name) < 0 ?\n          Object.getOwnPropertyNames(Object.getPrototypeOf(object)) :\n          []\n      )\n      .filter(prop => prop !== 'constructor' && typeof object[prop] === 'function')\n  )\n}\n","export const data = {\n  computedStack: [],\n  trackerSymbol: Symbol('tracker')\n}\n","let queue = null\nexport const __batched = Symbol()\n\n/**\n * Will perform batched computations instantly.\n */\nexport function process() {\n  if(!queue)\n    return\n  for(const task of queue) {\n    task()\n    task[__batched] = false\n  }\n  queue = null\n}\n\nexport function enqueue(task, batch) {\n  if(task[__batched])\n    return\n  if(queue === null) {\n    queue = []\n    if(batch === true) {\n      queueMicrotask(process)\n    } else {\n      setTimeout(process, batch)\n    }\n  }\n  queue.push(task)\n}\n\n","import {\n  isObj,\n  defineBubblingProperties,\n  getInstanceMethodKeys,\n  setHiddenKey\n} from './tools.js'\nimport { data } from './data.js'\nimport { enqueue, __batched } from './batcher.js'\n\nconst { computedStack, trackerSymbol } = data\n\nconst observedSymbol = Symbol('__observed')\n\n/**\n * @typedef {Object} Options - Observe options.\n * @property {string[]} [props] - Observe only the properties listed.\n * @property {string[]} [ignore] - Ignore the properties listed.\n * @property {boolean | number} [batch] -\n *  Batch computed properties calls, wrapping them in a queueMicrotask and\n *  executing them in a new context and preventing excessive calls.\n *  If batch is an integer, the calls will be debounced by the value in milliseconds using setTimemout.\n * @prop {boolean} [deep] - Recursively observe nested objects and when setting new properties.\n * @prop {boolean} [bind] - Automatically bind methods to the observed object.\n */\n\n/**\n * Observes an object or an array and returns a proxified version which reacts on mutations.\n *\n * @template O\n * @param {O} obj - The object to observe.\n * @param {Options} options - Options\n * @returns {O} - A proxy wrapping the object.\n */\nexport function observe(obj, options = {}) {\n  // 'deep' is slower but reasonable; 'shallow' a performance enhancement but with side-effects\n  const {\n    props,\n    ignore,\n    batch,\n    deep = true,\n    bubble,\n    bind\n  } = options\n\n  // Ignore if the object is already observed\n  if(obj[observedSymbol]) {\n    return obj\n  }\n\n  // If the prop is explicitely not excluded\n  const isWatched = (prop, value) =>\n    prop !== observedSymbol &&\n    (\n      !props ||\n            props instanceof Array && props.includes(prop) ||\n            typeof props === 'function' && props(prop, value)\n    ) && (\n      !ignore ||\n            !(ignore instanceof Array && ignore.includes(prop)) &&\n            !(typeof ignore === 'function' && ignore(prop, value))\n    )\n\n  // If the deep flag is set, observe nested objects/arrays\n  if(deep) {\n    Object.entries(obj).forEach(function([key, val]) {\n      if(isObj(val) && isWatched(key, val)) {\n        obj[key] = observe(val, options)\n        // If bubble is set, we add keys to the object used to bubble up the mutation\n        if(bubble) {\n          defineBubblingProperties(obj[key], key, obj)\n        }\n      }\n    })\n  }\n\n  // For each observed object, each property is mapped with a set of computed functions depending on this property.\n  // Whenever a property is set, we re-run each one of the functions stored inside the matching Set.\n  const propertiesMap = new Map()\n\n  // Proxify the object in order to intercept get/set on props\n  const proxy = new Proxy(obj, {\n    get(_, prop) {\n      if(prop === observedSymbol)\n        return true\n\n      // If the prop is watched\n      if(isWatched(prop, obj[prop])) {\n        // If a computed function is being run\n        if(computedStack.length) {\n          const computedFn = computedStack[0]\n          // Tracks object and properties accessed during the function call\n          const tracker = computedFn[trackerSymbol]\n          if(tracker) {\n            let trackerSet = tracker.get(obj)\n            if(!trackerSet) {\n              trackerSet = new Set()\n              tracker.set(obj, trackerSet)\n            }\n            trackerSet.add(prop)\n          }\n          // Link the computed function and the property being accessed\n          let propertiesSet = propertiesMap.get(prop)\n          if(!propertiesSet) {\n            propertiesSet = new Set()\n            propertiesMap.set(prop, propertiesSet)\n          }\n          propertiesSet.add(computedFn)\n        }\n      }\n\n      return obj[prop]\n    },\n    set(_, prop, value) {\n      if(prop === '__handler') {\n        // Don't track bubble handlers\n        setHiddenKey(obj, '__handler', value)\n      } else if(!isWatched(prop, value)) {\n        // If the prop is ignored\n        obj[prop] = value\n      } else if(Array.isArray(obj) && prop === 'length' || obj[prop] !== value) {\n        // If the new/old value are not equal\n        const deeper = deep && isObj(value)\n\n        // Remove bubbling infrastructure and pass old value to handlers\n        const oldValue = obj[prop]\n        if(isObj(oldValue))\n          delete obj[prop]\n\n        // If the deep flag is set we observe the newly set value\n        obj[prop] = deeper ? observe(value, options) : value\n\n        // Co-opt assigned object into bubbling if appropriate\n        if(deeper && bubble) {\n          defineBubblingProperties(obj[prop], prop, obj)\n        }\n\n        const ancestry = [ prop ]\n        let parent = obj\n        while(parent) {\n          // If a handler explicitly returns 'false' then stop propagation\n          if(parent.__handler && parent.__handler(ancestry, value, oldValue, proxy) === false) {\n            break\n          }\n          // Continue propagation, traversing the mutated property's object hierarchy & call any __handlers along the way\n          if(parent.__key && parent.__parent) {\n            ancestry.unshift(parent.__key)\n            parent = parent.__parent\n          } else {\n            parent = null\n          }\n        }\n\n        const dependents = propertiesMap.get(prop)\n        if(dependents) {\n          // Retrieve the computed functions depending on the prop\n          for(const dependent of dependents) {\n            const tracker = dependent[trackerSymbol]\n            const trackedObj = tracker && tracker.get(obj)\n            const tracked = trackedObj && trackedObj.has(prop)\n            // If the function has been disposed or if the prop has not been used\n            // during the latest function call, delete the function reference\n            if(dependent.__disposed || tracker && !tracked) {\n              dependents.delete(dependent)\n            } else if(dependent !== computedStack[0]) {\n              // Run the computed function\n              if(typeof batch !== 'undefined' && batch !== false) {\n                enqueue(dependent, batch)\n                dependent[__batched] = true\n              } else {\n                dependent()\n              }\n            }\n          }\n        }\n      }\n\n      return true\n    }\n  })\n\n  if(bind) {\n    // Need this for binding es6 classes methods which are stored in the object prototype\n    getInstanceMethodKeys(obj).forEach(key => obj[key] = obj[key].bind(proxy))\n  }\n\n  return proxy\n}\n","import { data } from './data.js'\nconst { computedStack, trackerSymbol } = data\n\n/**\n * @typedef {Object} ComputedArguments - Computed Arguments.\n * @property {(fun: () => void) => void} computeAsync -\n * Will monitor the dependencies of the function passed as an argument. Useful when dealing with asynchronous computations.\n */\n\n/**\n * @typedef {Object} Options - Computed Options.\n * @property {boolean} [autoRun] -\n * If false, will not run the function argument when calling computed(function).\n * The computed function must be called **at least once** to calculate its dependencies.\n * @property {() => void} [callback] -\n * Specify a callback that will be re-runned each time a dependency changes instead of the computed function.\n */\n\n/**\n * Wraps a function and captures observed properties which are accessed during the function execution.\n * When those properties are mutated, the function is called to reflect the changes.\n *\n * @param {(args: ComputedArguments) => void} wrappedFunction\n * @param {Options} options\n */\nexport function computed(wrappedFunction, { autoRun = true, callback, bind, disableTracking = false } = {}) {\n  function observeComputation(fun, argsList = []) {\n    const target = callback || wrapper\n    // Track object and object properties accessed during this function call\n    if(!disableTracking) {\n      target[trackerSymbol] = new WeakMap()\n    }\n    // Store into the stack a reference to the computed function\n    computedStack.unshift(target)\n    // Inject the computeAsync argument which is used to manually declare when the computation takes part\n    if(argsList.length > 0) {\n      argsList = [...argsList, computeAsyncArg]\n    } else {\n      argsList = [computeAsyncArg]\n    }\n    // Run the computed function - or the async function\n    const result =\n      fun ? fun() :\n      bind ? wrappedFunction.apply(bind, argsList) :\n      wrappedFunction(...argsList)\n    // Remove the reference\n    computedStack.shift()\n    // Return the result\n    return result\n  }\n  const computeAsyncArg = { computeAsync: observeComputation }\n  const wrapper = (...argsList) => observeComputation(null, argsList)\n\n  // If autoRun, then call the function at once\n  if(autoRun) {\n    wrapper()\n  }\n\n  return wrapper\n}\n","import { observe } from './observe.js'\nimport { computed } from './computed.js'\nimport { dispose } from './dispose.js'\nimport { process } from './batcher.js'\n\nexport default {\n  observe,\n  computed,\n  dispose,\n  batch: process\n}\n","/*******************************************************************************\n*                                                                              *\n*           Reactive Scriptable Components (RSC, pronounced \"resc\")            *\n*                                                                              *\n*******************************************************************************/\n\nimport * as JIL from 'javascript-interface-library'\n\nimport {\n  throwError,\n  quoted,\n  ObjectIsEmpty,\n  ValueIsBoolean,\n  ValueIsNumber, ValueIsNumberInRange, ValueIsInteger, ValueIsIntegerInRange,\n  ValueIsString, ValueIsStringMatching, ValueIsTextline, ValueIsText,\n  ValueIsFunction,\n  ValueIsObject, ValueIsArray,\n  ValueIsListSatisfying,\n  ValueIsURL,\n  ValidatorForClassifier, acceptNil, rejectNil,\n  expectTextline, expectedTextline,\n  expectFunction,\n  allowListSatisfying,\n  expectInstanceOf,\n} from 'javascript-interface-library'\n\nimport { render, html, Component } from 'htm/preact'\n\nimport hyperactiv from 'hyperactiv'\nconst { observe, computed, dispose } = hyperactiv\n\n/**** hide all undefined custom elements (to avoid initial flashing) ****/\n\n  const Stylesheet = document.createElement('style')\n    Stylesheet.innerHTML = ':not(:defined) { visibility:hidden }'\n  document.head.appendChild(Stylesheet)\n\n/**** make some existing types indexable ****/\n\n  interface Indexable { [Key:string]:any }\n\n  type indexableFunction    = Function    & Indexable\n  type indexableElement     = Element     & Indexable\n  type indexableHTMLElement = HTMLElement & Indexable\n  type indexableEvent       = Event       & Indexable\n\nnamespace RSC {\n//------------------------------------------------------------------------------\n//--                             Type Definitions                             --\n//------------------------------------------------------------------------------\n\n  export type Textline = string              // mainly for illustrative purposes\n  export type Text     = string                                          // dto.\n  export type URL      = string                                          // dto.\n\n  export type RSC_Name = string                                          // dto.\n\n/**** throwReadOnlyError ****/\n\n  export function throwReadOnlyError (Name:string):never {\n    throwError(\n      'ReadOnlyProperty: property ' + quoted(Name) + ' must not be set'\n    )\n  }\n\n//------------------------------------------------------------------------------\n//--                 Classification and Validation Functions                  --\n//------------------------------------------------------------------------------\n\n/**** ValueIsDOMElement ****/\n\n  export function ValueIsDOMElement (Value:any):boolean {\n    return (Value instanceof Element)\n  }\n\n/**** allow/expect[ed]DOMElement ****/\n\n  export const allowDOMElement = ValidatorForClassifier(\n    ValueIsDOMElement, acceptNil, 'DOM element'\n  ), allowedDOMElement = allowDOMElement\n\n  export const expectDOMElement = ValidatorForClassifier(\n    ValueIsDOMElement, rejectNil, 'DOM element'\n  ), expectedDOMElement = expectDOMElement\n\n/**** ValueIsVisual ****/\n\n  export function ValueIsVisual (Value:any):boolean {\n    return (Value instanceof RSC_Visual)\n  }\n\n/**** allow/expect[ed]Visual ****/\n\n  export const allowVisual = ValidatorForClassifier(\n    ValueIsVisual, acceptNil, 'RSC visual'\n  ), allowedVisual = allowVisual\n\n  export const expectVisual = ValidatorForClassifier(\n    ValueIsVisual, rejectNil, 'RSC visual'\n  ), expectedVisual = expectVisual\n\n/**** ValueIsName ****/\n\n  const RSC_NamePattern = /^[a-z$_][a-z$_0-9]*(-[a-z$_0-9]+)*$/i\n\n  export function ValueIsName (Value:any):boolean {\n    return ValueIsStringMatching(Value, RSC_NamePattern)\n  }\n\n/**** allow/expect[ed]Name ****/\n\n  export const allowName = ValidatorForClassifier(\n    ValueIsName, acceptNil, 'RSC name'\n  ), allowedName = allowName\n\n  export const expectName = ValidatorForClassifier(\n    ValueIsName, rejectNil, 'RSC name'\n  ), expectedName = expectName\n\n/**** ValueIsErrorInfo ****/\n\n  export function ValueIsErrorInfo (Value:any):boolean {\n    return (\n      ValueIsObject(Value) &&\n      ValueIsTextline(Value.Title) &&\n      ValueIsText(Value.Message)\n    )\n  }\n\n/**** allow/expect[ed]ErrorInfo ****/\n\n  export const allowErrorInfo = ValidatorForClassifier(\n    ValueIsErrorInfo, acceptNil, 'RSC error information record'\n  ), allowedErrorInfo = allowErrorInfo\n\n  export const expectErrorInfo = ValidatorForClassifier(\n    ValueIsErrorInfo, rejectNil, 'RSC error information record'\n  ), expectedErrorInfo = expectErrorInfo\n\n//------------------------------------------------------------------------------\n//--                        Value Acceptance Functions                        --\n//------------------------------------------------------------------------------\n\n/**** acceptableBoolean ****/\n\n  export function acceptableBoolean (Value:any, Default:boolean):boolean {\n    return (ValueIsBoolean(Value) ? Value : Default)\n  }\n\n/**** acceptableNumber ****/\n\n  export function acceptableNumber (Value:any, Default:number) {\n    return (ValueIsNumber(Value) ? Value : Default)\n  }\n\n/**** acceptableNumberInRange ****/\n\n  export function acceptableNumberInRange (\n    Value:any, Default:number,\n    minValue:number = -Infinity, maxValue:number = Infinity,\n    withMin:boolean = false, withMax:boolean = false\n  ) {\n    return (\n      ValueIsNumberInRange(Value,minValue,maxValue,withMin,withMax) ? Value : Default\n    )\n  }\n\n/**** acceptableInteger ****/\n\n  export function acceptableInteger (Value:any, Default:number) {\n    return (ValueIsInteger(Value) ? Value : Default)\n  }\n\n/**** acceptableIntegerInRange ****/\n\n  export function acceptableIntegerInRange (\n    Value:any, Default:number,\n    minValue:number = -Infinity, maxValue:number = Infinity\n  ) {\n    return (ValueIsIntegerInRange(Value,minValue,maxValue) ? Value : Default)\n  }\n\n/**** acceptableString ****/\n\n  export function acceptableString (Value:any, Default:string) {\n    return (ValueIsString(Value) ? Value : Default)\n  }\n\n/**** acceptableNonEmptyString ****/\n\n  export function acceptableNonEmptyString (Value:any, Default:string) {\n    return (ValueIsString(Value) && (Value.trim() !== '') ? Value : Default)\n  }\n\n/**** acceptableStringMatching ****/\n\n  export function acceptableStringMatching (\n    Value:any, Default:string, Pattern:RegExp\n  ) {\n    return (ValueIsStringMatching(Value,Pattern) ? Value : Default)\n  }\n\n/**** acceptableURL ****/\n\n  export function acceptableURL (Value:any, Default:URL):URL {\n    return (ValueIsURL(Value) ? Value : Default)\n  }\n\n//------------------------------------------------------------------------------\n//--                      Initialization Marker Handling                      --\n//------------------------------------------------------------------------------\n\n  const InitializationMarkerForVisual:WeakMap<RSC_Visual,boolean> = new WeakMap()\n\n/**** VisualWasInitialized ****/\n\n  function VisualWasInitialized (Visual:RSC_Visual):boolean {\n    return (InitializationMarkerForVisual.get(Visual) === true)\n  }\n\n/**** markVisualAsInitialized ****/\n\n  function markVisualAsInitialized (Visual:RSC_Visual):void {\n    InitializationMarkerForVisual.set(Visual,true)\n  }\n\n//------------------------------------------------------------------------------\n//--                           Containment Handling                           --\n//------------------------------------------------------------------------------\n\n/**** outerVisualOf ****/\n\n  export function outerVisualOf (DOMElement:HTMLElement):RSC_Visual|undefined {\n    expectDOMElement('element',DOMElement)\n\n    DOMElement = DOMElement.parentElement as HTMLElement\n    while (DOMElement != null) {\n      if (ValueIsVisual(DOMElement)) {\n        return DOMElement as RSC_Visual\n      }\n      DOMElement = DOMElement.parentElement as HTMLElement\n    }\n\n    return undefined\n  }\n\n  export const VisualContaining = outerVisualOf\n\n/**** outermostVisualOf ****/\n\n  export function outermostVisualOf (DOMElement:HTMLElement):RSC_Visual|undefined {\n    expectDOMElement('element',DOMElement)\n\n    let outermostVisual:RSC_Visual|undefined = undefined\n      DOMElement = DOMElement.parentElement as HTMLElement\n      while (DOMElement != null) {\n        if (ValueIsVisual(DOMElement)) {\n          outermostVisual = DOMElement as RSC_Visual\n        }\n        DOMElement = DOMElement.parentElement as HTMLElement\n      }\n    return outermostVisual\n  }\n\n/**** closestVisualWithBehaviour ****/\n\n  export function closestVisualWithBehaviour (\n    DOMElement:HTMLElement, BehaviourName:RSC_Name\n  ):RSC_Visual|undefined {\n    expectDOMElement ('element',DOMElement)\n    expectName('behaviour name',BehaviourName)\n\n    const normalizedName = BehaviourName.toLowerCase()\n    while (DOMElement != null) {\n      if (\n        ValueIsVisual(DOMElement) &&\n        ((BehaviourNameOfVisual(DOMElement as RSC_Visual) || '').toLowerCase() === normalizedName)\n      ) {\n        return DOMElement as RSC_Visual\n      }\n      DOMElement = outerVisualOf(DOMElement) as HTMLElement\n    }\n    return undefined\n  }\n\n/**** closestVisualMatching ****/\n\n  export function closestVisualMatching (\n    DOMElement:HTMLElement, Selector:Textline\n  ):RSC_Visual|undefined {\n    expectDOMElement   ('element',DOMElement)\n    expectTextline('CSS selector',Selector)\n\n    while (DOMElement != null) {\n      if (ValueIsVisual(DOMElement) && DOMElement.matches(Selector)) {\n        return DOMElement as RSC_Visual\n      }\n      DOMElement = outerVisualOf(DOMElement) as HTMLElement\n    }\n    return undefined\n  }\n\n/**** innerElementsOf ****/\n\n  function innerElementsOf (DOMElement:HTMLElement):Element[] {\n    return Array.from(DOMElement.children)\n  }\n\n/**** innerVisualsOf ****/\n\n  export function innerVisualsOf (DOMElement:HTMLElement):RSC_Visual[] {\n    expectDOMElement('element',DOMElement)\n\n    const innerVisuals = Array.from(DOMElement.children)\n      .filter((innerElement) => ValueIsVisual(innerElement))\n    return innerVisuals as RSC_Visual[]\n  }\n\n//------------------------------------------------------------------------------\n//--                           Behaviour Management                           --\n//------------------------------------------------------------------------------\n\n  type RSC_BehaviourInfo = {\n    Name:RSC_Name,\n    AttributeSet:{[normalizedName:RSC_Name]:RSC_Name},\n    Source?:Text,\n    Executable?:Function,\n    Error?:RSC_ErrorInfo\n  }\n\n  type RSC_BehaviourRegistry = {\n    [normalizedName:RSC_Name]:RSC_BehaviourInfo\n  }\n\n/**** Behaviours are global ****/\n\n  const BehaviourRegistry:RSC_BehaviourRegistry = Object.create(null)\n\n/**** InfoForBehaviour ****/\n\n  function InfoForBehaviour (Name:RSC_Name):RSC_BehaviourInfo|undefined {\n    return BehaviourRegistry[Name.toLowerCase()]\n  }\n\n/**** registerBehaviour ****/\n\n  function registerBehaviour (\n    Name:RSC_Name, SourceOrExecutable:Text|Function,\n    observedAttributes:RSC_Name[] = []\n  ):void {\n    let normalizedName = Name.toLowerCase()\n\n    allowListSatisfying(\n      'list of observed element attributes', observedAttributes, ValueIsName\n    )\n\n    const AttributeSet = Object.create(null)\n    if (observedAttributes != null) {\n      observedAttributes.forEach(\n        (Name) => AttributeSet[Name.toLowerCase()] = Name\n      )\n      observedAttributes = observedAttributes.map((Name) => Name.toLowerCase())\n    }\n\n    if (ValueIsFunction(SourceOrExecutable)) {\n      BehaviourRegistry[normalizedName] = {\n        Name, AttributeSet, Executable:SourceOrExecutable as Function\n      }\n    } else {\n      if (normalizedName in BehaviourRegistry) {\n        const BehaviourInfo = BehaviourRegistry[normalizedName]\n        if (BehaviourInfo.Source == null) throwError(\n          'ForbiddenOperation: cannot overwrite intrinsic behaviour ' + quoted(Name)\n        )\n\n        if (BehaviourInfo.Source.trim() !== (SourceOrExecutable as Text).trim()) throwError(\n          'ForbiddenOperation: cannot overwrite existing behaviour ' + quoted(Name)\n        )\n      } else {\n        let Source = SourceOrExecutable as Text\n\n        let Executable:Function\n        try {\n          Executable = compiledScript(Source)\n        } catch (Signal) {\n          console.error(\n            `CompilationError: compilation of behaviour ${quoted(Name)} failed. ` +\n            'Reason: ' + Signal\n          )\n\n          BehaviourRegistry[normalizedName] = {\n            Name, AttributeSet, Source, Error:{\n              Title:'Compilation Failure',\n              Message:`Compilation of behaviour ${quoted(Name)} failed.\\n\\n` +\n                'Reason:' + Signal\n            }\n          }\n          return\n        }\n\n        BehaviourRegistry[normalizedName] = {\n          Name, AttributeSet, Source, Executable\n        }\n      }\n    }\n\n  /**** install a custom element for the given behaviour ****/\n\n    const customizedVisual = class extends RSC_Visual {\n      static observedAttributes:string[] = observedAttributes\n    }\n    customElements.define('rsc-' + normalizedName, customizedVisual)\n  }\n\n  BehaviourRegistry['visual'] = {\n    Name:'Visual', AttributeSet:{ value:'Value' }\n  }\n\n/**** registerBehaviourFromElement ****/\n\n  function registerBehaviourFromElement (ScriptElement:Element):void {\n    let Name = expectedName(\n      'behaviour name',ScriptElement.getAttribute('for-behaviour')\n    )\n    if (Name.toLowerCase() === 'visual') throwError(\n      'ReservedName: behaviour name \"visual\" is reserved for internal use'\n    )\n\n    let Source = ScriptElement.innerHTML\n\n    let observedAttributes:RSC_Name[] = (\n      (ScriptElement.getAttribute('observed-attributes') || '')\n      .split(/\\s*(?:,|$)\\s*/).filter((Name) => (Name || '').trim() !== '')\n    )\n    if (! ValueIsListSatisfying(observedAttributes,ValueIsName)) throwError(\n      'Invalidargument: attribute \"observed-attributes\" does not contain a ' +\n      'list of valid RSC attribute names'\n    )\n\n    registerBehaviour(Name,Source,observedAttributes)\n\n    permitVisualsWithinBehaviour(\n      Name, ScriptElement.getAttribute('permitted-contents') || ''\n    )\n\n    forbidVisualsWithinBehaviour(\n      Name, ScriptElement.getAttribute('fobidden-contents') || ''\n    )\n  }\n\n/**** registerAllBehavioursFoundInHead ****/\n\n  function registerAllBehavioursFoundInHead ():void {\n    innerElementsOf(document.head).forEach((Element) => {\n      if (Element.matches('script[type=\"rsc-script\"][for-behaviour]')) {\n        registerBehaviourFromElement(Element)\n      }\n    })\n  }\n\n/**** registerAllBehavioursFoundInVisual ****/\n\n  function registerAllBehavioursFoundInVisual (Visual:RSC_Visual):void {\n    innerElementsOf(Visual).forEach((Element) => {\n      if (Element.matches('script[type=\"rsc-script\"][for-behaviour]')) {\n        registerBehaviourFromElement(Element)\n      }\n    })\n  }\n\n//registerAllBehavioursFoundInHead()           // not yet, only after RSC_Visual\n\n/**** BehaviourNameOfVisual ****/\n\n  function BehaviourNameOfVisual (Visual:RSC_Visual):RSC_Name|undefined {\n    let BehaviourName = Visual.tagName.slice(4).toLowerCase()\n    if (BehaviourName === 'visual') {\n      BehaviourName = Visual.getAttribute('behaviour') as string\n      return (ValueIsName(BehaviourName) ? BehaviourName : 'visual')\n    } else {\n      return InfoForBehaviour(BehaviourName)?.Name || BehaviourName\n    }\n  }\n\n//------------------------------------------------------------------------------\n//--                    Content and Containment Validation                    --\n//------------------------------------------------------------------------------\n\n  type RSC_SelectorSet = {[BehaviourName:RSC_Name]:string}\n\n  const permittedVisualsSelectorWithinBehaviour:RSC_SelectorSet = Object.create(null)\n  const forbiddenVisualsSelectorWithinBehaviour:RSC_SelectorSet = Object.create(null)\n\n/**** permitVisualsWithinBehaviour ****/\n\n  function permitVisualsWithinBehaviour (\n    BehaviourName:RSC_Name, Selector:string\n  ):void {\n    Selector = Selector.trim()\n    if (Selector !== '') {\n      const normalizedBehaviourName = BehaviourName.toLowerCase()\n      permittedVisualsSelectorWithinBehaviour[normalizedBehaviourName] = Selector\n    }\n  }\n\n/**** forbidVisualsWithinBehaviour ****/\n\n  function forbidVisualsWithinBehaviour (\n    BehaviourName:RSC_Name, Selector:string\n  ):void {\n    Selector = Selector.trim()\n    if (Selector !== '') {\n      const normalizedBehaviourName = BehaviourName.toLowerCase()\n      forbiddenVisualsSelectorWithinBehaviour[normalizedBehaviourName] = Selector\n    }\n  }\n\n/**** validateContentsOfVisual ****/\n\n  function validateContentsOfVisual (Visual:RSC_Visual):void {\n    const BehaviourName = BehaviourNameOfVisual(Visual)\n    if (BehaviourName == null) { return }\n\n    const normalizedBehaviourName = BehaviourName.toLowerCase()\n    let permittedVisualsSelector = permittedVisualsSelectorWithinBehaviour[normalizedBehaviourName]\n    let forbiddenVisualsSelector = forbiddenVisualsSelectorWithinBehaviour[normalizedBehaviourName]\n\n    if ((permittedVisualsSelector != null) || (forbiddenVisualsSelector != null)) {\n      innerVisualsOf(Visual).forEach((innerVisual) => {\n        if ((\n          (permittedVisualsSelector != null) &&\n          ! innerVisual.matches(permittedVisualsSelector)\n        ) || (\n          (forbiddenVisualsSelector != null) &&\n          innerVisual.matches(forbiddenVisualsSelector)\n        )) {\n          innerVisual.remove()\n        }\n      })\n    }\n  }\n\n/**** validateContainerOfVisual ****/\n\n  function validateContainerOfVisual (Visual:RSC_Visual):void {\n    const Container = outerVisualOf(Visual)\n    if (Container == null) { return }\n\n    const BehaviourName = BehaviourNameOfVisual(Container)\n    if (BehaviourName == null) { return }\n\n    const normalizedBehaviourName = BehaviourName.toLowerCase()\n\n    let permittedVisualsSelector = permittedVisualsSelectorWithinBehaviour[normalizedBehaviourName]\n    if (permittedVisualsSelector != null) {\n      if (! Visual.matches(permittedVisualsSelector)) throwError(\n        'InacceptableInnerVisual: the given visual is not allowed to become a ' +\n        'part of its container'\n      )\n    }\n\n    let forbiddenVisualsSelector = forbiddenVisualsSelectorWithinBehaviour[normalizedBehaviourName]\n    if (forbiddenVisualsSelector != null) {\n      if (Visual.matches(forbiddenVisualsSelector)) throwError(\n        'InacceptableInnerVisual: the given visual is not allowed to become a ' +\n        'part of its container'\n      )\n    }\n  }\n\n//------------------------------------------------------------------------------\n//--                       Script Delegation Management                       --\n//------------------------------------------------------------------------------\n\n  type RSC_Selector = Textline\n\n  type RSC_ScriptDelegationInfo = {\n    Selector:RSC_Selector,\n    Source:Text,\n    Executable:Function,\n    Error?:RSC_ErrorInfo\n  }\n\n  type RSC_ScriptDelegationSet = {[Selector:RSC_Selector]:RSC_ScriptDelegationInfo}\n\n  const ScriptDelegationSetForVisual:WeakMap<RSC_Visual,RSC_ScriptDelegationSet> = new WeakMap()\n\n/**** registerDelegatedScriptInVisual ****/\n\n  function registerDelegatedScriptInVisual (\n    Visual:RSC_Visual, Selector:RSC_Selector, Source:Text\n  ):void {\n    let ScriptDelegationSet = ScriptDelegationSetForVisual.get(Visual)\n    if (ScriptDelegationSet == null) {\n      ScriptDelegationSetForVisual.set(Visual,ScriptDelegationSet = Object.create(null))\n    }\n\n    if (Selector in (ScriptDelegationSet as RSC_ScriptDelegationSet)) throwError(\n      'ForbiddenOperation: a script for elements matching selector ' +\n      quoted(Selector) + ' exists already'\n    )\n\n    let Executable:Function\n    try {\n      Executable = compiledScript(Source)\n    } catch (Signal) {\n      throwError(\n        'CompilationError: compilation of delegated script for elements ' +\n        'matching selector ' + quoted(Selector) + ' failed. ' +\n        'Reason: ' + Signal\n      )\n    }\n\n    (ScriptDelegationSet as RSC_ScriptDelegationSet)[Selector] = { Selector, Source, Executable }\n  }\n\n/**** registerDelegatedScriptFromElement ****/\n\n  function registerDelegatedScriptFromElement (\n    Visual:RSC_Visual, ScriptElement:Element\n  ):void {\n    let Selector = expectedTextline(\n      'element selector',ScriptElement.getAttribute('for')\n    )\n\n    let Script = ScriptElement.innerHTML\n\n    registerDelegatedScriptInVisual(Visual, Selector, Script)\n  }\n\n/**** registerAllDelegatedScriptsFoundInVisual ****/\n\n  function registerAllDelegatedScriptsFoundInVisual (Visual:RSC_Visual):void {\n    innerElementsOf(Visual).forEach((Element) => {\n      if (Element.matches('script[type=\"rsc-script\"][for]')) {\n        registerDelegatedScriptFromElement(Visual,Element)\n      }\n    })\n  }\n\n/**** delegatedScriptInfoForVisual ****/\n\n  function delegatedScriptInfoForVisual (\n    Visual:RSC_Visual\n  ):RSC_ScriptDelegationInfo|undefined {\n    let ScriptContainer = Visual\n    while (ScriptContainer != null) {\n      let ScriptDelegationSet = ScriptDelegationSetForVisual.get(ScriptContainer)\n      if (ScriptDelegationSet != null) {\n        for (const Selector in ScriptDelegationSet) {\n          if (Visual.matches(Selector)) {\n            return ScriptDelegationSet[Selector]\n          }\n        }\n      }\n\n      ScriptContainer = outerVisualOf(ScriptContainer) as RSC_Visual\n    }\n  }\n\n//------------------------------------------------------------------------------\n//--                             Script Handling                              --\n//------------------------------------------------------------------------------\n\n/**** ScriptOfVisual ****/\n\n  function ScriptOfVisual (Visual:RSC_Visual):Text|undefined {\n    let Script = Visual.getAttribute('script') || ''\n    return (Script.trim() === '' ? undefined : Script)\n  }\n\n/**** ScriptInVisual ****/\n\n  function ScriptInVisual (Visual:RSC_Visual):Text|undefined {\n    const ScriptList = innerElementsOf(Visual)\n    for (let i = 0, l = ScriptList.length; i < l; i++) {\n      let Candidate = ScriptList[i]\n      if (\n        (Candidate.tagName === 'SCRIPT') &&\n        ((Candidate.getAttribute('type') || '') === 'rsc-script') &&\n        ! Candidate.hasAttribute('for') && ! Candidate.hasAttribute('for-behaviour')\n      ) { return Candidate.innerHTML }\n    }\n  }\n\n/**** compiledScript - throws on failure ****/\n\n  function compiledScript (Script:Text):Function {\n    return new Function(\n      'RSC,JIL, onAttributeChange, onAttachment,onDetachment, toRender,' +\n      'html, on,once,off,trigger, reactively',\n      Script || ''\n    )                                                                // may fail!\n  }\n\n/**** applyExecutable - throws on failure ****/\n\n  function applyExecutable (Visual:RSC_Visual, Executable:Function):void {\n    const onAttributeChange = Visual.onAttributeChange.bind(Visual)\n    const onAttachment      = Visual.onAttachment     .bind(Visual)\n    const onDetachment      = Visual.onDetachment     .bind(Visual)\n    const toRender          = Visual.toRender         .bind(Visual)\n\n  /**** on ****/\n\n    function on (\n      Events:string, SelectorOrHandler:string|String|null|Function,\n      DataOrHandler?:any, Handler?:Function\n    ):void {\n      registerEventHandlerForVisual(\n        Visual, Events,SelectorOrHandler,DataOrHandler,Handler\n      )\n    }\n\n  /**** once ****/\n\n    function once (\n      Events:string, SelectorOrHandler:string|String|null|Function,\n      DataOrHandler?:any, Handler?:Function\n    ):void {\n      registerEventHandlerForVisual(\n        Visual, Events,SelectorOrHandler,DataOrHandler,Handler, 'once'\n      )\n    }\n\n  /**** off ****/\n\n    function off (\n      Events?:string, SelectorOrHandler?:string|String|null|Function,\n      Handler?:Function\n    ):void {\n      let ArgList = Array.prototype.slice.call(arguments,1)\n\n      Events = (Events || '').trim().replace(/\\s+/g,' ')\n      if (Events === '') {\n        unregisterAllMatchingEventHandlersFromVisual(Visual)\n        return\n      }\n\n      let Selector:string = (\n        ValueIsString(ArgList[0])\n        ? (ArgList.shift() as string).trim()\n        : (ArgList[0] === null ? ArgList.shift() || '' : undefined)\n      )          // \"null\" means: no selector, \"undefined\" means: any selector\n\n      Handler = ArgList.shift()\n      if (Handler == null) {\n        unregisterAllMatchingEventHandlersFromVisual(Visual,Events,Selector)\n      } else {\n        unregisterAllMatchingEventHandlersFromVisual(Visual,Events,Selector,Handler)\n      }\n    }\n\n  /**** trigger ****/\n\n    function trigger (\n      EventToTrigger:string|Event, Arguments:any[],\n      bubbles = true\n    ):boolean {\n      Arguments = (ValueIsArray(Arguments) ? Arguments.slice() : [])\n\n      switch (true) {\n        case ValueIsString(EventToTrigger):\n          EventToTrigger = new CustomEvent(\n            EventToTrigger as string, {\n              bubbles, cancelable:true, detail:{ Arguments }\n            }\n          )\n          break\n        case (EventToTrigger instanceof Event):\n          EventToTrigger = new CustomEvent((EventToTrigger as Event).type,\n            Object.assign({}, EventToTrigger, {\n              bubbles, cancelable:true , detail:{ Arguments }\n            })\n          )\n          break\n        default: debugger; throwError(\n          'InvalidArgument: Event instance or literal event type expected'\n        )\n      }\n\n      Visual.dispatchEvent(EventToTrigger as CustomEvent)\n\n      const EventDetails = (EventToTrigger as CustomEvent).detail\n      if (EventDetails?.Error == null) {\n        return EventDetails?.Result\n      } else {\n        throw EventDetails?.Error\n      }\n    }\n\n  /**** reactively ****/\n\n    function reactively (reactiveFunction:Function) {\n      expectFunction('reactive function',reactiveFunction)\n// @ts-ignore we definitely want the function argument to be accepted\n      registerReactiveFunctionIn(Visual,computed(reactiveFunction))\n    }\n\n  /**** run \"Executable\" in the context of \"Visual\" ****/\n\n    Executable.apply(Visual, [\n      RSC,JIL, onAttributeChange, onAttachment,onDetachment, toRender,\n      html, on,once,off,trigger, reactively\n    ])\n  }\n\n/**** applyBehaviourScriptOfVisual ****/\n\n  function applyBehaviourScriptOfVisual (Visual:RSC_Visual):void {\n    const BehaviourName = BehaviourNameOfVisual(Visual)\n    if (BehaviourName == null) { return }\n\n    const BehaviourInfo = InfoForBehaviour(BehaviourName)\n    if (BehaviourInfo == null) {\n      setErrorOfVisual(Visual,{\n        Title:'Missing Behaviour',\n        Message:'Behaviour ' + quoted(BehaviourName) + ' could not be found'\n      })\n      return\n    }\n\n    if (BehaviourInfo.Error != null) {\n      setErrorOfVisual(Visual,BehaviourInfo.Error)\n      return\n    }\n\n    const Executable = BehaviourInfo.Executable as Function\n    if (Executable == null) { return }\n\n    try {\n      applyExecutable(Visual,Executable)\n    } catch (Signal) {\nconsole.error(Signal)\n      setErrorOfVisual(Visual,{\n        Title:'Execution Failure',\n        Message:'Script of behaviour ' + quoted(BehaviourName) + ' could not ' +\n                'be executed.\\n\\nReason:\\n' + Signal\n      })\n      return\n    }\n  }\n\n/**** applyElementScriptOfVisual ****/\n\n  function applyElementScriptOfVisual (Visual:RSC_Visual):void {\n    const Script = ScriptOfVisual(Visual) || ScriptInVisual(Visual)\n    if (Script != null) {\n      let Executable\n      try {\n        Executable = compiledScript(Script)\n      } catch (Signal) {\nconsole.error(Signal)\n        setErrorOfVisual(Visual,{\n          Title:'Compilation Failure',\n          Message:'Visual script could not be compiled.\\n\\nReason:\\n' + Signal\n        })\n      }\n\n      try {\n        applyExecutable(Visual,Executable as Function)\n      } catch (Signal) {\nconsole.error(Signal)\n        setErrorOfVisual(Visual,{\n          Title:'Execution Failure',\n          Message:'Visual script could not be executed.\\n\\nReason:\\n' + Signal\n        })\n      }\n      return\n    }\n\n    const ScriptDelegationInfo = delegatedScriptInfoForVisual(Visual)\n    if (ScriptDelegationInfo != null) {\n      if (ScriptDelegationInfo.Error != null) {\n        setErrorOfVisual(Visual,ScriptDelegationInfo.Error)\n        return\n      }\n\n      try {\n        applyExecutable(Visual,ScriptDelegationInfo.Executable)\n      } catch (Signal) {\nconsole.error(Signal)\n        setErrorOfVisual(Visual,{\n          Title:'Execution Failure',\n          Message:'delegated visual script with selector ' +\n            quoted(ScriptDelegationInfo.Selector) + ' could not be ' +\n            'executed.\\n\\nReason:\\n' + Signal\n        })\n        return\n      }\n    }\n  }\n\n//------------------------------------------------------------------------------\n//--                              Event Handling                              --\n//------------------------------------------------------------------------------\n\n/**** ValueIsEventNameWithSelector ****/\n\n  const RSC_NameWithSelectorPattern = /^[a-z$_][a-z$_0-9]*([-.:][a-z$_0-9]+)*@.*$/i\n\n  function ValueIsEventNameWithSelector (Value:any):boolean {\n    return ValueIsStringMatching(Value,RSC_NameWithSelectorPattern)\n  }\n\n/**** registerEventHandlerForVisual ****/\n\n  function registerEventHandlerForVisual (\n    Visual:RSC_Visual,\n    Events:string, SelectorOrHandler?:string|String|null|Function,\n    DataOrHandler?:any, Handler?:Function, once?:'once'\n  ):void {\n    let ArgList = Array.prototype.slice.call(arguments,1)\n\n    Events = ArgList.shift().trim().replace(/\\s+/g,' ')\n    if (Events === '') { return }\n\n    let Selector:string = (\n      ValueIsString(ArgList[0])\n      ? (ArgList.shift() as string).trim()\n      : (ArgList[0] == null ? ArgList.shift() || '' : '')\n    )                                                   // '' means: no selector\n\n    let Data:any = (\n      typeof ArgList[1] === 'function'\n      ? ArgList.shift()\n      : undefined\n    )\n\n    Handler = ArgList.shift() as Function\n\n    _registerEventHandlerForVisual(\n      Visual, Events,Selector,Data,Handler, once\n    )\n  }\n\n/**** _registerEventHandlerForVisual ****/\n\n  const EventRegistryForVisual:WeakMap<RSC_Visual,object> = new WeakMap()\n\n  function _registerEventHandlerForVisual (\n    Visual:RSC_Visual,\n    Events:string, Selector:string|String, Data:any,\n    Handler:Function, once?:'once'\n  ):void {\n  /**** actualHandler ****/\n\n    function actualHandler (Event:indexableEvent):void {\n      switch (Selector) {\n        case '':\n          break\n        case '@this':\n          if (Event.target !== Event.currentTarget) { return }\n          break\n        default:\n          if (! (Event.target as Element).matches(Selector as string)) { return }\n      }\n\n      if (Data != null) { Event.data = Data }\n\n      if (once) {\n        unregisterAllMatchingEventHandlersFromVisual(\n          Visual, Event.type,Selector,Handler\n        )\n      }\n\n      let ArgList = [Event].concat(Event.detail?.Arguments || [])\n      try {\n        const Result = Handler.apply(Visual,ArgList)\n        if (Result !== undefined) {\n          ;(Event.detail || {}).Result = Result\n\n          Event.stopImmediatePropagation()\n          Event.preventDefault()\n        }\n      } catch (Signal) {\n        ;(Event.detail || {}).Error = Signal\n\n        Event.stopImmediatePropagation()\n        Event.preventDefault()\n      }\n    }\n    (actualHandler as indexableFunction)['isFor'] = Handler\n\n    let EventList:string[]\n    if (ValueIsEventNameWithSelector(Events)) {\n      let AtIndex = Events.indexOf('@')\n      EventList = [Events.slice(0,AtIndex)]\n      Selector  = Events.slice(AtIndex+1)\n        if (Selector === 'this') { Selector = '@this' }          // special case\n    } else {\n      EventList = Events.split(' ')\n    }\n\n    let EventRegistry:Indexable = EventRegistryForVisual.get(Visual) as Indexable\n    if (EventRegistry == null) {\n      EventRegistryForVisual.set(Visual,EventRegistry = Object.create(null))\n    }\n\n    EventList.forEach((Event) => {\n      let EntriesForEvent:Indexable = (EventRegistry as Indexable)[Event]\n      if (EntriesForEvent == null) {\n        EntriesForEvent = (EventRegistry as Indexable)[Event] = Object.create(null)\n      }\n\n      let EntriesForSelector:Function[] = EntriesForEvent[Selector as string]\n      if (EntriesForSelector == null) {\n        EntriesForSelector = EntriesForEvent[Selector as string] = []\n      }\n\n      EntriesForSelector.push(actualHandler)\n      Visual.addEventListener(Event,actualHandler)\n    })\n  }\n\n/**** unregisterAllMatchingEventHandlersFromVisual ****/\n\n  function unregisterAllMatchingEventHandlersFromVisual (\n    Visual:RSC_Visual,\n    Events?:string, Selector?:string|String|null, Handler?:Function\n  ):void {\n    let EventList:string[]\n    if (ValueIsEventNameWithSelector(Events)) {\n      let AtIndex = (Events as string).indexOf('@')\n      EventList = [(Events as string).slice(0,AtIndex)]\n      Selector  = (Events as string).slice(AtIndex+1)\n    } else {\n      EventList = (Events == null ? [] : Events.split(' '))\n    }\n\n    const EventRegistry = EventRegistryForVisual.get(Visual)\n    if (EventRegistry == null) { return }\n\n    if (EventList.length === 0) {               // unregister any event handlers\n      for (let Event in EventRegistry) {\n        unregisterMatchingEventHandlersFromVisual(\n          Visual, Event,Selector,Handler\n        )\n      }\n    } else {                    // unregister handlers for the given events only\n      EventList.forEach((Event:string) => {\n        unregisterMatchingEventHandlersFromVisual(\n          Visual, Event,Selector,Handler\n        )\n      })\n    }\n  }\n\n/**** unregisterMatchingEventHandlersFromVisual ****/\n\n  function unregisterMatchingEventHandlersFromVisual (\n    Visual:RSC_Visual,\n    Event:string, Selector?:string|String|null, Handler?:Function\n  ):void {\n    const EventRegistry:Indexable = EventRegistryForVisual.get(Visual) as Indexable\n    if (EventRegistry == null) { return }\n\n    let EntriesForEvent:Indexable = EventRegistry[Event]\n    if (EntriesForEvent != null) {\n      if (Selector == null) {\n        for (let Selector in EntriesForEvent) {\n          unregisterMatchingEventSelectorHandlersFromVisual(\n            Visual, EntriesForEvent, Event,Selector,Handler\n          )\n        }\n      } else {\n        unregisterMatchingEventSelectorHandlersFromVisual(\n          Visual, EntriesForEvent, Event,Selector,Handler\n        )\n      }\n\n      if (ObjectIsEmpty(EntriesForEvent)) {\n        delete EventRegistry[Event]\n      }\n    }\n  }\n\n/**** unregisterMatchingEventSelectorHandlersFromVisual ****/\n\n  function unregisterMatchingEventSelectorHandlersFromVisual (\n    Visual:RSC_Visual,\n    EntriesForEvent:any, Event:string, Selector:string|String, Handler?:Function\n  ):void {\n    let EntriesForSelector:Function[] = EntriesForEvent[Selector as string]\n    if (EntriesForSelector != null) {\n      if (Handler == null) {\n        EntriesForSelector.forEach((actualHandler:Function) => {\n// @ts-ignore TypeScript does not allow JS functions here, but that's wrong\n          Visual.removeEventListener(Event,actualHandler)\n        })\n        EntriesForSelector.length = 0\n      } else {\n        EntriesForSelector.every((actualHandler:indexableFunction, Index:number) => {\n          if (actualHandler['isFor'] === Handler) {\n// @ts-ignore TypeScript does not allow JS functions here, but that's wrong\n            Visual.removeEventListener(Event,actualHandler)\n            EntriesForSelector.splice(Index,1)\n            return false\n          }\n          return true\n        })\n      }\n\n      if (EntriesForSelector.length === 0) {\n        delete EntriesForEvent[Selector as string]\n      }\n    }\n  }\n\n//------------------------------------------------------------------------------\n//--                           Reactivity Handling                            --\n//------------------------------------------------------------------------------\n\n  const reactiveFunctionsForVisual:WeakMap<RSC_Visual,Function[]>  = new WeakMap()\n  const reactiveAttributesForVisual:WeakMap<RSC_Visual,Function[]> = new WeakMap()\n\n/**** ObservableOfVisual ****/\n\n  const ObservableForVisual:WeakMap<RSC_Visual,Indexable> = new WeakMap()\n\n  function ObservableOfVisual (Visual:RSC_Visual):Indexable {\n    let Observable = ObservableForVisual.get(Visual)\n    if (Observable == null) {\n      ObservableForVisual.set(Visual, Observable = observe({},{ deep:false }))\n    }\n    return Observable as Indexable\n  }\n\n/**** UnobservedOfVisual ****/\n\n  const UnobservedForVisual:WeakMap<RSC_Visual,Indexable> = new WeakMap()\n\n  function UnobservedOfVisual (Visual:RSC_Visual):Indexable {\n    let Unobserved = UnobservedForVisual.get(Visual)\n    if (Unobserved == null) {\n      UnobservedForVisual.set(Visual, Unobserved = {})\n    }\n    return Unobserved as Indexable\n  }\n\n/**** startReactiveRenderingOfVisual ****/\n\n  const reactiveRendererForVisual:WeakMap<RSC_Visual,Function> = new WeakMap()\n\n  function startReactiveRenderingOfVisual (Visual:RSC_Visual):void {\n    reactiveRendererForVisual.set(Visual,computed(Visual.render.bind(Visual)))\n  }\n\n/**** stopReactiveRenderingOfVisual ****/\n\n  function stopReactiveRenderingOfVisual (Visual:RSC_Visual):void {\n    const Renderer = reactiveRendererForVisual.get(Visual)\n    if (Renderer != null) {\n      dispose(Renderer)\n      reactiveRendererForVisual.delete(Visual)\n    }\n  }\n\n/**** ValueIsReactiveAttributeName ****/\n\n  function ValueIsReactiveAttributeName (Value:any):boolean {\n    return (\n      ValueIsString(Value) && (\n        Value.startsWith('$')  && ValueIsName(Value.slice(1)) ||\n        Value.startsWith('$$') && ValueIsName(Value.slice(2))\n      )\n    )\n  }\n\n/**** updateAttributeOfVisual (non-reactive attributes only) ****/\n\n  function updateAttributeOfVisual (\n    Visual:RSC_Visual, normalizedName:RSC_Name, newValue:string|undefined\n  ):void {\n    let AttributeChangeHandler = AttributeChangeHandlerForVisual.get(Visual)\n    if (AttributeChangeHandler == null) {\n      const BehaviourName = BehaviourNameOfVisual(Visual)\n      if (BehaviourName == null) { return }\n\n      const Behaviour = InfoForBehaviour(BehaviourName)\n      if (Behaviour == null) { return }\n\n      const AttributeSet = Behaviour.AttributeSet\n      if (normalizedName in AttributeSet) {\n        const originalName = AttributeSet[normalizedName]\n        try {\n          Visual.observed[originalName] = newValue\n        } catch (Signal) {\n          setErrorOfVisual(Visual,{\n            Title:'Attribute Change Failure',\n            Message:(\n              'could not update observed property \"' +\n              quoted(originalName) + '\" upon a change of attribute \"' +\n              quoted(normalizedName) + '\"'\n            )\n          })\n        }\n      }\n    } else {\n      try {\n        AttributeChangeHandler.call(Visual, normalizedName, newValue)\n      } catch (Signal) {\n        setErrorOfVisual(Visual,{\n          Title:'Attribute Change Handler Failure',\n          Message:'Running the configured attribute change handler failed\\n\\n' +\n                  'Reason: ' + Signal\n        })\n      }\n    }\n  }\n\n/**** updateAllAttributesOfVisual (non-reactive attributes only) ****/\n\n  function updateAllAttributesOfVisual (Visual:RSC_Visual):void {\n    Array.from(Visual.attributes).forEach((Attribute) => {\n      const normalizedName = Attribute.name\n      if (ValueIsName(normalizedName)) {      // ignores all reactive attributes\n        updateAttributeOfVisual(Visual,normalizedName,Attribute.value)\n      }\n    })\n  }\n\n/**** registerAllReactiveAttributesOfVisual ****/\n\n  function registerAllReactiveAttributesOfVisual (Visual:RSC_Visual):void {\n    Array.from(Visual.attributes).forEach((Attribute) => {\n      const reactiveName = Attribute.name\n      if (ValueIsReactiveAttributeName(reactiveName)) {\n        const BehaviourName = BehaviourNameOfVisual(Visual)\n        if (BehaviourName == null) { return }\n\n        const Behaviour = InfoForBehaviour(BehaviourName)\n        if (Behaviour == null) { return }\n\n        const normalizedName = reactiveName.replace(/^[$]{1,2}/,'')\n\n        const AttributeSet = Behaviour.AttributeSet\n        if (normalizedName in AttributeSet) {\n          const originalName = AttributeSet[normalizedName]\n\n          const { Base,PathList } = parsedAccessPathFromVisual(\n            Visual, Attribute.value\n          )\n\n          let HandlerList:Function[] = reactiveAttributesForVisual.get(Visual) as Function[]\n          if (HandlerList == null) {\n            reactiveAttributesForVisual.set(Visual,HandlerList = [])\n          }\n\n          if (reactiveName.startsWith('$$')) {\n            const Handler = computed(() => {\n              setValueOfReactiveVariable(\n                Base, PathList, Visual.observed[originalName]\n              )\n            })\n            HandlerList.push(Handler)\n          }\n\n          const Handler = computed(() => {\n            Visual.observed[originalName] = ValueOfReactiveVariable(Base, PathList)\n          })\n          HandlerList.push(Handler)\n        }\n      }\n    })\n  }\n\n/**** parsedAccessPathFromVisual ****/\n\n  type RSC_AccessPath = {\n    Base:RSC_Visual,\n    PathList:string[]\n  }\n\n  const    dottedIndexPattern = /^\\s*[.]([^.\\[]+)/\n  const  unquotedIndexPattern = /^\\s*\\[([^'\"\\]]+)\\]/\n  const sglquotedIndexPattern = /^\\s*\\[\\s*'(([^'\\\\]|\\\\([\"'\\\\\\/bfnrt]|x[0-9a-f]{2}|u[0-9a-f]{4}))*)'\\s*\\]/i\n  const dblquotedIndexPattern = /^\\s*\\[\\s*\"(([^\"\\\\]|\\\\([\"'\\\\\\/bfnrt]|x[0-9a-f]{2}|u[0-9a-f]{4}))*)\"\\s*\\]/i\n\n  function parsedAccessPathFromVisual (\n    Visual:RSC_Visual, literalPath:string\n  ):RSC_AccessPath {\n    const SplitIndex = literalPath.indexOf(':observed')\n    if (SplitIndex < 0) throwError(\n      'InvalidAccessPath:invalid access path ' + quoted(literalPath)\n    )\n\n    let Selector = literalPath.slice(0,SplitIndex)\n    if (ValueIsName(Selector)) {\n      const normalizedName = Selector.toLowerCase()\n      Selector = `rsc-${normalizedName},[behaviour=\"${normalizedName}\"]`\n    }\n\n    let Base = closestVisualMatching(Visual,Selector)\n    if (Base == null) throwError(\n      'NoSuchVisual:could not find a close visual matching CSS selector' +\n      quoted(Selector)\n    )\n\n    let AccessPath = literalPath.slice(SplitIndex + 9).trim()\n\n    const PathList:string[] = []; let Match\n    while (AccessPath !== '') {\n      switch (true) {\n        case (Match =   dottedIndexPattern.exec(AccessPath)) != null:\n        case (Match = unquotedIndexPattern.exec(AccessPath)) != null:\n// @ts-ignore 18048: we know that Match is not null\n          PathList.push(Match[1].trim())\n// @ts-ignore 18048: we know that Match is not null\n          AccessPath = AccessPath.slice(Match[0].length).trim()\n          break\n        case (Match = sglquotedIndexPattern.exec(AccessPath)) != null:\n        case (Match = dblquotedIndexPattern.exec(AccessPath)) != null:\n// @ts-ignore 18048: we know that Match is not null\n          PathList.push(Match[1])\n// @ts-ignore 18048: we know that Match is not null\n          AccessPath = AccessPath.slice(Match[0].length).trim()\n          break\n        default:\n          throwError('InvalidAccessPath:invalid access path ' + quoted(literalPath))\n      }\n    }\n\n    return { Base,PathList }\n  }\n\n/**** ValueOfReactiveVariable ****/\n\n  function ValueOfReactiveVariable (Base:RSC_Visual, PathList:string[]):any {\n    let Value:any = Base.observed[PathList[0]]\n      for (let i = 1, l = PathList.length; i < l; i++) {\n        if (Value == null) throwError(\n          'InvalidAccess:cannot access variable bound to reactive attribute'\n        )\n        Value = Value[PathList[i]]\n      }\n    return Value\n  }\n\n/**** setValueOfReactiveVariable ****/\n\n  function setValueOfReactiveVariable (\n    Base:RSC_Visual, PathList:string[], Value:any\n  ):void {\n    let Variable:Indexable = Base as Indexable\n      for (let i = 0, l = PathList.length-1; i < l; i++) {\n        if (Variable == null) throwError(\n          'InvalidAccess:cannot access variable bound to reactive attribute'\n        )\n        Variable = Variable[PathList[i]]\n      }\n    Variable[PathList[-1]] = Value\n  }\n\n/**** unregisterAllReactiveAttributesOfVisual ****/\n\n  function unregisterAllReactiveAttributesOfVisual (Visual:RSC_Visual):void {\n    let HandlerList:Function[] = reactiveAttributesForVisual.get(Visual) as Function[]\n    if (HandlerList == null) { return }\n\n    HandlerList.forEach((Handler) => {\n      dispose(Handler)\n    })\n  }\n\n/**** registerReactiveFunctionIn ****/\n\n  function registerReactiveFunctionIn (\n    Visual:RSC_Visual, reactiveFunction:Function\n  ):void {\n    let reactiveFunctions = reactiveFunctionsForVisual.get(Visual)\n    if (reactiveFunctions == null) {\n      reactiveFunctionsForVisual.set(Visual,reactiveFunctions = [])\n    }\n    reactiveFunctions.push(reactiveFunction)\n  }\n\n/**** unregisterAllReactiveFunctionsFrom ****/\n\n  function unregisterAllReactiveFunctionsFrom (Visual:RSC_Visual):void {\n    let reactiveFunctions = reactiveFunctionsForVisual.get(Visual)\n    if (reactiveFunctions == null) { return }\n\n    reactiveFunctions.forEach((reactiveFunction) => {\n      dispose(reactiveFunction)\n    })\n  }\n\n//------------------------------------------------------------------------------\n//--                              Error Handling                              --\n//------------------------------------------------------------------------------\n\n  type RSC_ErrorInfo = {\n    Title:Textline,\n    Message:Text\n  }\n\n  const ErrorInfoForVisual:WeakMap<RSC_Visual,RSC_ErrorInfo> = new WeakMap()\n\n/**** setErrorOfVisual ****/\n\n  function setErrorOfVisual (\n    Visual:RSC_Visual, ErrorInfo:RSC_ErrorInfo|undefined\n  ):void {\n    expectErrorInfo('RSC error info record',ErrorInfo)\n\n    if (ErrorInfoForVisual.get(Visual) == null) {\n      ErrorInfoForVisual.set(Visual,ErrorInfo as RSC_ErrorInfo)\n      Visual.render()\n    }\n  }\n\n/**** ErrorOfVisual ****/\n\n  function ErrorOfVisual (Visual:RSC_Visual):RSC_ErrorInfo|undefined {\n    return ErrorInfoForVisual.get(Visual)\n  }\n\n/**** RSC_ErrorIndicator ****/\n\n  function RSC_ErrorIndicator (PropSet:Indexable) {\n    const Visual = PropSet.visual\n\n    function onClick (Event:Event) {\n      showErrorInfoForVisual(Visual)\n    }\n\n    return html`\n      <style>\n        .RSC-ErrorIndicator {\n          display:block; position:absolute; overflow:hidden;\n          left:0px; top:0px; width:24px; height:24px;\n          background:url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3Csvg width='24px' height='24px' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 17.0001H12.01M12 10.0001V14.0001M6.41209 21.0001H17.588C19.3696 21.0001 20.2604 21.0001 20.783 20.6254C21.2389 20.2985 21.5365 19.7951 21.6033 19.238C21.6798 18.5996 21.2505 17.819 20.3918 16.2579L14.8039 6.09805C13.8897 4.4359 13.4326 3.60482 12.8286 3.32987C12.3022 3.09024 11.6978 3.09024 11.1714 3.32987C10.5674 3.60482 10.1103 4.4359 9.19614 6.09805L3.6082 16.2579C2.74959 17.819 2.32028 18.5996 2.39677 19.238C2.46351 19.7951 2.76116 20.2985 3.21709 20.6254C3.7396 21.0001 4.63043 21.0001 6.41209 21.0001Z' stroke='orange' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' fill='white'/%3E%3C/svg%3E\");\n          pointer-events:auto;\n        }\n      </style>\n      <div class=\"RSC-ErrorIndicator\" onClick=${onClick}></div>\n    `\n  }\n\n/**** showErrorInfoForVisual ****/\n\n  function showErrorInfoForVisual (Visual:RSC_Visual):void {\n    const { Title,Message } = ErrorOfVisual(Visual) as RSC_ErrorInfo\n    window.alert(Title + '\\n\\n' + Message)\n  }\n\n//------------------------------------------------------------------------------\n//--                                RSC_Visual                                --\n//------------------------------------------------------------------------------\n\n  const ShadowRootForVisual:WeakMap<RSC_Visual,any> = new WeakMap()\n\n  const AttributeChangeHandlerForVisual:WeakMap<RSC_Visual,Function> = new WeakMap()\n  const AttachmentHandlerForVisual:WeakMap<RSC_Visual,Function>      = new WeakMap()\n  const DetachmentHandlerForVisual:WeakMap<RSC_Visual,Function>      = new WeakMap()\n  const RendererForVisual:WeakMap<RSC_Visual,Function>               = new WeakMap()\n\n  const DummyHandler = () => {}\n\n  class RSC_Visual extends HTMLElement {\n    static observedAttributes:string[] = ['value']         // may be overwritten\n\n  /**** constructor ****/\n\n    public constructor () {       // already with all attributes and inner nodes\n      super()\n\n      const ShadowRoot = this.attachShadow({ mode:'closed' })\n      ShadowRootForVisual.set(this,ShadowRoot)\n    }\n\n  /**** connectedCallback - elements are added from the outside in ****/\n\n    public connectedCallback () {\n      validateContainerOfVisual(this)    // throws if inacceptable for container\n\n      if (VisualWasInitialized(this)) {\n        unregisterAllReactiveAttributesOfVisual(this)\n        registerAllReactiveAttributesOfVisual(this)\n      } else {\n        registerAllBehavioursFoundInVisual(this)\n        registerAllDelegatedScriptsFoundInVisual(this)\n\n        validateContentsOfVisual(this)\n\n        applyBehaviourScriptOfVisual(this)\n        applyElementScriptOfVisual(this)\n\n        updateAllAttributesOfVisual(this)    // setters should be defined by now\n        registerAllReactiveAttributesOfVisual(this)\n\n        markVisualAsInitialized(this)             // outer visuals are now known\n      }\n\n      startReactiveRenderingOfVisual(this)                   // also renders now\n\n      let AttachmentHandler = AttachmentHandlerForVisual.get(this)\n      if (AttachmentHandler != null) {\n        try {\n          AttachmentHandler.call(this)\n        } catch (Signal) {\n          setErrorOfVisual(this,{\n            Title:'Attachment Handler Failure',\n            Message:'Running the configured attachment handler failed\\n\\n' +\n                    'Reason: ' + Signal\n          })\n        }\n      }\n    }\n\n  /**** disconnectedCallback - elements are removed from the outside in ****/\n\n    public disconnectedCallback () {\n      startReactiveRenderingOfVisual(this)\n\n//    unregisterAllReactiveFunctionsFrom(this) // TODO: better before removal\n      unregisterAllReactiveAttributesOfVisual(this)\n\n      let DetachmentHandler = DetachmentHandlerForVisual.get(this)\n      if (DetachmentHandler != null) {\n        try {\n          DetachmentHandler.call(this)\n        } catch (Signal) {\n          setErrorOfVisual(this,{\n            Title:'Detachment Handler Failure',\n            Message:'Running the configured detachment handler failed\\n\\n' +\n                    'Reason: ' + Signal\n          })\n        }\n      }\n    }\n\n  /**** attributeChangedCallback ****/\n\n    public attributeChangedCallback (\n      normalizedName:string, oldValue:string, newValue:string\n    ) {\n      if (VisualWasInitialized(this) && ! ValueIsReactiveAttributeName(normalizedName)) {\n        updateAttributeOfVisual(this, normalizedName, newValue)\n      }\n    }\n\n  /**** observed ****/\n\n    public get observed ():Indexable  { return ObservableOfVisual(this) }\n    public set observed (_:Indexable) { throwReadOnlyError('observable') }\n\n  /**** unobserved ****/\n\n    public get unobserved ():Indexable  { return UnobservedOfVisual(this) }\n    public set unobserved (_:Indexable) { throwReadOnlyError('unobserved') }\n\n  /**** onAttributeChange (originalName, newValue) ****/\n\n    public onAttributeChange (newHandler:Function):void {\n      expectFunction('visual attribute change handler',newHandler)\n      AttributeChangeHandlerForVisual.set(this,newHandler)\n    }\n\n  /**** onAttachment () ****/\n\n    public onAttachment (newHandler:Function):void {\n      expectFunction('visual attachment handler',newHandler)\n      AttachmentHandlerForVisual.set(this,newHandler)\n    }\n\n  /**** onDetachment () ****/\n\n    public onDetachment (newHandler:Function):void {\n      expectFunction('visual detachment handler',newHandler)\n      DetachmentHandlerForVisual.set(this,newHandler) || DummyHandler\n    }\n\n  /**** Renderer ****/\n\n    public toRender (newHandler:Function) {\n      expectFunction('visual renderer',newHandler)\n      RendererForVisual.set(this,newHandler)\n    }\n\n  /**** render ****/\n\n    public render ():void {\n      if (VisualWasInitialized(this)) {\n        let Rendering\n        if (! this.hasError) {\n          const Renderer = RendererForVisual.get(this)\n          if (Renderer == null) {\n            if (this.tagName === 'RSC-VISUAL') {\n              Rendering = html`${this.observed['Value']}<slot/>`\n            }\n          } else {\n            try {\n              Rendering = Renderer.call(this)\n            } catch (Signal) {\n              setErrorOfVisual(this,{\n                Title:'Rendering Failure',\n                Message:'Running the configured renderer failed, reason: ' + Signal\n              })\n            }\n          }\n        }\n\n        const ShadowRoot = ShadowRootForVisual.get(this)\n        if (this.hasError) {\n          render(html`<${RSC_ErrorIndicator} visual=${this}/>`,ShadowRoot)\n        } else {\n          render(html`${Rendering}`,ShadowRoot)\n        }\n      }\n    }\n\n  /**** hasError ****/\n\n    public get hasError ():boolean  { return (this.Error != null) }\n    public set hasError (_:boolean) { throwReadOnlyError('hasError') }\n\n  /**** Error ****/\n\n    public get Error ():RSC_ErrorInfo|undefined {\n      return ErrorOfVisual(this)\n    }\n    public set Error (ErrorInfo:RSC_ErrorInfo|undefined) {\n      setErrorOfVisual(this,ErrorInfo)\n    }\n  }\n\n  customElements.define('rsc-visual', RSC_Visual)\n\n  registerAllBehavioursFoundInHead()\n}\n","import { data } from './data.js'\n\n/**\n * Will remove the computed function from the reactive Maps (the next time an bound observer property is called) allowing garbage collection.\n *\n * @param {Function} computedFunction\n */\nexport function dispose(computedFunction) {\n  computedFunction[data.trackerSymbol] = null\n  return computedFunction.__disposed = true\n}\n"],"names":["global","Function","Object_hasOwnProperty","Value","PropertyName","hasOwnProperty","Object","prototype","call","Object_isPrototypeOf","Candidate","isPrototypeOf","throwError","Message","Match","exec","Error","namedError","name","ValueIsBoolean","Boolean","ValueIsNumber","Number","ValueIsFiniteNumber","isFinite","valueOf","ValueIsNaN","isNaN","ValueIsNumberInRange","minValue","maxValue","withMin","withMax","ValueIsInteger","Math","round","ValueIsIntegerInRange","ValueIsOrdinal","ValueIsCardinal","ValueIsString","String","emptyStringPattern","ValueIsNonEmptyString","test","ValueIsStringMatching","Pattern","noCtrlCharsButCRLFPattern","ValueIsText","noCtrlCharsPattern","ValueIsTextline","ValueIsFunction","ValueIsAnonymousFunction","ValueIsNamedFunction","ValueIsNativeFunction","toString","ValueIsScriptedFunction","ValueIsObject","ValueIsPlainObject","getPrototypeOf","ValueIsVanillaObject","ValueIsArray","Array","isArray","ValueIsList","minLength","maxLength","i","l","length","undefined","ValueIsListSatisfying","Validator","Signal","ValueIsDate","Date","ValueIsError","ValueIsPromise","then","ValueIsRegExp","RegExp","ValueIsOneOf","ValueList","indexOf","ValueIsColor","ColorSet","EMailAddressPattern","ValueIsEMailAddress","noCtrlCharsOrWhitespacePattern","ValueIsURL","URL","rejectNil","acceptNil","validatedArgument","Description","Argument","ValueIsValid","NilIsAcceptable","Expectation","concat","escaped","ValidatorForClassifier","Classifier","ClassifierName","FunctionWithName","replace","originalFunction","desiredName","defineProperty","value","signal","renamed","expectValue","expectedValue","allowBoolean","allowedBoolean","expectBoolean","expectedBoolean","allowNumber","allowedNumber","expectNumber","expectedNumber","allowFiniteNumber","allowedFiniteNumber","expectFiniteNumber","expectedFiniteNumber","allowNaN","allowedNaN","expectNaN","expectedNaN","allowNumberInRange","expectedNumberInRange","allowedNumberInRange","expectNumberInRange","RangeError","allowInteger","allowedInteger","expectInteger","expectedInteger","allowIntegerInRange","expectedIntegerInRange","allowedIntegerInRange","expectIntegerInRange","allowOrdinal","allowedOrdinal","expectOrdinal","expectedOrdinal","allowCardinal","allowedCardinal","expectCardinal","expectedCardinal","allowString","allowedString","expectString","expectedString","allowNonEmptyString","allowedNonEmptyString","expectNonEmptyString","expectedNonEmptyString","allowStringMatching","expectedStringMatching","allowedStringMatching","expectStringMatching","allowText","allowedText","expectText","expectedText","allowTextline","allowedTextline","expectTextline","expectedTextline","allowFunction","allowedFunction","expectFunction","expectedFunction","allowAnonymousFunction","allowedAnonymousFunction","expectAnonymousFunction","expectedAnonymousFunction","allowNamedFunction","allowedNamedFunction","expectNamedFunction","expectedNamedFunction","allowNativeFunction","allowedNativeFunction","expectNativeFunction","expectedNativeFunction","allowScriptedFunction","allowedScriptedFunction","expectScriptedFunction","expectedScriptedFunction","allowObject","allowedObject","expectObject","expectedObject","allowPlainObject","allowedPlainObject","expectPlainObject","expectedPlainObject","allowVanillaObject","allowedVanillaObject","expectVanillaObject","expectedVanillaObject","allowArray","expectedArray","allowedArray","expectArray","allowList","expectedList","allowedList","expectList","allowListSatisfying","expectedListSatisfying","allowedListSatisfying","expectListSatisfying","allowInstanceOf","constructor","expectedInstanceOf","allowedInstanceOf","expectInstanceOf","allowValueInheritingFrom","expectedValueInheritingFrom","allowedValueInheritingFrom","expectValueInheritingFrom","allowDate","allowedDate","expectDate","expectedDate","allowError","allowedError","expectError","expectedError","allowPromise","allowedPromise","expectPromise","expectedPromise","allowRegExp","allowedRegExp","expectRegExp","expectedRegExp","allowOneOf","expectedOneOf","allowedOneOf","expectOneOf","allowColor","allowedColor","expectColor","expectedColor","allowEMailAddress","allowedEMailAddress","expectEMailAddress","expectedEMailAddress","allowURL","allowedURL","expectURL","Text","HexCode","charCodeAt","slice","quotable","Quote","quoted","HTMLsafe","EOLReplacement","trim","Result","substring","ValuesDiffer","thisValue","otherValue","Mode","thisType","abs","EPSILON","thisArray","otherArray","ArraysDiffer","thisObject","otherObject","key","ObjectsDiffer","ObjectIsEmpty","Key","StringIsEmpty","transparent","aliceblue","lightpink","antiquewhite","lightsalmon","aqua","lightseagreen","aquamarine","lightskyblue","azure","lightslategray","beige","lightslategrey","bisque","lightsteelblue","black","lightyellow","blanchedalmond","lime","blue","limegreen","blueviolet","linen","brown","magenta","burlywood","maroon","cadetblue","mediumaquamarine","chartreuse","mediumblue","chocolate","mediumorchid","coral","mediumpurple","cornflowerblue","mediumseagreen","cornsilk","mediumslateblue","crimson","mediumspringgreen","cyan","mediumturquoise","darkblue","mediumvioletred","darkcyan","midnightblue","darkgoldenrod","mintcream","darkgray","mistyrose","darkgreen","moccasin","darkgrey","navajowhite","darkkhaki","navy","darkmagenta","oldlace","darkolivegreen","olive","darkorange","olivedrab","darkorchid","orange","darkred","orangered","darksalmon","orchid","darkseagreen","palegoldenrod","darkslateblue","palegreen","darkslategray","paleturquoise","darkslategrey","palevioletred","darkturquoise","papayawhip","darkviolet","peachpuff","deeppink","peru","deepskyblue","pink","dimgray","plum","dimgrey","powderblue","dodgerblue","purple","firebrick","red","floralwhite","rosybrown","forestgreen","royalblue","fuchsia","saddlebrown","gainsboro","salmon","ghostwhite","sandybrown","gold","seagreen","goldenrod","seashell","gray","sienna","green","silver","greenyellow","skyblue","grey","slateblue","honeydew","slategray","hotpink","slategrey","indianred","snow","indigo","springgreen","ivory","steelblue","khaki","tan","lavender","teal","lavenderblush","thistle","lawngreen","tomato","lemonchiffon","turquoise","lightblue","violet","lightcoral","wheat","lightcyan","white","lightgoldenrodyellow","whitesmoke","lightgray","yellow","lightgreen","yellowgreen","lightgrey","HexColor","Color","lowerColor","toLowerCase","HexDigit","dec2hex","trunc","parseInt","parseFloat","n","u","o","r","f","TargetObject","otherObjectList","_i","arguments","Descriptor","getOwnPropertyDescriptor","propertyIsEnumerable","toLocaleString","Prototype","Constructor","Minimum","Maximum","Infinity","max","min","CharCode","fromCharCode","c","s","a","h","v","p","parentNode","removeChild","y","t","children","defaultProps","d","type","props","ref","__k","__","__b","__e","__d","__c","__v","__i","__u","vnode","g","b","this","context","m","k","base","w","push","x","__r","debounceRendering","e","sort","shift","__P","L","__n","ownerSVGElement","M","C","_","P","z","S","nextSibling","H","N","insertBefore","I","setProperty","T","style","cssText","now","addEventListener","D","A","removeEventListener","removeAttribute","setAttribute","event","$","contextType","__E","render","O","sub","state","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","j","diffed","some","localName","nodeType","document","createTextNode","createElementNS","createElement","is","data","childNodes","attributes","__html","innerHTML","current","unmount","componentWillUnmount","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","bind","resolve","setTimeout","assign","apply","Map","get","set","BIND_IGNORED","isObj","object","setHiddenKey","enumerable","configurable","defineBubblingProperties","parent","computedStack","trackerSymbol","Symbol","queue","__batched","process","task","enqueue","batch","queueMicrotask","observedSymbol","RSC","observe","obj","options","ignore","deep","bubble","isWatched","prop","includes","entries","val","propertiesMap","proxy","Proxy","computedFn","tracker","trackerSet","Set","add","propertiesSet","deeper","oldValue","ancestry","__handler","__key","__parent","unshift","dependents","dependent","trackedObj","tracked","has","__disposed","delete","getOwnPropertyNames","filter","computed","wrappedFunction","autoRun","callback","disableTracking","observeComputation","fun","argsList","target","wrapper","WeakMap","computeAsyncArg","result","computeAsync","Stylesheet","head","appendChild","throwReadOnlyError","Name","ValueIsDOMElement","Element","ValueIsVisual","RSC_Visual","allowDOMElement","allowedDOMElement","expectDOMElement","expectedDOMElement","allowVisual","allowedVisual","expectVisual","expectedVisual","RSC_NamePattern","ValueIsName","ValueIsErrorInfo","Title","allowName","allowedName","expectName","expectedName","allowErrorInfo","allowedErrorInfo","expectErrorInfo","expectedErrorInfo","acceptableBoolean","Default","acceptableNumber","acceptableNumberInRange","acceptableInteger","acceptableIntegerInRange","acceptableString","acceptableNonEmptyString","acceptableStringMatching","acceptableURL","InitializationMarkerForVisual","VisualWasInitialized","Visual","outerVisualOf","DOMElement","parentElement","closestVisualMatching","Selector","matches","innerElementsOf","from","innerVisualsOf","innerElement","VisualContaining","outermostVisualOf","outermostVisual","closestVisualWithBehaviour","BehaviourName","normalizedName","BehaviourNameOfVisual","BehaviourRegistry","create","InfoForBehaviour","registerBehaviourFromElement","ScriptElement","getAttribute","Source","observedAttributes","split","SourceOrExecutable","_class","AttributeSet","map","Executable","BehaviourInfo","compiledScript","console","error","customizedVisual","_RSC_Visual","_inheritsLoose","customElements","define","registerBehaviour","normalizedBehaviourName","permittedVisualsSelectorWithinBehaviour","permitVisualsWithinBehaviour","forbiddenVisualsSelectorWithinBehaviour","forbidVisualsWithinBehaviour","_InfoForBehaviour","tagName","ScriptDelegationSetForVisual","Script","applyExecutable","onAttributeChange","onAttachment","onDetachment","toRender","JIL","html","Events","SelectorOrHandler","DataOrHandler","Handler","registerEventHandlerForVisual","ArgList","unregisterAllMatchingEventHandlersFromVisual","EventToTrigger","Arguments","bubbles","CustomEvent","cancelable","detail","Event","dispatchEvent","EventDetails","reactiveFunction","reactiveFunctions","reactiveFunctionsForVisual","registerReactiveFunctionIn","RSC_NameWithSelectorPattern","ValueIsEventNameWithSelector","once","Data","actualHandler","_Event$detail","currentTarget","stopImmediatePropagation","preventDefault","EventList","AtIndex","EventRegistry","EventRegistryForVisual","EntriesForEvent","EntriesForSelector","_registerEventHandlerForVisual","unregisterMatchingEventHandlersFromVisual","unregisterMatchingEventSelectorHandlersFromVisual","every","Index","splice","reactiveAttributesForVisual","ObservableForVisual","UnobservedForVisual","reactiveRendererForVisual","startReactiveRenderingOfVisual","ValueIsReactiveAttributeName","startsWith","updateAttributeOfVisual","newValue","AttributeChangeHandler","AttributeChangeHandlerForVisual","Behaviour","originalName","observed","setErrorOfVisual","registerAllReactiveAttributesOfVisual","Attribute","reactiveName","_parsedAccessPathFrom","literalPath","SplitIndex","Base","AccessPath","PathList","dottedIndexPattern","unquotedIndexPattern","sglquotedIndexPattern","dblquotedIndexPattern","parsedAccessPathFromVisual","HandlerList","Variable","setValueOfReactiveVariable","ValueOfReactiveVariable","unregisterAllReactiveAttributesOfVisual","computedFunction","ErrorInfoForVisual","ErrorInfo","ErrorOfVisual","RSC_ErrorIndicator","PropSet","visual","_templateObject","_taggedTemplateLiteralLoose","_ErrorOfVisual","window","alert","showErrorInfoForVisual","ShadowRootForVisual","AttachmentHandlerForVisual","DetachmentHandlerForVisual","RendererForVisual","_HTMLElement","_this","ShadowRoot","attachShadow","mode","_assertThisInitialized","_proto","connectedCallback","Container","permittedVisualsSelector","forbiddenVisualsSelector","validateContainerOfVisual","ScriptDelegationSet","registerDelegatedScriptInVisual","registerDelegatedScriptFromElement","innerVisual","remove","validateContentsOfVisual","applyBehaviourScriptOfVisual","ScriptOfVisual","ScriptList","hasAttribute","ScriptInVisual","ScriptDelegationInfo","ScriptContainer","delegatedScriptInfoForVisual","applyElementScriptOfVisual","updateAllAttributesOfVisual","markVisualAsInitialized","AttachmentHandler","disconnectedCallback","DetachmentHandler","attributeChangedCallback","newHandler","Rendering","hasError","Renderer","_templateObject2","firstChild","_templateObject3","_templateObject4","Observable","Unobserved","_wrapNativeSuper","HTMLElement"],"mappings":"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"}