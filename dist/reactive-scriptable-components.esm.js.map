{"version":3,"file":"reactive-scriptable-components.esm.js","sources":["../node_modules/javascript-interface-library/dist/javascript-interface-library.esm.js","../node_modules/preact/dist/preact.module.js","../node_modules/htm/dist/htm.module.js","../node_modules/htm/preact/index.module.js","../node_modules/hyperactiv/src/tools.js","../node_modules/hyperactiv/src/data.js","../node_modules/hyperactiv/src/batcher.js","../node_modules/hyperactiv/src/observe.js","../node_modules/hyperactiv/src/computed.js","../node_modules/hyperactiv/src/index.js","../src/reactive-scriptable-components.ts","../node_modules/hyperactiv/src/dispose.js"],"sourcesContent":["//----------------------------------------------------------------------------//\n//                        JavaScript Interface Library                        //\n//----------------------------------------------------------------------------//\n/**** get a reference to the \"global\" object ****/\nvar global = /*#__PURE__*/ Function('return this')();\n// see https://stackoverflow.com/questions/3277182/how-to-get-the-global-object-in-javascript\n//------------------------------------------------------------------------------\n//--                             Object Functions                             --\n//------------------------------------------------------------------------------\n// allow methods from Object.prototype to be applied to \"vanilla\" objects\n/**** Object_hasOwnProperty ****/\nfunction Object_hasOwnProperty(Value, PropertyName) {\n    return ((Value == null) || // let this method crash like its original\n        ('hasOwnProperty' in Value) && (typeof Value.hasOwnProperty === 'function')\n        ? Value.hasOwnProperty(PropertyName)\n        : Object.prototype.hasOwnProperty.call(Value, PropertyName));\n}\n/**** Object_isPrototypeOf ****/\nfunction Object_isPrototypeOf(Value, Candidate) {\n    return ((Value == null) || // let this method crash like its original\n        ('isPrototypeOf' in Value) && (typeof Value.isPrototypeOf === 'function')\n        ? Value.isPrototypeOf(Candidate)\n        : Object.prototype.isPrototypeOf.call(Value, Candidate));\n}\n/**** Object_propertyIsEnumerable ****/\nfunction Object_propertyIsEnumerable(Value, PropertyName) {\n    return ((Value == null) || // let this method crash like its original\n        ('propertyIsEnumerable' in Value) && (typeof Value.propertyIsEnumerable === 'function')\n        ? Value.propertyIsEnumerable(PropertyName)\n        : Object.prototype.propertyIsEnumerable.call(Value, PropertyName));\n}\n/**** Object_toString ****/\nfunction Object_toString(Value) {\n    return ((Value == null) || // let this method crash like its original\n        ('toString' in Value) && (typeof Value.toString === 'function')\n        ? Value.toString()\n        : Object.prototype.toString.call(Value));\n}\n/**** Object_toLocaleString ****/\nfunction Object_toLocaleString(Value) {\n    return ((Value == null) || // let this method crash like its original\n        ('toLocaleString' in Value) && (typeof Value.toLocaleString === 'function')\n        ? Value.toLocaleString()\n        : Object.prototype.toString.call(Value)); // a missing \"toLocaleString\" method will crash Object.prototype.toLocaleString\n}\n/**** Object_valueOf ****/\nfunction Object_valueOf(Value) {\n    return ((Value == null) || // let this method crash like its original\n        ('valueOf' in Value) && (typeof Value.valueOf === 'function')\n        ? Value.valueOf()\n        : Object.prototype.valueOf.call(Value));\n}\n/**** ObjectMergedWith ****/\nfunction ObjectMergedWith(TargetObject) {\n    var otherObjectList = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        otherObjectList[_i - 1] = arguments[_i];\n    }\n    for (var i = 0, l = otherObjectList.length; i < l; i++) {\n        var otherObject = otherObjectList[i];\n        if (otherObject == null) {\n            continue;\n        }\n        if (typeof otherObject === 'object') {\n            for (var Key in otherObject) {\n                var Descriptor = Object.getOwnPropertyDescriptor(otherObject, Key);\n                if (Descriptor != null) {\n                    Object.defineProperty(TargetObject, Key, Descriptor);\n                }\n            }\n        }\n        else {\n            throwError('InvalidArgument: argument #' + (i + 1) + ' is not an object');\n        }\n    }\n    return TargetObject;\n}\n/**** throwError - simplifies construction of named errors ****/\nfunction throwError(Message) {\n    var Match = /^([$a-zA-Z][$a-zA-Z0-9]*):\\s*(\\S.+)\\s*$/.exec(Message);\n    if (Match == null) {\n        throw new Error(Message);\n    }\n    else {\n        var namedError = new Error(Match[2]);\n        namedError.name = Match[1];\n        throw namedError;\n    }\n}\n//------------------------------------------------------------------------------\n//--                      Value Classification Functions                      --\n//------------------------------------------------------------------------------\n/**** ValueExists ****/\nfunction ValueExists(Value) {\n    return (Value != null);\n}\n/**** ValueIsMissing ****/\nfunction ValueIsMissing(Value) {\n    return (Value == null);\n}\n/**** ValueIsBoolean ****/\nfunction ValueIsBoolean(Value) {\n    return (typeof Value === 'boolean') || (Value instanceof Boolean);\n}\n/**** ValueIsNumber ****/\nfunction ValueIsNumber(Value) {\n    return (typeof Value === 'number') || (Value instanceof Number);\n}\n/**** ValueIsFiniteNumber (pure \"isFinite\" breaks on objects) ****/\nfunction ValueIsFiniteNumber(Value) {\n    return ((typeof Value === 'number') || (Value instanceof Number)) && isFinite(Value.valueOf());\n}\n/**** ValueIsNaN (numeric, but NaN - this differs from pure \"isNaN\") ****/\nfunction ValueIsNaN(Value) {\n    return ((typeof Value === 'number') || (Value instanceof Number)) && isNaN(Value.valueOf());\n}\n/**** ValueIsNumberInRange ****/\nfunction ValueIsNumberInRange(Value, minValue, maxValue, withMin, withMax) {\n    if (withMin === void 0) { withMin = true; }\n    if (withMax === void 0) { withMax = true; }\n    if (!ValueIsNumber(Value) || isNaN(Value)) {\n        return false;\n    }\n    if (ValueIsFiniteNumber(minValue)) { // more robust than \"isFinite\" alone\n        if (ValueIsFiniteNumber(maxValue)) { // more robust than \"isFinite\" alone\n            if ((Value < minValue) || (!withMin && (Value === minValue)) ||\n                (Value > maxValue) || (!withMax && (Value === maxValue))) {\n                return false;\n            }\n        }\n        else {\n            if ((Value < minValue) || (!withMin && (Value === minValue))) {\n                return false;\n            }\n        }\n    }\n    else {\n        if (ValueIsFiniteNumber(maxValue)) { // more robust than \"isFinite\" alone\n            if ((Value > maxValue) || (!withMax && (Value === maxValue))) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n/**** ValueIsInteger ****/\nfunction ValueIsInteger(Value) {\n    if ((typeof Value !== 'number') && !(Value instanceof Number)) {\n        return false;\n    }\n    Value = Value.valueOf();\n    return isFinite(Value) && (Math.round(Value) === Value);\n}\n/**** ValueIsIntegerInRange ****/\nfunction ValueIsIntegerInRange(Value, minValue, maxValue) {\n    if (!ValueIsInteger(Value) || isNaN(Value)) {\n        return false;\n    }\n    if (ValueIsFiniteNumber(minValue)) { // more robust than \"isFinite\" alone\n        if (ValueIsFiniteNumber(maxValue)) { // more robust than \"isFinite\" alone\n            if ((Value < minValue) || (Value > maxValue)) {\n                return false;\n            }\n        }\n        else {\n            if (Value < minValue) {\n                return false;\n            }\n        }\n    }\n    else {\n        if (ValueIsFiniteNumber(maxValue)) { // more robust than \"isFinite\" alone\n            if (Value > maxValue) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n/**** ValueIsOrdinal ****/\nfunction ValueIsOrdinal(Value) {\n    if ((typeof Value !== 'number') && !(Value instanceof Number)) {\n        return false;\n    }\n    Value = Value.valueOf();\n    return isFinite(Value) && (Math.round(Value) === Value) && (Value >= 0);\n}\n/**** ValueIsCardinal ****/\nfunction ValueIsCardinal(Value) {\n    if ((typeof Value !== 'number') && !(Value instanceof Number)) {\n        return false;\n    }\n    Value = Value.valueOf();\n    return isFinite(Value) && (Math.round(Value) === Value) && (Value >= 1);\n}\n/**** ValueIsString ****/\nfunction ValueIsString(Value) {\n    return (typeof Value === 'string') || (Value instanceof String);\n}\n/**** ValueIs[Non]EmptyString ****/\nvar emptyStringPattern = /^\\s*$/;\nfunction ValueIsEmptyString(Value) {\n    return ((typeof Value === 'string') || (Value instanceof String)) && emptyStringPattern.test(Value.valueOf());\n}\nfunction ValueIsNonEmptyString(Value) {\n    return ((typeof Value === 'string') || (Value instanceof String)) && !emptyStringPattern.test(Value.valueOf());\n}\n/**** ValueIsStringMatching ****/\nfunction ValueIsStringMatching(Value, Pattern) {\n    return ((typeof Value === 'string') || (Value instanceof String)) && Pattern.test(Value.valueOf());\n}\n/**** ValueIsText ****/\nvar noCtrlCharsButCRLFPattern = /^[^\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x9F\\u2028\\u2029\\uFFF9-\\uFFFB]*$/;\nfunction ValueIsText(Value) {\n    return ValueIsStringMatching(Value, noCtrlCharsButCRLFPattern);\n}\n/**** ValueIsTextline ****/\nvar noCtrlCharsPattern = /^[^\\x00-\\x1F\\x7F-\\x9F\\u2028\\u2029\\uFFF9-\\uFFFB]*$/;\nfunction ValueIsTextline(Value) {\n    return ValueIsStringMatching(Value, noCtrlCharsPattern);\n}\n/**** ValueIsFunction ****/\nfunction ValueIsFunction(Value) {\n    return (typeof Value === 'function');\n}\n/**** ValueIsAnonymousFunction ****/\nfunction ValueIsAnonymousFunction(Value) {\n    return ((typeof Value === 'function') &&\n        ((Value.name == null) || (Value.name === '')));\n}\n/**** ValueIsNamedFunction ****/\nfunction ValueIsNamedFunction(Value) {\n    return ((typeof Value === 'function') &&\n        (Value.name != null) && (Value.name !== ''));\n}\n/**** ValueIsNativeFunction ****/\nfunction ValueIsNativeFunction(Value) {\n    return ((typeof Value === 'function') &&\n        /^function\\s*[^(]*\\(\\)\\s*\\{\\s*\\[native code\\]\\s*\\}\\s*$/.test(Value.toString()));\n}\n/**** ValueIsScriptedFunction ****/\nfunction ValueIsScriptedFunction(Value) {\n    return ((typeof Value === 'function') &&\n        !/^function\\s*[^(]*\\(\\)\\s*\\{\\s*\\[native code\\]\\s*\\}\\s*$/.test(Value.toString()));\n}\n/**** ValueIsObject ****/\nfunction ValueIsObject(Value) {\n    return (Value != null) && (typeof Value === 'object');\n}\n/**** ValueIsPlainObject ****/\nfunction ValueIsPlainObject(Value) {\n    return ((Value != null) && (typeof Value === 'object') &&\n        (Object.getPrototypeOf(Value) === Object.prototype));\n}\n/**** ValueIsVanillaObject ****/\nfunction ValueIsVanillaObject(Value) {\n    return ((Value != null) && (typeof Value === 'object') &&\n        !(Value instanceof Object));\n}\n/**** ValueIsArray ****/\nvar ValueIsArray = Array.isArray;\n/**** ValueIsList (\"dense\" array) ****/\nfunction ValueIsList(Value, minLength, maxLength) {\n    if (ValueIsArray(Value)) {\n        for (var i = 0, l = Value.length; i < l; i++) {\n            if (Value[i] === undefined) {\n                return false;\n            }\n        }\n        if (minLength != null) {\n            if (Value.length < minLength) {\n                return false;\n            }\n        }\n        if (maxLength != null) {\n            if (Value.length > maxLength) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n}\n/**** ValueIsListSatisfying ****/\nfunction ValueIsListSatisfying(Value, Validator, minLength, maxLength) {\n    if (ValueIsArray(Value)) {\n        try {\n            for (var i = 0, l = Value.length; i < l; i++) {\n                if (Validator(Value[i]) == false) {\n                    return false;\n                }\n            }\n            if (minLength != null) {\n                if (Value.length < minLength) {\n                    return false;\n                }\n            }\n            if (maxLength != null) {\n                if (Value.length > maxLength) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        catch (Signal) { /* nop */ }\n    }\n    return false;\n}\n/**** ValueIsInstanceOf ****/\nfunction ValueIsInstanceOf(Value, Constructor) {\n    return (Value instanceof Constructor);\n}\n/**** ValueInheritsFrom ****/\nfunction ValueInheritsFrom(Value, Prototype) {\n    return Object_isPrototypeOf(Prototype, Value);\n}\n/**** ValueIsDate ****/\nfunction ValueIsDate(Value) {\n    return (Value instanceof Date);\n}\n/**** ValueIsError ****/\nfunction ValueIsError(Value) {\n    return (Value instanceof Error);\n}\n/**** ValueIsPromise ****/\nfunction ValueIsPromise(Value) {\n    return (Value != null) && (typeof Value.then === 'function');\n}\n// see https://stackoverflow.com/questions/27746304/how-do-i-tell-if-an-object-is-a-promise\n/**** ValueIsRegExp ****/\nfunction ValueIsRegExp(Value) {\n    return (Value instanceof RegExp);\n}\n/**** ValueIsOneOf ****/\nfunction ValueIsOneOf(Value, ValueList) {\n    return (ValueList.indexOf(Value) >= 0);\n} // no automatic unboxing of boxed values and vice-versa!\n/**** ValueIsColor ****/\nfunction ValueIsColor(Value) {\n    return ValueIsString(Value) && (ColorSet.hasOwnProperty(Value) ||\n        /^#[a-fA-F0-9]{6}$/.test(Value) ||\n        /^#[a-fA-F0-9]{8}$/.test(Value) ||\n        /^rgb\\([0-9]+,\\s*[0-9]+,\\s*[0-9]+\\)$/.test(Value) || // not perfect\n        /^rgba\\([0-9]+,\\s*[0-9]+,\\s*[0-9]+,([01]|[0]?[.][0-9]+)\\)$/.test(Value) // dto.\n    );\n}\n/**** ValueIsEMailAddress ****/\nvar EMailAddressPattern = /(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])/;\n// see https://stackoverflow.com/questions/201323/how-to-validate-an-email-address-using-a-regular-expression\nfunction ValueIsEMailAddress(Value) {\n    return ValueIsStringMatching(Value, EMailAddressPattern);\n}\n/**** ValueIsURL ****/\nvar noCtrlCharsOrWhitespacePattern = /^[^\\s\\x00-\\x1F\\x7F-\\x9F\\u2028\\u2029\\uFFF9-\\uFFFB]*$/;\nfunction ValueIsURL(Value) {\n    if (!ValueIsStringMatching(Value, noCtrlCharsOrWhitespacePattern) ||\n        (Value === '')) {\n        return false;\n    }\n    try {\n        new URL(Value, 'file://');\n        return true;\n    }\n    catch (Signal) {\n        return false;\n    }\n}\n//------------------------------------------------------------------------------\n//--                      Argument Validation Functions                       --\n//------------------------------------------------------------------------------\nvar rejectNil = false;\nvar acceptNil = true;\n/**** validatedArgument ****/\nfunction validatedArgument(Description, Argument, ValueIsValid, NilIsAcceptable, Expectation) {\n    if (Argument == null) {\n        if (NilIsAcceptable) {\n            return Argument;\n        }\n        else {\n            throwError(\"MissingArgument: no \".concat(escaped(Description), \" given\"));\n        }\n    }\n    else {\n        if (ValueIsValid(Argument)) {\n            switch (true) {\n                case Argument instanceof Boolean:\n                case Argument instanceof Number:\n                case Argument instanceof String:\n                    return Argument.valueOf(); // unboxes any primitives\n                default:\n                    return Argument;\n            }\n        }\n        else {\n            throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is no valid \").concat(escaped(Expectation)));\n        }\n    }\n}\n/**** ValidatorForClassifier ****/\nfunction ValidatorForClassifier(Classifier, NilIsAcceptable, Expectation) {\n    var Validator = function (Description, Argument) {\n        return validatedArgument(Description, Argument, Classifier, NilIsAcceptable, Expectation);\n    };\n    var ClassifierName = Classifier.name;\n    if ((ClassifierName != null) && /^ValueIs/.test(ClassifierName)) {\n        var ValidatorName = ClassifierName.replace(// derive name from validator\n        /^ValueIs/, NilIsAcceptable ? 'allow' : 'expect');\n        return FunctionWithName(Validator, ValidatorName);\n    }\n    else {\n        return Validator; // without any specific name\n    }\n}\n/**** FunctionWithName (works with older JS engines as well) ****/\nfunction FunctionWithName(originalFunction, desiredName) {\n    if (originalFunction == null) {\n        throwError('MissingArgument: no function given');\n    }\n    if (typeof originalFunction !== 'function') {\n        throwError('InvalidArgument: the given 1st Argument is not a JavaScript function');\n    }\n    if (desiredName == null) {\n        throwError('MissingArgument: no desired name given');\n    }\n    if ((typeof desiredName !== 'string') && !(desiredName instanceof String)) {\n        throwError('InvalidArgument: the given desired name is not a string');\n    }\n    if (originalFunction.name === desiredName) {\n        return originalFunction;\n    }\n    try {\n        Object.defineProperty(originalFunction, 'name', { value: desiredName });\n        if (originalFunction.name === desiredName) {\n            return originalFunction;\n        }\n    }\n    catch (signal) { /* ok - let's take the hard way */ }\n    var renamed = new Function('originalFunction', 'return function ' + desiredName + ' () {' +\n        'return originalFunction.apply(this,Array.prototype.slice.apply(arguments))' +\n        '}');\n    return renamed(originalFunction);\n} // also works with older JavaScript engines\n/**** expect[ed]Value ****/\nfunction expectValue(Description, Argument) {\n    if (Argument == null) {\n        throwError(\"MissingArgument: no \".concat(escaped(Description), \" given\"));\n    }\n    else {\n        return Argument.valueOf();\n    }\n}\nvar expectedValue = expectValue;\n/**** allow/expect[ed]Boolean ****/\nvar allowBoolean = /*#__PURE__*/ ValidatorForClassifier(ValueIsBoolean, acceptNil, 'boolean value'), allowedBoolean = allowBoolean;\nvar expectBoolean = /*#__PURE__*/ ValidatorForClassifier(ValueIsBoolean, rejectNil, 'boolean value'), expectedBoolean = expectBoolean;\n/**** allow/expect[ed]Number ****/\nvar allowNumber = /*#__PURE__*/ ValidatorForClassifier(ValueIsNumber, acceptNil, 'numeric value'), allowedNumber = allowNumber;\nvar expectNumber = /*#__PURE__*/ ValidatorForClassifier(ValueIsNumber, rejectNil, 'numeric value'), expectedNumber = expectNumber;\n/**** allow/expect[ed]FiniteNumber ****/\nvar allowFiniteNumber = /*#__PURE__*/ ValidatorForClassifier(ValueIsFiniteNumber, acceptNil, 'finite numeric value'), allowedFiniteNumber = allowFiniteNumber;\nvar expectFiniteNumber = /*#__PURE__*/ ValidatorForClassifier(ValueIsFiniteNumber, rejectNil, 'finite numeric value'), expectedFiniteNumber = expectFiniteNumber;\n/**** allow/expect[ed]NaN ****/\nvar allowNaN = /*#__PURE__*/ ValidatorForClassifier(ValueIsNaN, acceptNil, 'NaN value'), allowedNaN = allowNaN;\nvar expectNaN = /*#__PURE__*/ ValidatorForClassifier(ValueIsNaN, rejectNil, 'NaN value'), expectedNaN = expectNaN;\n/**** allow[ed]NumberInRange ****/\nfunction allowNumberInRange(Description, Argument, minValue, maxValue, withMin, withMax) {\n    return (Argument == null\n        ? Argument\n        : expectedNumberInRange(Description, Argument, minValue, maxValue, withMin, withMax));\n}\nvar allowedNumberInRange = allowNumberInRange;\n/**** expect[ed]NumberInRange ****/\nfunction expectNumberInRange(Description, Argument, minValue, maxValue, withMin, withMax) {\n    expectNumber(Description, Argument);\n    if (isNaN(Argument)) {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is not-a-number\"));\n    }\n    if (withMin == null) {\n        withMin = true;\n    }\n    if (withMax == null) {\n        withMax = true;\n    }\n    if ((minValue != null) && isFinite(minValue)) {\n        if ((maxValue != null) && isFinite(maxValue)) {\n            if ((Argument < minValue) || (!withMin && (Argument === minValue)) ||\n                (Argument > maxValue) || (!withMax && (Argument === maxValue))) {\n                throw new RangeError(\"the given \".concat(escaped(Description), \" (\").concat(Argument, \") is outside \") +\n                    \"the allowed range (\".concat(minValue, \"...\").concat(maxValue, \")\"));\n            }\n        }\n        else {\n            if ((Argument < minValue) || (!withMin && (Argument === minValue))) {\n                throw new RangeError(\"the given \".concat(escaped(Description), \" is below the allowed \") +\n                    \"minimum (\".concat(Argument, \" \").concat(withMin ? '<' : '<=', \" \").concat(minValue, \")\"));\n            }\n        }\n    }\n    else {\n        if ((maxValue != null) && isFinite(maxValue)) {\n            if ((Argument > maxValue) || (!withMax && (Argument === maxValue))) {\n                throw new RangeError(\"the given \".concat(escaped(Description), \" exceeds the allowed \") +\n                    \"maximum (\".concat(Argument, \" \").concat(withMax ? '>' : '>=', \" \").concat(maxValue, \")\"));\n            }\n        }\n    }\n    return Argument.valueOf();\n}\nvar expectedNumberInRange = expectNumberInRange;\n/**** allow/expect[ed]Integer ****/\nvar allowInteger = /*#__PURE__*/ ValidatorForClassifier(ValueIsInteger, acceptNil, 'integral numeric value'), allowedInteger = allowInteger;\nvar expectInteger = /*#__PURE__*/ ValidatorForClassifier(ValueIsInteger, rejectNil, 'integral numeric value'), expectedInteger = expectInteger;\n/**** allow[ed]IntegerInRange ****/\nfunction allowIntegerInRange(Description, Argument, minValue, maxValue) {\n    return (Argument == null\n        ? Argument\n        : expectedIntegerInRange(Description, Argument, minValue, maxValue));\n}\nvar allowedIntegerInRange = allowIntegerInRange;\n/**** expect[ed]IntegerInRange ****/\nfunction expectIntegerInRange(Description, Argument, minValue, maxValue) {\n    expectInteger(Description, Argument);\n    if (isNaN(Argument)) {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is not-a-number\"));\n    }\n    if ((minValue != null) && isFinite(minValue)) {\n        if ((maxValue != null) && isFinite(maxValue)) {\n            if ((Argument < minValue) || (Argument > maxValue)) {\n                throw new RangeError(\"the given \".concat(escaped(Description), \" (\").concat(Argument, \") is outside \") +\n                    \"the allowed range (\".concat(minValue, \"...\").concat(maxValue, \")\"));\n            }\n        }\n        else {\n            if (Argument < minValue) {\n                throw new RangeError(\"the given \".concat(escaped(Description), \" is below the allowed \") +\n                    \"minimum (\".concat(Argument, \" < \").concat(minValue, \")\"));\n            }\n        }\n    }\n    else {\n        if ((maxValue != null) && isFinite(maxValue)) {\n            if (Argument > maxValue) {\n                throw new RangeError(\"the given \".concat(escaped(Description), \" exceeds the allowed \") +\n                    \"maximum (\".concat(Argument, \" > \").concat(maxValue, \")\"));\n            }\n        }\n    }\n    return Argument.valueOf();\n}\nvar expectedIntegerInRange = expectIntegerInRange;\n/**** allow/expect[ed]Ordinal ****/\nvar allowOrdinal = /*#__PURE__*/ ValidatorForClassifier(ValueIsOrdinal, acceptNil, 'ordinal number'), allowedOrdinal = allowOrdinal;\nvar expectOrdinal = /*#__PURE__*/ ValidatorForClassifier(ValueIsOrdinal, rejectNil, 'ordinal number'), expectedOrdinal = expectOrdinal;\n/**** allow/expect[ed]Cardinal ****/\nvar allowCardinal = /*#__PURE__*/ ValidatorForClassifier(ValueIsCardinal, acceptNil, 'cardinal number'), allowedCardinal = allowCardinal;\nvar expectCardinal = /*#__PURE__*/ ValidatorForClassifier(ValueIsCardinal, rejectNil, 'cardinal number'), expectedCardinal = expectCardinal;\n/**** allow/expect[ed]String ****/\nvar allowString = /*#__PURE__*/ ValidatorForClassifier(ValueIsString, acceptNil, 'literal string'), allowedString = allowString;\nvar expectString = /*#__PURE__*/ ValidatorForClassifier(ValueIsString, rejectNil, 'literal string'), expectedString = expectString;\n/**** allow/expect[ed]NonEmptyString ****/\nvar allowNonEmptyString = /*#__PURE__*/ ValidatorForClassifier(ValueIsNonEmptyString, acceptNil, 'non-empty literal string'), allowedNonEmptyString = allowNonEmptyString;\nvar expectNonEmptyString = /*#__PURE__*/ ValidatorForClassifier(ValueIsNonEmptyString, rejectNil, 'non-empty literal string'), expectedNonEmptyString = expectNonEmptyString;\n/**** allow[ed]StringMatching ****/\nfunction allowStringMatching(Description, Argument, Pattern) {\n    return (Argument == null\n        ? Argument\n        : expectedStringMatching(Description, Argument, Pattern));\n}\nvar allowedStringMatching = allowStringMatching;\n/**** expect[ed]StringMatching ****/\nfunction expectStringMatching(Description, Argument, Pattern) {\n    expectString(Description, Argument);\n    if (Pattern.test(Argument)) {\n        return Argument.valueOf();\n    }\n    else {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" does not match the specified pattern\"));\n    }\n}\nvar expectedStringMatching = expectStringMatching;\n/**** allow/expect[ed]Text ****/\nvar allowText = /*#__PURE__*/ ValidatorForClassifier(ValueIsText, acceptNil, 'literal text'), allowedText = allowText;\nvar expectText = /*#__PURE__*/ ValidatorForClassifier(ValueIsText, rejectNil, 'literal text'), expectedText = expectText;\n/**** allow/expect[ed]Textline ****/\nvar allowTextline = /*#__PURE__*/ ValidatorForClassifier(ValueIsTextline, acceptNil, 'single line of text'), allowedTextline = allowTextline;\nvar expectTextline = /*#__PURE__*/ ValidatorForClassifier(ValueIsTextline, rejectNil, 'single line of text'), expectedTextline = expectTextline;\n/**** allow/expect[ed]Function ****/\nvar allowFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsFunction, acceptNil, 'JavaScript function'), allowedFunction = allowFunction;\nvar expectFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsFunction, rejectNil, 'JavaScript function'), expectedFunction = expectFunction;\n/**** allow/expect[ed]AnonymousFunction ****/\nvar allowAnonymousFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsAnonymousFunction, acceptNil, 'anonymous JavaScript function'), allowedAnonymousFunction = allowAnonymousFunction;\nvar expectAnonymousFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsAnonymousFunction, rejectNil, 'anonymous JavaScript function'), expectedAnonymousFunction = expectAnonymousFunction;\n/**** allow/expect[ed]NamedFunction ****/\nvar allowNamedFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsNamedFunction, acceptNil, 'named JavaScript function'), allowedNamedFunction = allowNamedFunction;\nvar expectNamedFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsNamedFunction, rejectNil, 'named JavaScript function'), expectedNamedFunction = expectNamedFunction;\n/**** allow/expect[ed]NativeFunction ****/\nvar allowNativeFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsNativeFunction, acceptNil, 'native JavaScript function'), allowedNativeFunction = allowNativeFunction;\nvar expectNativeFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsNativeFunction, rejectNil, 'native JavaScript function'), expectedNativeFunction = expectNativeFunction;\n/**** allow/expect[ed]ScriptedFunction ****/\nvar allowScriptedFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsScriptedFunction, acceptNil, 'scripted JavaScript function'), allowedScriptedFunction = allowScriptedFunction;\nvar expectScriptedFunction = /*#__PURE__*/ ValidatorForClassifier(ValueIsScriptedFunction, rejectNil, 'scripted JavaScript function'), expectedScriptedFunction = expectScriptedFunction;\n/**** allow/expect[ed]Object ****/\nvar allowObject = /*#__PURE__*/ ValidatorForClassifier(ValueIsObject, acceptNil, 'JavaScript object'), allowedObject = allowObject;\nvar expectObject = /*#__PURE__*/ ValidatorForClassifier(ValueIsObject, rejectNil, 'JavaScript object'), expectedObject = expectObject;\n/**** allow/expect[ed]PlainObject ****/\nvar allowPlainObject = /*#__PURE__*/ ValidatorForClassifier(ValueIsPlainObject, acceptNil, '\"plain\" JavaScript object'), allowedPlainObject = allowPlainObject;\nvar expectPlainObject = /*#__PURE__*/ ValidatorForClassifier(ValueIsPlainObject, rejectNil, '\"plain\" JavaScript object'), expectedPlainObject = expectPlainObject;\n/**** allow/expect[ed]VanillaObject ****/\nvar allowVanillaObject = /*#__PURE__*/ ValidatorForClassifier(ValueIsVanillaObject, acceptNil, '\"vanilla\" JavaScript object'), allowedVanillaObject = allowVanillaObject;\nvar expectVanillaObject = /*#__PURE__*/ ValidatorForClassifier(ValueIsVanillaObject, rejectNil, '\"vanilla\" JavaScript object'), expectedVanillaObject = expectVanillaObject;\n/**** allow[ed]Array ****/\nfunction allowArray(Description, Argument) {\n    return (Argument == null\n        ? Argument\n        : expectedArray(Description, Argument));\n}\nvar allowedArray = allowArray;\n/**** expect[ed]Array ****/\nfunction expectArray(Description, Argument) {\n    if (Argument == null) {\n        throwError(\"MissingArgument: no \".concat(escaped(Description), \" given\"));\n    }\n    if (ValueIsArray(Argument)) {\n        return Argument;\n    }\n    else {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is no JavaScript array\"));\n    }\n}\nvar expectedArray = expectArray;\n/**** allow[ed]List ****/\nfunction allowList(Description, Argument, Expectation, minLength, maxLength) {\n    return (Argument == null\n        ? Argument\n        : expectedList(Description, Argument, Expectation, minLength, maxLength));\n}\nvar allowedList = allowList;\n/**** expect[ed]List ****/\nfunction expectList(Description, Argument, Expectation, minLength, maxLength) {\n    if (Argument == null) {\n        throwError(\"MissingArgument: no \".concat(escaped(Description), \" given\"));\n    }\n    if (ValueIsList(Argument, minLength, maxLength)) {\n        return Argument;\n    }\n    else {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is \") + (Expectation == null\n            ? 'either not a list or contains an invalid number of elements'\n            : 'no ' + escaped(Expectation)));\n    }\n}\nvar expectedList = expectList;\n/**** allow[ed]ListSatisfying ****/\nfunction allowListSatisfying(Description, Argument, Validator, Expectation, minLength, maxLength) {\n    return (Argument == null\n        ? Argument\n        : expectedListSatisfying(Description, Argument, Validator, Expectation, minLength, maxLength));\n}\nvar allowedListSatisfying = allowListSatisfying;\n/**** expect[ed]ListSatisfying ****/\nfunction expectListSatisfying(Description, Argument, Validator, Expectation, minLength, maxLength) {\n    if (Argument == null) {\n        throwError(\"MissingArgument: no \".concat(escaped(Description), \" given\"));\n    }\n    if (ValueIsListSatisfying(Argument, Validator, minLength, maxLength)) {\n        return Argument;\n    }\n    else {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is \") + (Expectation == null\n            ? 'either not a list or contains invalid elements'\n            : 'no ' + escaped(Expectation)));\n    }\n}\nvar expectedListSatisfying = expectListSatisfying;\n/**** allow[ed]InstanceOf ****/\nfunction allowInstanceOf(Description, Argument, constructor, Expectation) {\n    return (Argument == null\n        ? Argument\n        : expectedInstanceOf(Description, Argument, constructor, Expectation));\n}\nvar allowedInstanceOf = allowInstanceOf;\n/**** expect[ed]InstanceOf ****/\nfunction expectInstanceOf(Description, Argument, constructor, Expectation) {\n    if (Argument == null) {\n        throwError(\"MissingArgument: no \".concat(escaped(Description), \" given\"));\n    }\n    if (!(Argument instanceof constructor)) {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is no \").concat(escaped(Expectation)));\n    }\n    return Argument;\n}\nvar expectedInstanceOf = expectInstanceOf;\n/**** allow[ed]ValueInheritingFrom ****/\nfunction allowValueInheritingFrom(Description, Argument, prototype, Expectation) {\n    return (Argument == null\n        ? Argument\n        : expectedValueInheritingFrom(Description, Argument, prototype, Expectation));\n}\nvar allowedValueInheritingFrom = allowValueInheritingFrom;\n/**** expect[ed]ValueInheritingFrom ****/\nfunction expectValueInheritingFrom(Description, Argument, prototype, Expectation) {\n    if (Argument == null) {\n        throwError(\"MissingArgument: no \".concat(escaped(Description), \" given\"));\n    }\n    if (prototype.isPrototypeOf(Argument)) {\n        return Argument;\n    }\n    else {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is no \").concat(escaped(Expectation)));\n    }\n}\nvar expectedValueInheritingFrom = expectValueInheritingFrom;\n/**** allow/expect[ed]Date ****/\nvar allowDate = /*#__PURE__*/ ValidatorForClassifier(ValueIsDate, acceptNil, 'JavaScript Date object'), allowedDate = allowDate;\nvar expectDate = /*#__PURE__*/ ValidatorForClassifier(ValueIsDate, rejectNil, 'JavaScript Date object'), expectedDate = expectDate;\n/**** allow/expect[ed]Error ****/\nvar allowError = /*#__PURE__*/ ValidatorForClassifier(ValueIsError, acceptNil, 'JavaScript Error object'), allowedError = allowError;\nvar expectError = /*#__PURE__*/ ValidatorForClassifier(ValueIsError, rejectNil, 'JavaScript Error object'), expectedError = expectError;\n/**** allow/expect[ed]Promise ****/\nvar allowPromise = /*#__PURE__*/ ValidatorForClassifier(ValueIsPromise, acceptNil, 'JavaScript Promise (or \"Thenable\") object'), allowedPromise = allowPromise;\nvar expectPromise = /*#__PURE__*/ ValidatorForClassifier(ValueIsPromise, rejectNil, 'JavaScript Promise (or \"Thenable\") object'), expectedPromise = expectPromise;\n/**** allow/expect[ed]RegExp ****/\nvar allowRegExp = /*#__PURE__*/ ValidatorForClassifier(ValueIsRegExp, acceptNil, 'JavaScript RegExp object'), allowedRegExp = allowRegExp;\nvar expectRegExp = /*#__PURE__*/ ValidatorForClassifier(ValueIsRegExp, rejectNil, 'JavaScript RegExp object'), expectedRegExp = expectRegExp;\n/**** allow[ed]OneOf ****/\nfunction allowOneOf(Description, Argument, ValueList) {\n    return (Argument == null\n        ? Argument\n        : expectedOneOf(Description, Argument, ValueList));\n}\nvar allowedOneOf = allowOneOf;\n/**** expect[ed]OneOf ****/\nfunction expectOneOf(Description, Argument, ValueList) {\n    if (Argument == null) {\n        throwError(\"MissingArgument: no \".concat(escaped(Description), \" given\"));\n    }\n    if (ValueIsOneOf(Argument, ValueList)) {\n        return ( // unboxes any primitives\n        (Argument == null) || (typeof Argument.valueOf !== 'function')\n            ? Argument\n            : Argument.valueOf());\n    }\n    else {\n        throwError(\"InvalidArgument: the given \".concat(escaped(Description), \" is not among the supported values\"));\n    }\n}\nvar expectedOneOf = expectOneOf;\n/**** allow/expect[ed]Color ****/\nvar allowColor = /*#__PURE__*/ ValidatorForClassifier(ValueIsColor, acceptNil, 'CSS color specification'), allowedColor = allowColor;\nvar expectColor = /*#__PURE__*/ ValidatorForClassifier(ValueIsColor, rejectNil, 'CSS color specification'), expectedColor = expectColor;\n/**** allow/expect[ed]EMailAddress ****/\nvar allowEMailAddress = /*#__PURE__*/ ValidatorForClassifier(ValueIsEMailAddress, acceptNil, 'EMail address'), allowedEMailAddress = allowEMailAddress;\nvar expectEMailAddress = /*#__PURE__*/ ValidatorForClassifier(ValueIsEMailAddress, rejectNil, 'EMail address'), expectedEMailAddress = expectEMailAddress;\n/**** allow/expect[ed]URL ****/\nvar allowURL = /*#__PURE__*/ ValidatorForClassifier(ValueIsURL, acceptNil, 'URL'), allowedURL = allowURL;\nvar expectURL = /*#__PURE__*/ ValidatorForClassifier(ValueIsURL, rejectNil, 'URL'), expectedURL = expectURL;\n/**** escaped - escapes all control characters in a given string ****/\nfunction escaped(Text) {\n    var EscapeSequencePattern = /\\\\x[0-9a-zA-Z]{2}|\\\\u[0-9a-zA-Z]{4}|\\\\[0bfnrtv'\"\\\\\\/]?/g;\n    var CtrlCharCodePattern = /[\\x00-\\x1f\\x7f-\\x9f]/g;\n    return Text\n        .replace(EscapeSequencePattern, function (Match) {\n        return (Match === '\\\\' ? '\\\\\\\\' : Match);\n    })\n        .replace(CtrlCharCodePattern, function (Match) {\n        switch (Match) {\n            case '\\0': return '\\\\0';\n            case '\\b': return '\\\\b';\n            case '\\f': return '\\\\f';\n            case '\\n': return '\\\\n';\n            case '\\r': return '\\\\r';\n            case '\\t': return '\\\\t';\n            case '\\v': return '\\\\v';\n            default: {\n                var HexCode = Match.charCodeAt(0).toString(16);\n                return '\\\\x' + '00'.slice(HexCode.length) + HexCode;\n            }\n        }\n    });\n}\n/**** unescaped - evaluates all escape sequences in a given string ****/\nfunction unescaped(Text) {\n    var EscapeSequencePattern = /\\\\[0bfnrtv'\"\\\\\\/]|\\\\x[0-9a-zA-Z]{2}|\\\\u[0-9a-zA-Z]{4}/g;\n    return Text\n        .replace(EscapeSequencePattern, function (Match) {\n        switch (Match) {\n            case '\\\\0': return '\\0';\n            case '\\\\b': return '\\b';\n            case '\\\\f': return '\\f';\n            case '\\\\n': return '\\n';\n            case '\\\\r': return '\\r';\n            case '\\\\t': return '\\t';\n            case '\\\\v': return '\\v';\n            case '\\\\\\'': return \"'\";\n            case '\\\\\"': return '\"';\n            case '\\\\\\\\': return \"\\\\\";\n            default: {\n                var CharCode = parseInt(Match.slice(2), 16);\n                return String.fromCharCode(CharCode);\n            }\n        }\n    });\n}\n/**** quotable - makes a given string ready to be put in single/double quotes ****/\nfunction quotable(Text, Quote) {\n    if (Quote === void 0) { Quote = '\"'; }\n    var EscSeqOrSglQuotePattern = /\\\\x[0-9a-zA-Z]{2}|\\\\u[0-9a-zA-Z]{4}|\\\\[0bfnrtv'\"\\\\\\/]?|'/g;\n    var EscSeqOrDblQuotePattern = /\\\\x[0-9a-zA-Z]{2}|\\\\u[0-9a-zA-Z]{4}|\\\\[0bfnrtv'\"\\\\\\/]?|\"/g;\n    var CtrlCharCodePattern = /[\\x00-\\x1f\\x7f-\\x9f]/g;\n    return Text\n        .replace(Quote === \"'\" ? EscSeqOrSglQuotePattern : EscSeqOrDblQuotePattern, function (Match) {\n        switch (Match) {\n            case \"'\": return \"\\\\'\";\n            case '\"': return '\\\\\"';\n            case '\\\\': return '\\\\\\\\';\n            default: return Match;\n        }\n    })\n        .replace(CtrlCharCodePattern, function (Match) {\n        switch (Match) {\n            case '\\0': return '\\\\0';\n            case '\\b': return '\\\\b';\n            case '\\f': return '\\\\f';\n            case '\\n': return '\\\\n';\n            case '\\r': return '\\\\r';\n            case '\\t': return '\\\\t';\n            case '\\v': return '\\\\v';\n            default: {\n                var HexCode = Match.charCodeAt(0).toString(16);\n                return '\\\\x' + '00'.slice(HexCode.length) + HexCode;\n            }\n        }\n    });\n}\n/**** quoted ****/\nfunction quoted(Text, Quote) {\n    if (Quote === void 0) { Quote = '\"'; }\n    return Quote + quotable(Text, Quote) + Quote;\n}\n/**** HTMLsafe ****/\nfunction HTMLsafe(Argument, EOLReplacement) {\n    EOLReplacement = (EOLReplacement || '').trim() || '<br/>';\n    return Argument.replace(/[&<>\"'\\u0000-\\u001F\\u007F-\\u009F\\\\]/g, function (Match) {\n        switch (Match) {\n            case '&': return '&amp;';\n            case '<': return '&lt;';\n            case '>': return '&gt;';\n            case '\"': return '&quot;';\n            case \"'\": return '&apos;';\n            case '\\b': return '&#92;b';\n            case '\\f': return '&#92;f';\n            case '\\n': return EOLReplacement;\n            case '\\r': return '&#92;r';\n            case '\\t': return '&#92;t';\n            case '\\v': return '&#92;v';\n            case '\\\\': return '&#92;';\n            default:\n                var Result = Match.charCodeAt(0).toString(16);\n                return '&#x0000'.substring(3, 7 - Result.length) + Result + ';';\n        }\n    });\n}\n/**** MarkDownSafe ****/\nfunction MarkDownSafe(Argument, EOLReplacement) {\n    return HTMLsafe(Argument, EOLReplacement).replace(/:/g, '&#58;');\n}\n/**** ValuesDiffer ****/\nfunction ValuesDiffer(thisValue, otherValue, Mode) {\n    if (thisValue === otherValue) {\n        return false;\n    }\n    var thisType = typeof thisValue;\n    if (thisType !== typeof otherValue) {\n        return true;\n    }\n    /**** ArraysDiffer ****/\n    function ArraysDiffer(thisArray, otherArray, Mode) {\n        if (!Array.isArray(otherArray)) {\n            return true;\n        }\n        if (thisArray.length !== otherArray.length) {\n            return true;\n        }\n        for (var i = 0, l = thisArray.length; i < l; i++) {\n            if (ValuesDiffer(thisArray[i], otherArray[i], Mode)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**** ObjectsDiffer ****/\n    function ObjectsDiffer(thisObject, otherObject, Mode) {\n        if (Object.getPrototypeOf(thisObject) !== Object.getPrototypeOf(otherObject)) {\n            return true;\n        }\n        for (var key in thisObject) {\n            if (!(key in otherObject)) {\n                return true;\n            }\n        }\n        for (var key in otherObject) {\n            if (!(key in thisObject)) {\n                return true;\n            }\n            if (ValuesDiffer(thisObject[key], otherObject[key], Mode)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    switch (thisType) {\n        case 'undefined':\n        case 'boolean':\n        case 'string':\n        case 'function': return true; // most primitives are compared using \"===\"\n        case 'number': return ((isNaN(thisValue) !== isNaN(otherValue)) ||\n            (Math.abs(thisValue - otherValue) > Number.EPSILON));\n        case 'object':\n            if (thisValue == null) {\n                return true;\n            } // since \"other_value\" != null!\n            if (otherValue == null) {\n                return true;\n            } // since \"this_value\" != null!\n            if ((Mode === 'by-value') && ((thisValue instanceof Boolean) ||\n                (thisValue instanceof Number) ||\n                (thisValue instanceof String))) {\n                return (thisValue.valueOf() !== otherValue.valueOf());\n            }\n            if (Array.isArray(thisValue)) {\n                return ArraysDiffer(thisValue, otherValue, Mode);\n            }\n            return (Mode === 'by-reference'\n                ? true // because (thisValue !== otherValue)\n                : ObjectsDiffer(thisValue, otherValue, Mode));\n        default: return true; // unsupported property type\n    }\n    return true;\n}\n/**** ValuesAreEqual ****/\nfunction ValuesAreEqual(thisValue, otherValue, Mode) {\n    return !ValuesDiffer(thisValue, otherValue, Mode);\n}\n/**** ObjectIsEmpty ****/\nfunction ObjectIsEmpty(Candidate) {\n    expectObject('candidate', Candidate);\n    for (var Key in Candidate) {\n        if (Object_hasOwnProperty(Candidate, Key)) {\n            return false;\n        }\n    }\n    return true;\n}\n/**** ObjectIsNotEmpty ****/\nfunction ObjectIsNotEmpty(Candidate) {\n    return !ObjectIsEmpty(Candidate);\n}\n/**** StringIsEmpty ****/\nfunction StringIsEmpty(Candidate) {\n    return /^\\s*$/.test(Candidate);\n}\n/**** StringIsNotEmpty ****/\nfunction StringIsNotEmpty(Candidate) {\n    return !StringIsEmpty(Candidate);\n}\n/**** constrained ****/\nfunction constrained(Value, Minimum, Maximum) {\n    if (Minimum === void 0) { Minimum = -Infinity; }\n    if (Maximum === void 0) { Maximum = Infinity; }\n    return Math.max(Minimum, Math.min(Value, Maximum));\n}\n//------------------------------------------------------------------------------\n//--                             Color Utilities                              --\n//------------------------------------------------------------------------------\n// built-in color names (see http://www.w3.org/TR/SVG/types.html#ColorKeywords) ----\nvar ColorSet = {\n    transparent: 'rgba(0,0,0,0,0.0)',\n    aliceblue: 'rgba(240,248,255,1.0)', lightpink: 'rgba(255,182,193,1.0)',\n    antiquewhite: 'rgba(250,235,215,1.0)', lightsalmon: 'rgba(255,160,122,1.0)',\n    aqua: 'rgba(0,255,255,1.0)', lightseagreen: 'rgba(32,178,170,1.0)',\n    aquamarine: 'rgba(127,255,212,1.0)', lightskyblue: 'rgba(135,206,250,1.0)',\n    azure: 'rgba(240,255,255,1.0)', lightslategray: 'rgba(119,136,153,1.0)',\n    beige: 'rgba(245,245,220,1.0)', lightslategrey: 'rgba(119,136,153,1.0)',\n    bisque: 'rgba(255,228,196,1.0)', lightsteelblue: 'rgba(176,196,222,1.0)',\n    black: 'rgba(0,0,0,1.0)', lightyellow: 'rgba(255,255,224,1.0)',\n    blanchedalmond: 'rgba(255,235,205,1.0)', lime: 'rgba(0,255,0,1.0)',\n    blue: 'rgba(0,0,255,1.0)', limegreen: 'rgba(50,205,50,1.0)',\n    blueviolet: 'rgba(138,43,226,1.0)', linen: 'rgba(250,240,230,1.0)',\n    brown: 'rgba(165,42,42,1.0)', magenta: 'rgba(255,0,255,1.0)',\n    burlywood: 'rgba(222,184,135,1.0)', maroon: 'rgba(128,0,0,1.0)',\n    cadetblue: 'rgba(95,158,160,1.0)', mediumaquamarine: 'rgba(102,205,170,1.0)',\n    chartreuse: 'rgba(127,255,0,1.0)', mediumblue: 'rgba(0,0,205,1.0)',\n    chocolate: 'rgba(210,105,30,1.0)', mediumorchid: 'rgba(186,85,211,1.0)',\n    coral: 'rgba(255,127,80,1.0)', mediumpurple: 'rgba(147,112,219,1.0)',\n    cornflowerblue: 'rgba(100,149,237,1.0)', mediumseagreen: 'rgba(60,179,113,1.0)',\n    cornsilk: 'rgba(255,248,220,1.0)', mediumslateblue: 'rgba(123,104,238,1.0)',\n    crimson: 'rgba(220,20,60,1.0)', mediumspringgreen: 'rgba(0,250,154,1.0)',\n    cyan: 'rgba(0,255,255,1.0)', mediumturquoise: 'rgba(72,209,204,1.0)',\n    darkblue: 'rgba(0,0,139,1.0)', mediumvioletred: 'rgba(199,21,133,1.0)',\n    darkcyan: 'rgba(0,139,139,1.0)', midnightblue: 'rgba(25,25,112,1.0)',\n    darkgoldenrod: 'rgba(184,134,11,1.0)', mintcream: 'rgba(245,255,250,1.0)',\n    darkgray: 'rgba(169,169,169,1.0)', mistyrose: 'rgba(255,228,225,1.0)',\n    darkgreen: 'rgba(0,100,0,1.0)', moccasin: 'rgba(255,228,181,1.0)',\n    darkgrey: 'rgba(169,169,169,1.0)', navajowhite: 'rgba(255,222,173,1.0)',\n    darkkhaki: 'rgba(189,183,107,1.0)', navy: 'rgba(0,0,128,1.0)',\n    darkmagenta: 'rgba(139,0,139,1.0)', oldlace: 'rgba(253,245,230,1.0)',\n    darkolivegreen: 'rgba(85,107,47,1.0)', olive: 'rgba(128,128,0,1.0)',\n    darkorange: 'rgba(255,140,0,1.0)', olivedrab: 'rgba(107,142,35,1.0)',\n    darkorchid: 'rgba(153,50,204,1.0)', orange: 'rgba(255,165,0,1.0)',\n    darkred: 'rgba(139,0,0,1.0)', orangered: 'rgba(255,69,0,1.0)',\n    darksalmon: 'rgba(233,150,122,1.0)', orchid: 'rgba(218,112,214,1.0)',\n    darkseagreen: 'rgba(143,188,143,1.0)', palegoldenrod: 'rgba(238,232,170,1.0)',\n    darkslateblue: 'rgba(72,61,139,1.0)', palegreen: 'rgba(152,251,152,1.0)',\n    darkslategray: 'rgba(47,79,79,1.0)', paleturquoise: 'rgba(175,238,238,1.0)',\n    darkslategrey: 'rgba(47,79,79,1.0)', palevioletred: 'rgba(219,112,147,1.0)',\n    darkturquoise: 'rgba(0,206,209,1.0)', papayawhip: 'rgba(255,239,213,1.0)',\n    darkviolet: 'rgba(148,0,211,1.0)', peachpuff: 'rgba(255,218,185,1.0)',\n    deeppink: 'rgba(255,20,147,1.0)', peru: 'rgba(205,133,63,1.0)',\n    deepskyblue: 'rgba(0,191,255,1.0)', pink: 'rgba(255,192,203,1.0)',\n    dimgray: 'rgba(105,105,105,1.0)', plum: 'rgba(221,160,221,1.0)',\n    dimgrey: 'rgba(105,105,105,1.0)', powderblue: 'rgba(176,224,230,1.0)',\n    dodgerblue: 'rgba(30,144,255,1.0)', purple: 'rgba(128,0,128,1.0)',\n    firebrick: 'rgba(178,34,34,1.0)', red: 'rgba(255,0,0,1.0)',\n    floralwhite: 'rgba(255,250,240,1.0)', rosybrown: 'rgba(188,143,143,1.0)',\n    forestgreen: 'rgba(34,139,34,1.0)', royalblue: 'rgba(65,105,225,1.0)',\n    fuchsia: 'rgba(255,0,255,1.0)', saddlebrown: 'rgba(139,69,19,1.0)',\n    gainsboro: 'rgba(220,220,220,1.0)', salmon: 'rgba(250,128,114,1.0)',\n    ghostwhite: 'rgba(248,248,255,1.0)', sandybrown: 'rgba(244,164,96,1.0)',\n    gold: 'rgba(255,215,0,1.0)', seagreen: 'rgba(46,139,87,1.0)',\n    goldenrod: 'rgba(218,165,32,1.0)', seashell: 'rgba(255,245,238,1.0)',\n    gray: 'rgba(128,128,128,1.0)', sienna: 'rgba(160,82,45,1.0)',\n    green: 'rgba(0,128,0,1.0)', silver: 'rgba(192,192,192,1.0)',\n    greenyellow: 'rgba(173,255,47,1.0)', skyblue: 'rgba(135,206,235,1.0)',\n    grey: 'rgba(128,128,128,1.0)', slateblue: 'rgba(106,90,205,1.0)',\n    honeydew: 'rgba(240,255,240,1.0)', slategray: 'rgba(112,128,144,1.0)',\n    hotpink: 'rgba(255,105,180,1.0)', slategrey: 'rgba(112,128,144,1.0)',\n    indianred: 'rgba(205,92,92,1.0)', snow: 'rgba(255,250,250,1.0)',\n    indigo: 'rgba(75,0,130,1.0)', springgreen: 'rgba(0,255,127,1.0)',\n    ivory: 'rgba(255,255,240,1.0)', steelblue: 'rgba(70,130,180,1.0)',\n    khaki: 'rgba(240,230,140,1.0)', tan: 'rgba(210,180,140,1.0)',\n    lavender: 'rgba(230,230,250,1.0)', teal: 'rgba(0,128,128,1.0)',\n    lavenderblush: 'rgba(255,240,245,1.0)', thistle: 'rgba(216,191,216,1.0)',\n    lawngreen: 'rgba(124,252,0,1.0)', tomato: 'rgba(255,99,71,1.0)',\n    lemonchiffon: 'rgba(255,250,205,1.0)', turquoise: 'rgba(64,224,208,1.0)',\n    lightblue: 'rgba(173,216,230,1.0)', violet: 'rgba(238,130,238,1.0)',\n    lightcoral: 'rgba(240,128,128,1.0)', wheat: 'rgba(245,222,179,1.0)',\n    lightcyan: 'rgba(224,255,255,1.0)', white: 'rgba(255,255,255,1.0)',\n    lightgoldenrodyellow: 'rgba(250,250,210,1.0)', whitesmoke: 'rgba(245,245,245,1.0)',\n    lightgray: 'rgba(211,211,211,1.0)', yellow: 'rgba(255,255,0,1.0)',\n    lightgreen: 'rgba(144,238,144,1.0)', yellowgreen: 'rgba(154,205,50,1.0)',\n    lightgrey: 'rgba(211,211,211,1.0)',\n};\n/**** HexColor - converts a given color to #rrggbbaa ****/\nfunction HexColor(Color) {\n    var lowerColor = Color.toLowerCase();\n    if (ColorSet.hasOwnProperty(lowerColor)) {\n        // @ts-ignore TS dislikes indexing with literal keys\n        Color = ColorSet[lowerColor];\n    } // do not return here as color is now in RGBA format\n    if (/^#[a-fA-F0-9]{6}$/.test(Color)) {\n        return Color + 'FF';\n    }\n    if (/^#[a-fA-F0-9]{8}$/.test(Color)) {\n        return Color;\n    }\n    var HexDigit = '0123456789ABCDEF';\n    function dec2hex(Value) {\n        if (Value > 255) {\n            Value = 255;\n        }\n        return HexDigit[Math.trunc(Value / 16)] + HexDigit[Value % 16];\n    }\n    var RGBPattern = /^rgb\\(([0-9]+),\\s*([0-9]+),\\s*([0-9]+)\\)$/i; // not perfect\n    var Match = RGBPattern.exec(Color);\n    if (Match != null) {\n        return ('#' +\n            dec2hex(parseInt(Match[1], 10)) +\n            dec2hex(parseInt(Match[2], 10)) +\n            dec2hex(parseInt(Match[3], 10)) + 'FF');\n    }\n    var RGBAPattern = /^rgba\\(([(0-9]+),\\s*([0-9]+),\\s*([0-9]+),\\s*([01]?[.][0-9]+|[01])\\)$/i; // not perfect\n    Match = RGBAPattern.exec(Color);\n    if (Match != null) {\n        return ('#' +\n            dec2hex(parseInt(Match[1], 10)) +\n            dec2hex(parseInt(Match[2], 10)) +\n            dec2hex(parseInt(Match[3], 10)) +\n            dec2hex(parseFloat(Match[4]) * 255));\n    }\n    throwError('InvalidArgument: the given Value is not a valid CSS Color specification');\n}\n/**** RGBAColor - converts a given color to RGBA(r,g,b,a) ****/\nfunction RGBAColor(Color) {\n    var lowerColor = Color.toLowerCase();\n    if (ColorSet.hasOwnProperty(lowerColor)) {\n        // @ts-ignore TS dislikes indexing with literal keys\n        return ColorSet[lowerColor]; // color is already in RGBA format\n    }\n    if (/^#[a-fA-F0-9]{6}$/.test(Color)) {\n        return ('rgba(' +\n            parseInt(Color.slice(1, 3), 16) + ',' +\n            parseInt(Color.slice(3, 5), 16) + ',' +\n            parseInt(Color.slice(5, 7), 16) + ', 1' +\n            ')');\n    }\n    if (/^#[a-fA-F0-9]{8}$/.test(Color)) {\n        return ('rgba(' +\n            parseInt(Color.slice(1, 3), 16) + ',' +\n            parseInt(Color.slice(3, 5), 16) + ',' +\n            parseInt(Color.slice(5, 7), 16) + ',' +\n            (parseInt(Color.slice(7), 16) / 255) +\n            ')');\n    }\n    var RGBPattern = /^rgb\\(([0-9]+),\\s*([0-9]+),\\s*([0-9]+)\\)$/i; //not perfect\n    var Match = RGBPattern.exec(Color);\n    if (Match != null) {\n        return Color.slice(0, Color.length - 1) + ',1)';\n    }\n    var RGBAPattern = /^rgba\\(([(0-9]+),\\s*([0-9]+),\\s*([0-9]+),\\s*([0]?[.][0-9]+|[01])\\)$/i; // not perfect\n    Match = RGBAPattern.exec(Color);\n    if (Match != null) {\n        return Color;\n    }\n    throwError('InvalidArgument: the given Value is not a valid CSS Color specification');\n}\n/**** shortHexColor - converts a given color into #RRGGBB ****/\nfunction shortHexColor(Color) {\n    return HexColor(Color).slice(0, 7);\n}\n\nexport { ColorSet, FunctionWithName, HTMLsafe, HexColor, MarkDownSafe, ObjectIsEmpty, ObjectIsNotEmpty, ObjectMergedWith, Object_hasOwnProperty, Object_isPrototypeOf, Object_propertyIsEnumerable, Object_toLocaleString, Object_toString, Object_valueOf, RGBAColor, StringIsEmpty, StringIsNotEmpty, ValidatorForClassifier, ValueExists, ValueInheritsFrom, ValueIsAnonymousFunction, ValueIsArray, ValueIsBoolean, ValueIsCardinal, ValueIsColor, ValueIsDate, ValueIsEMailAddress, ValueIsEmptyString, ValueIsError, ValueIsFiniteNumber, ValueIsFunction, ValueIsInstanceOf, ValueIsInteger, ValueIsIntegerInRange, ValueIsList, ValueIsListSatisfying, ValueIsMissing, ValueIsNaN, ValueIsNamedFunction, ValueIsNativeFunction, ValueIsNonEmptyString, ValueIsNumber, ValueIsNumberInRange, ValueIsObject, ValueIsOneOf, ValueIsOrdinal, ValueIsPlainObject, ValueIsPromise, ValueIsRegExp, ValueIsScriptedFunction, ValueIsString, ValueIsStringMatching, ValueIsText, ValueIsTextline, ValueIsURL, ValueIsVanillaObject, ValuesAreEqual, ValuesDiffer, acceptNil, allowAnonymousFunction, allowArray, allowBoolean, allowCardinal, allowColor, allowDate, allowEMailAddress, allowError, allowFiniteNumber, allowFunction, allowInstanceOf, allowInteger, allowIntegerInRange, allowList, allowListSatisfying, allowNaN, allowNamedFunction, allowNativeFunction, allowNonEmptyString, allowNumber, allowNumberInRange, allowObject, allowOneOf, allowOrdinal, allowPlainObject, allowPromise, allowRegExp, allowScriptedFunction, allowString, allowStringMatching, allowText, allowTextline, allowURL, allowValueInheritingFrom, allowVanillaObject, allowedAnonymousFunction, allowedArray, allowedBoolean, allowedCardinal, allowedColor, allowedDate, allowedEMailAddress, allowedError, allowedFiniteNumber, allowedFunction, allowedInstanceOf, allowedInteger, allowedIntegerInRange, allowedList, allowedListSatisfying, allowedNaN, allowedNamedFunction, allowedNativeFunction, allowedNonEmptyString, allowedNumber, allowedNumberInRange, allowedObject, allowedOneOf, allowedOrdinal, allowedPlainObject, allowedPromise, allowedRegExp, allowedScriptedFunction, allowedString, allowedStringMatching, allowedText, allowedTextline, allowedURL, allowedValueInheritingFrom, allowedVanillaObject, constrained, escaped, expectAnonymousFunction, expectArray, expectBoolean, expectCardinal, expectColor, expectDate, expectEMailAddress, expectError, expectFiniteNumber, expectFunction, expectInstanceOf, expectInteger, expectIntegerInRange, expectList, expectListSatisfying, expectNaN, expectNamedFunction, expectNativeFunction, expectNonEmptyString, expectNumber, expectNumberInRange, expectObject, expectOneOf, expectOrdinal, expectPlainObject, expectPromise, expectRegExp, expectScriptedFunction, expectString, expectStringMatching, expectText, expectTextline, expectURL, expectValue, expectValueInheritingFrom, expectVanillaObject, expectedAnonymousFunction, expectedArray, expectedBoolean, expectedCardinal, expectedColor, expectedDate, expectedEMailAddress, expectedError, expectedFiniteNumber, expectedFunction, expectedInstanceOf, expectedInteger, expectedIntegerInRange, expectedList, expectedListSatisfying, expectedNaN, expectedNamedFunction, expectedNativeFunction, expectedNonEmptyString, expectedNumber, expectedNumberInRange, expectedObject, expectedOneOf, expectedOrdinal, expectedPlainObject, expectedPromise, expectedRegExp, expectedScriptedFunction, expectedString, expectedStringMatching, expectedText, expectedTextline, expectedURL, expectedValue, expectedValueInheritingFrom, expectedVanillaObject, global, quotable, quoted, rejectNil, shortHexColor, throwError, unescaped, validatedArgument };\n//# sourceMappingURL=javascript-interface-library.esm.js.map\n","var n,l,u,t,i,o,r,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,h=Array.isArray;function v(n,l){for(var u in l)n[u]=l[u];return n}function p(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,t){var i,o,r,f={};for(r in u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:f[r]=u[r];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):t),\"function\"==typeof l&&null!=l.defaultProps)for(r in l.defaultProps)void 0===f[r]&&(f[r]=l.defaultProps[r]);return d(l,f,i,o,null)}function d(n,t,i,o,r){var f={type:n,props:t,key:i,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++u:r,__i:-1,__u:0};return null==r&&null!=l.vnode&&l.vnode(f),f}function _(){return{current:null}}function g(n){return n.children}function b(n,l){this.props=n,this.context=l}function m(n,l){if(null==l)return n.__?m(n.__,n.__i+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?m(n):null}function k(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return k(n)}}function w(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!x.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||r)(x)}function x(){var n,u,t,o,r,e,c,s,a;for(i.sort(f);n=i.shift();)n.__d&&(u=i.length,o=void 0,e=(r=(t=n).__v).__e,s=[],a=[],(c=t.__P)&&((o=v({},r)).__v=r.__v+1,l.vnode&&l.vnode(o),L(c,o,r,t.__n,void 0!==c.ownerSVGElement,32&r.__u?[e]:null,s,null==e?m(r):e,!!(32&r.__u),a),o.__.__k[o.__i]=o,M(s,o,a),o.__e!=e&&k(o)),i.length>u&&i.sort(f));x.__r=0}function C(n,l,u,t,i,o,r,f,e,a,h){var v,p,y,d,_,g=t&&t.__k||s,b=l.length;for(u.__d=e,P(u,l,g),e=u.__d,v=0;v<b;v++)null!=(y=u.__k[v])&&\"boolean\"!=typeof y&&\"function\"!=typeof y&&(p=-1===y.__i?c:g[y.__i]||c,y.__i=v,L(n,y,p,i,o,r,f,e,a,h),d=y.__e,y.ref&&p.ref!=y.ref&&(p.ref&&z(p.ref,null,y),h.push(y.ref,y.__c||d,y)),null==_&&null!=d&&(_=d),65536&y.__u||p.__k===y.__k?e=S(y,e,n):\"function\"==typeof y.type&&void 0!==y.__d?e=y.__d:d&&(e=d.nextSibling),y.__d=void 0,y.__u&=-196609);u.__d=e,u.__e=_}function P(n,l,u){var t,i,o,r,f,e=l.length,c=u.length,s=c,a=0;for(n.__k=[],t=0;t<e;t++)null!=(i=n.__k[t]=null==(i=l[t])||\"boolean\"==typeof i||\"function\"==typeof i?null:\"string\"==typeof i||\"number\"==typeof i||\"bigint\"==typeof i||i.constructor==String?d(null,i,null,null,i):h(i)?d(g,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?d(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=n,i.__b=n.__b+1,f=H(i,u,r=t+a,s),i.__i=f,o=null,-1!==f&&(s--,(o=u[f])&&(o.__u|=131072)),null==o||null===o.__v?(-1==f&&a--,\"function\"!=typeof i.type&&(i.__u|=65536)):f!==r&&(f===r+1?a++:f>r?s>e-r?a+=f-r:a--:a=f<r&&f==r-1?f-r:0,f!==t+a&&(i.__u|=65536))):(o=u[t])&&null==o.key&&o.__e&&(o.__e==n.__d&&(n.__d=m(o)),N(o,o,!1),u[t]=null,s--);if(s)for(t=0;t<c;t++)null!=(o=u[t])&&0==(131072&o.__u)&&(o.__e==n.__d&&(n.__d=m(o)),N(o,o))}function S(n,l,u){var t,i;if(\"function\"==typeof n.type){for(t=n.__k,i=0;t&&i<t.length;i++)t[i]&&(t[i].__=n,l=S(t[i],l,u));return l}return n.__e!=l&&(u.insertBefore(n.__e,l||null),l=n.__e),l&&l.nextSibling}function $(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(h(n)?n.some(function(n){$(n,l)}):l.push(n)),l}function H(n,l,u,t){var i=n.key,o=n.type,r=u-1,f=u+1,e=l[u];if(null===e||e&&i==e.key&&o===e.type)return u;if(t>(null!=e&&0==(131072&e.__u)?1:0))for(;r>=0||f<l.length;){if(r>=0){if((e=l[r])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return r;r--}if(f<l.length){if((e=l[f])&&0==(131072&e.__u)&&i==e.key&&o===e.type)return f;f++}}return-1}function I(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function T(n,l,u,t,i){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof t&&(n.style.cssText=t=\"\"),t)for(l in t)u&&l in u||I(n.style,l,\"\");if(u)for(l in u)t&&u[l]===t[l]||I(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/(PointerCapture)$|Capture$/,\"$1\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?t?u.u=t.u:(u.u=Date.now(),n.addEventListener(l,o?D:A,o)):n.removeEventListener(l,o?D:A,o);else{if(i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&\"rowSpan\"!==l&&\"colSpan\"!==l&&\"role\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&\"-\"!==l[4]?n.removeAttribute(l):n.setAttribute(l,u))}}function A(n){var u=this.l[n.type+!1];if(n.t){if(n.t<=u.u)return}else n.t=Date.now();return u(l.event?l.event(n):n)}function D(n){return this.l[n.type+!0](l.event?l.event(n):n)}function L(n,u,t,i,o,r,f,e,c,s){var a,p,y,d,_,m,k,w,x,P,S,$,H,I,T,A=u.type;if(void 0!==u.constructor)return null;128&t.__u&&(c=!!(32&t.__u),r=[e=u.__e=t.__e]),(a=l.__b)&&a(u);n:if(\"function\"==typeof A)try{if(w=u.props,x=(a=A.contextType)&&i[a.__c],P=a?x?x.props.value:a.__:i,t.__c?k=(p=u.__c=t.__c).__=p.__E:(\"prototype\"in A&&A.prototype.render?u.__c=p=new A(w,P):(u.__c=p=new b(w,P),p.constructor=A,p.render=O),x&&x.sub(p),p.props=w,p.state||(p.state={}),p.context=P,p.__n=i,y=p.__d=!0,p.__h=[],p._sb=[]),null==p.__s&&(p.__s=p.state),null!=A.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=v({},p.__s)),v(p.__s,A.getDerivedStateFromProps(w,p.__s))),d=p.props,_=p.state,p.__v=u,y)null==A.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==A.getDerivedStateFromProps&&w!==d&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(w,P),!p.__e&&(null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(w,p.__s,P)||u.__v===t.__v)){for(u.__v!==t.__v&&(p.props=w,p.state=p.__s,p.__d=!1),u.__e=t.__e,u.__k=t.__k,u.__k.forEach(function(n){n&&(n.__=u)}),S=0;S<p._sb.length;S++)p.__h.push(p._sb[S]);p._sb=[],p.__h.length&&f.push(p);break n}null!=p.componentWillUpdate&&p.componentWillUpdate(w,p.__s,P),null!=p.componentDidUpdate&&p.__h.push(function(){p.componentDidUpdate(d,_,m)})}if(p.context=P,p.props=w,p.__P=n,p.__e=!1,$=l.__r,H=0,\"prototype\"in A&&A.prototype.render){for(p.state=p.__s,p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),I=0;I<p._sb.length;I++)p.__h.push(p._sb[I]);p._sb=[]}else do{p.__d=!1,$&&$(u),a=p.render(p.props,p.state,p.context),p.state=p.__s}while(p.__d&&++H<25);p.state=p.__s,null!=p.getChildContext&&(i=v(v({},i),p.getChildContext())),y||null==p.getSnapshotBeforeUpdate||(m=p.getSnapshotBeforeUpdate(d,_)),C(n,h(T=null!=a&&a.type===g&&null==a.key?a.props.children:a)?T:[T],u,t,i,o,r,f,e,c,s),p.base=u.__e,u.__u&=-161,p.__h.length&&f.push(p),k&&(p.__E=p.__=null)}catch(n){u.__v=null,c||null!=r?(u.__e=e,u.__u|=c?160:32,r[r.indexOf(e)]=null):(u.__e=t.__e,u.__k=t.__k),l.__e(n,u,t)}else null==r&&u.__v===t.__v?(u.__k=t.__k,u.__e=t.__e):u.__e=j(t.__e,u,t,i,o,r,f,c,s);(a=l.diffed)&&a(u)}function M(n,u,t){u.__d=void 0;for(var i=0;i<t.length;i++)z(t[i],t[++i],t[++i]);l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function j(l,u,t,i,o,r,f,e,s){var a,v,y,d,_,g,b,k=t.props,w=u.props,x=u.type;if(\"svg\"===x&&(o=!0),null!=r)for(a=0;a<r.length;a++)if((_=r[a])&&\"setAttribute\"in _==!!x&&(x?_.localName===x:3===_.nodeType)){l=_,r[a]=null;break}if(null==l){if(null===x)return document.createTextNode(w);l=o?document.createElementNS(\"http://www.w3.org/2000/svg\",x):document.createElement(x,w.is&&w),r=null,e=!1}if(null===x)k===w||e&&l.data===w||(l.data=w);else{if(r=r&&n.call(l.childNodes),k=t.props||c,!e&&null!=r)for(k={},a=0;a<l.attributes.length;a++)k[(_=l.attributes[a]).name]=_.value;for(a in k)_=k[a],\"children\"==a||(\"dangerouslySetInnerHTML\"==a?y=_:\"key\"===a||a in w||T(l,a,null,_,o));for(a in w)_=w[a],\"children\"==a?d=_:\"dangerouslySetInnerHTML\"==a?v=_:\"value\"==a?g=_:\"checked\"==a?b=_:\"key\"===a||e&&\"function\"!=typeof _||k[a]===_||T(l,a,_,k[a],o);if(v)e||y&&(v.__html===y.__html||v.__html===l.innerHTML)||(l.innerHTML=v.__html),u.__k=[];else if(y&&(l.innerHTML=\"\"),C(l,h(d)?d:[d],u,t,i,o&&\"foreignObject\"!==x,r,f,r?r[0]:t.__k&&m(t,0),e,s),null!=r)for(a=r.length;a--;)null!=r[a]&&p(r[a]);e||(a=\"value\",void 0!==g&&(g!==l[a]||\"progress\"===x&&!g||\"option\"===x&&g!==k[a])&&T(l,a,g,k[a],!1),a=\"checked\",void 0!==b&&b!==l[a]&&T(l,a,b,k[a],!1))}return l}function z(n,u,t){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,t)}}function N(n,u,t){var i,o;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||z(i,null,u)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,u)}i.base=i.__P=null,n.__c=void 0}if(i=n.__k)for(o=0;o<i.length;o++)i[o]&&N(i[o],u,t||\"function\"!=typeof n.type);t||null==n.__e||p(n.__e),n.__=n.__e=n.__d=void 0}function O(n,l,u){return this.constructor(n,u)}function q(u,t,i){var o,r,f,e;l.__&&l.__(u,t),r=(o=\"function\"==typeof i)?null:i&&i.__k||t.__k,f=[],e=[],L(t,u=(!o&&i||t).__k=y(g,null,[u]),r||c,c,void 0!==t.ownerSVGElement,!o&&i?[i]:r?null:t.firstChild?n.call(t.childNodes):null,f,!o&&i?i:r?r.__e:t.firstChild,o,e),M(f,u,e)}function B(n,l){q(n,l,B)}function E(l,u,t){var i,o,r,f,e=v({},l.props);for(r in l.type&&l.type.defaultProps&&(f=l.type.defaultProps),u)\"key\"==r?i=u[r]:\"ref\"==r?o=u[r]:e[r]=void 0===u[r]&&void 0!==f?f[r]:u[r];return arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):t),d(l.type,e,i||l.key,o||l.ref,null)}function F(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,t;return this.getChildContext||(u=[],(t={})[l]=this,this.getChildContext=function(){return t},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,w(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,t){for(var i,o,r;l=l.__;)if((i=l.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(n)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,t||{}),r=i.__d),r)return i.__E=i}catch(l){n=l}throw n}},u=0,t=function(n){return null!=n&&null==n.constructor},b.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),\"function\"==typeof n&&(n=n(v({},u),this.props)),n&&v(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),w(this))},b.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),w(this))},b.prototype.render=g,i=[],r=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,f=function(n,l){return n.__v.__b-l.__v.__b},x.__r=0,e=0;export{b as Component,g as Fragment,E as cloneElement,F as createContext,y as createElement,_ as createRef,y as h,B as hydrate,t as isValidElement,l as options,q as render,$ as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","var n=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var p=s[h++],a=s[h]?(s[0]|=p?1:2,r[s[h++]]):s[++h];3===p?e[0]=a:4===p?e[1]=Object.assign(e[1]||{},a):5===p?(e[1]=e[1]||{})[s[++h]]=a:6===p?e[1][s[++h]]+=a+\"\":p?(u=t.apply(a,n(t,a,r,[\"\",null])),e.push(u),a[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(a)}return e},t=new Map;export default function(s){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(s)||(r.set(s,r=function(n){for(var t,s,r=1,e=\"\",u=\"\",h=[0],p=function(n){1===r&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?h.push(0,n,e):3===r&&(n||e)?(h.push(3,n,e),r=2):2===r&&\"...\"===e&&n?h.push(4,n,0):2===r&&e&&!n?h.push(5,0,!0,e):r>=5&&((e||!n&&5===r)&&(h.push(r,0,e,s),r=6),n&&(h.push(r,n,0,s),r=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===r&&p(),p(a));for(var l=0;l<n[a].length;l++)t=n[a][l],1===r?\"<\"===t?(p(),h=[h],r=3):e+=t:4===r?\"--\"===e&&\">\"===t?(r=1,e=\"\"):e=t+e[0]:u?t===u?u=\"\":e+=t:'\"'===t||\"'\"===t?u=t:\">\"===t?(p(),r=1):r&&(\"=\"===t?(r=5,s=e,e=\"\"):\"/\"===t&&(r<5||\">\"===n[a][l+1])?(p(),3===r&&(h=h[0]),r=h,(h=h[0]).push(2,0,r),r=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(p(),r=2):e+=t),3===r&&\"!--\"===e&&(r=4,h=h[0])}return p(),h}(s)),r),arguments,[])).length>1?r:r[0]}\n","import{h as r,Component as o,render as t}from\"preact\";export{h,render,Component}from\"preact\";import e from\"htm\";var m=e.bind(r);export{m as html};\n","const BIND_IGNORED = [\n  'String',\n  'Number',\n  'Object',\n  'Array',\n  'Boolean',\n  'Date'\n]\n\nexport function isObj(object) { return object && typeof object === 'object' }\nexport function setHiddenKey(object, key, value) {\n  Object.defineProperty(object, key, { value, enumerable: false, configurable: true })\n}\nexport function defineBubblingProperties(object, key, parent) {\n  setHiddenKey(object, '__key', key)\n  setHiddenKey(object, '__parent', parent)\n}\nexport function getInstanceMethodKeys(object) {\n  return (\n    Object\n      .getOwnPropertyNames(object)\n      .concat(\n        Object.getPrototypeOf(object) &&\n                BIND_IGNORED.indexOf(Object.getPrototypeOf(object).constructor.name) < 0 ?\n          Object.getOwnPropertyNames(Object.getPrototypeOf(object)) :\n          []\n      )\n      .filter(prop => prop !== 'constructor' && typeof object[prop] === 'function')\n  )\n}\n","export const data = {\n  computedStack: [],\n  trackerSymbol: Symbol('tracker')\n}\n","let queue = null\nexport const __batched = Symbol()\n\n/**\n * Will perform batched computations instantly.\n */\nexport function process() {\n  if(!queue)\n    return\n  for(const task of queue) {\n    task()\n    task[__batched] = false\n  }\n  queue = null\n}\n\nexport function enqueue(task, batch) {\n  if(task[__batched])\n    return\n  if(queue === null) {\n    queue = []\n    if(batch === true) {\n      queueMicrotask(process)\n    } else {\n      setTimeout(process, batch)\n    }\n  }\n  queue.push(task)\n}\n\n","import {\n  isObj,\n  defineBubblingProperties,\n  getInstanceMethodKeys,\n  setHiddenKey\n} from './tools.js'\nimport { data } from './data.js'\nimport { enqueue, __batched } from './batcher.js'\n\nconst { computedStack, trackerSymbol } = data\n\nconst observedSymbol = Symbol('__observed')\n\n/**\n * @typedef {Object} Options - Observe options.\n * @property {string[]} [props] - Observe only the properties listed.\n * @property {string[]} [ignore] - Ignore the properties listed.\n * @property {boolean | number} [batch] -\n *  Batch computed properties calls, wrapping them in a queueMicrotask and\n *  executing them in a new context and preventing excessive calls.\n *  If batch is an integer, the calls will be debounced by the value in milliseconds using setTimemout.\n * @prop {boolean} [deep] - Recursively observe nested objects and when setting new properties.\n * @prop {boolean} [bind] - Automatically bind methods to the observed object.\n */\n\n/**\n * Observes an object or an array and returns a proxified version which reacts on mutations.\n *\n * @template O\n * @param {O} obj - The object to observe.\n * @param {Options} options - Options\n * @returns {O} - A proxy wrapping the object.\n */\nexport function observe(obj, options = {}) {\n  // 'deep' is slower but reasonable; 'shallow' a performance enhancement but with side-effects\n  const {\n    props,\n    ignore,\n    batch,\n    deep = true,\n    bubble,\n    bind\n  } = options\n\n  // Ignore if the object is already observed\n  if(obj[observedSymbol]) {\n    return obj\n  }\n\n  // If the prop is explicitely not excluded\n  const isWatched = (prop) =>\n    prop !== observedSymbol &&\n    (\n      (props == null) ||\n      (props instanceof Array) && props.includes(prop)\n    ) && (\n      (ignore == null) ||\n      (ignore instanceof Array) && ! ignore.includes(prop)\n    )\n\n  // If the deep flag is set, observe nested objects/arrays\n  if(deep) {\n    Object.entries(obj).forEach(function([key, val]) {\n      if(isObj(val) && isWatched(key)) {\n        obj[key] = observe(val, options)\n        // If bubble is set, we add keys to the object used to bubble up the mutation\n        if(bubble) {\n          defineBubblingProperties(obj[key], key, obj)\n        }\n      }\n    })\n  }\n\n  // For each observed object, each property is mapped with a set of computed functions depending on this property.\n  // Whenever a property is set, we re-run each one of the functions stored inside the matching Set.\n  const propertiesMap = new Map()\n\n  // Proxify the object in order to intercept get/set on props\n  const proxy = new Proxy(obj, {\n    get(_, prop) {\n      if(prop === observedSymbol)\n        return true\n\n      // If the prop is watched\n      if(isWatched(prop)) {\n        // If a computed function is being run\n        if(computedStack.length) {\n          const computedFn = computedStack[0]\n          // Tracks object and properties accessed during the function call\n          const tracker = computedFn[trackerSymbol]\n          if(tracker) {\n            let trackerSet = tracker.get(obj)\n            if(!trackerSet) {\n              trackerSet = new Set()\n              tracker.set(obj, trackerSet)\n            }\n            trackerSet.add(prop)\n          }\n          // Link the computed function and the property being accessed\n          let propertiesSet = propertiesMap.get(prop)\n          if(!propertiesSet) {\n            propertiesSet = new Set()\n            propertiesMap.set(prop, propertiesSet)\n          }\n          propertiesSet.add(computedFn)\n        }\n      }\n\n      return obj[prop]\n    },\n    set(_, prop, value) {\n      if(prop === '__handler') {\n        // Don't track bubble handlers\n        setHiddenKey(obj, '__handler', value)\n      } else if(!isWatched(prop)) {\n        // If the prop is ignored\n        obj[prop] = value\n      } else if(Array.isArray(obj) && prop === 'length' || ValuesDiffer(obj[prop],value)) {\n        // If the new/old value are not equal\n        const deeper = deep && isObj(value)\n\n        // Remove bubbling infrastructure and pass old value to handlers\n        const oldValue = obj[prop]\n//      if(isObj(oldValue))\n//        delete obj[prop]\n\n        // If the deep flag is set we observe the newly set value\n        obj[prop] = deeper ? observe(value, options) : value\n\n        // Co-opt assigned object into bubbling if appropriate\n        if(deeper && bubble) {\n          defineBubblingProperties(obj[prop], prop, obj)\n        }\n\n        const ancestry = [ prop ]\n        let parent = obj\n        while(parent) {\n          // If a handler explicitly returns 'false' then stop propagation\n          if(parent.__handler && parent.__handler(ancestry, value, oldValue, proxy) === false) {\n            break\n          }\n          // Continue propagation, traversing the mutated property's object hierarchy & call any __handlers along the way\n          if(parent.__key && parent.__parent) {\n            ancestry.unshift(parent.__key)\n            parent = parent.__parent\n          } else {\n            parent = null\n          }\n        }\n\n        const dependents = propertiesMap.get(prop)\n        if(dependents) {\n          // Retrieve the computed functions depending on the prop\n          for(const dependent of dependents) {\n            const tracker = dependent[trackerSymbol]\n            const trackedObj = tracker && tracker.get(obj)\n            const tracked = trackedObj && trackedObj.has(prop)\n            // If the function has been disposed or if the prop has not been used\n            // during the latest function call, delete the function reference\n            if(dependent.__disposed || tracker && !tracked) {\n              dependents.delete(dependent)\n            } else if(dependent !== computedStack[0]) {\n              // Run the computed function\n              if(typeof batch !== 'undefined' && batch !== false) {\n                enqueue(dependent, batch)\n                dependent[__batched] = true\n              } else {\n                dependent()\n              }\n            }\n          }\n        }\n      }\n\n      return true\n    },\n    defineProperty(_, prop, descriptor) {\n      if (prop === '__handler') {\n      \tthrow new Error(\"Don't track bubble handlers\")\n      } else if(!isWatched(prop)) {\n        // If the prop is ignored\n        return Reflect.defineProperty(obj,prop,descriptor)\n      } else if (! Array.isArray(obj) || (prop === 'length')) {\n      \tif ('value' in descriptor) {\n      \t  descriptor = {...descriptor} // do not modify the argument itself\n      \t  descriptor.value = observe(value, options)\n      \t}\n      \treturn Reflect.defineProperty(obj,prop,descriptor)\n      }\n      return false\n    },\n    deleteProperty(_, prop) {\n    \tif (prop in obj) { obj[prop] = undefined } // trigger observers one last time\n    \treturn Reflect.deleteProperty(_,prop)\n    }\n  })\n\n  if(bind) {\n    // Need this for binding es6 classes methods which are stored in the object prototype\n    getInstanceMethodKeys(obj).forEach(key => obj[key] = obj[key].bind(proxy))\n  }\n\n  return proxy\n}\n\n/**** ValuesDiffer - copied from \"javascript-interface-library\" ****/\n\n  function ValuesDiffer (thisValue, otherValue, Mode) {\n    if (thisValue === otherValue) { return false }\n\n    let thisType = typeof thisValue\n    if (thisType !== typeof otherValue) { return true }\n\n    /**** ArraysDiffer ****/\n\n      function ArraysDiffer (thisArray, otherArray, Mode) {\n        if (! Array.isArray(otherArray)) { return true }\n\n        if (thisArray.length !== otherArray.length) { return true }\n\n        for (let i = 0, l = thisArray.length; i < l; i++) {\n          if (ValuesDiffer(thisArray[i],otherArray[i],Mode)) { return true }\n        }\n\n        return false\n      }\n\n    /**** ObjectsDiffer ****/\n\n      function ObjectsDiffer (thisObject, otherObject, Mode) {\n        if (Object.getPrototypeOf(thisObject) !== Object.getPrototypeOf(otherObject)) {\n          return true\n        }\n\n        for (let key in thisObject) {\n          if (! (key in otherObject)) { return true }\n        }\n\n        for (let key in otherObject) {\n          if (! (key in thisObject)) { return true }\n\n          if (ValuesDiffer(thisObject[key],otherObject[key],Mode)) {\n            return true\n          }\n        }\n\n        return false\n      }\n\n    switch (thisType) {\n      case 'undefined':\n      case 'boolean':\n      case 'string':\n      case 'function': return true   // most primitives are compared using \"===\"\n      case 'number':   return (\n                         (isNaN(thisValue) !== isNaN(otherValue)) ||\n                         (Math.abs(thisValue-otherValue) > Number.EPSILON)\n                       )\n      case 'object':\n        if (thisValue  == null) { return true }  // since \"other_value\" != null!\n        if (otherValue == null) { return true }   // since \"this_value\" != null!\n\n        if ((Mode === 'by-value') && (\n          (thisValue instanceof Boolean) ||\n          (thisValue instanceof Number) ||\n          (thisValue instanceof String)\n        )) {\n          return (thisValue.valueOf() !== otherValue.valueOf())\n        }\n\n        if (Array.isArray(thisValue)) {\n          return ArraysDiffer(thisValue,otherValue,Mode)\n        }\n\n        return (\n          Mode === 'by-reference'\n          ? true                           // because (thisValue !== otherValue)\n          : ObjectsDiffer(thisValue,otherValue,Mode)\n        )\n      default: return true                          // unsupported property type\n    }\n\n    return true\n  }\n","import { data } from './data.js'\nconst { computedStack, trackerSymbol } = data\n\n/**\n * @typedef {Object} ComputedArguments - Computed Arguments.\n * @property {(fun: () => void) => void} computeAsync -\n * Will monitor the dependencies of the function passed as an argument. Useful when dealing with asynchronous computations.\n */\n\n/**\n * @typedef {Object} Options - Computed Options.\n * @property {boolean} [autoRun] -\n * If false, will not run the function argument when calling computed(function).\n * The computed function must be called **at least once** to calculate its dependencies.\n * @property {() => void} [callback] -\n * Specify a callback that will be re-runned each time a dependency changes instead of the computed function.\n */\n\n/**\n * Wraps a function and captures observed properties which are accessed during the function execution.\n * When those properties are mutated, the function is called to reflect the changes.\n *\n * @param {(args: ComputedArguments) => void} wrappedFunction\n * @param {Options} options\n */\nexport function computed(wrappedFunction, { autoRun = true, callback, bind, disableTracking = false } = {}) {\n  function observeComputation(fun, argsList = []) {\n    const target = callback || wrapper\n    // Track object and object properties accessed during this function call\n    if(!disableTracking) {\n      target[trackerSymbol] = new WeakMap()\n    }\n    // Store into the stack a reference to the computed function\n    computedStack.unshift(target)\n    // Inject the computeAsync argument which is used to manually declare when the computation takes part\n    if(argsList.length > 0) {\n      argsList = [...argsList, computeAsyncArg]\n    } else {\n      argsList = [computeAsyncArg]\n    }\n    // Run the computed function - or the async function\n    const result =\n      fun ? fun() :\n      bind ? wrappedFunction.apply(bind, argsList) :\n      wrappedFunction(...argsList)\n    // Remove the reference\n    computedStack.shift()\n    // Return the result\n    return result\n  }\n  const computeAsyncArg = { computeAsync: observeComputation }\n  const wrapper = (...argsList) => observeComputation(null, argsList)\n\n  // If autoRun, then call the function at once\n  if(autoRun) {\n    wrapper()\n  }\n\n  return wrapper\n}\n","import { observe } from './observe.js'\nimport { computed } from './computed.js'\nimport { dispose } from './dispose.js'\nimport { process } from './batcher.js'\n\nexport default {\n  observe,\n  computed,\n  dispose,\n  batch: process\n}\n","/*******************************************************************************\n*                                                                              *\n*           Reactive Scriptable Components (RSC, pronounced \"resc\")            *\n*                                                                              *\n*******************************************************************************/\n\nimport * as JIL from 'javascript-interface-library'\n\nimport {\n  throwError,\n  quoted,\n  ObjectIsEmpty,\n  ValueIsBoolean,\n  ValueIsNumber, ValueIsNumberInRange, ValueIsInteger, ValueIsIntegerInRange,\n  ValueIsString, ValueIsStringMatching, ValueIsTextline, ValueIsText,\n  ValueIsFunction,\n  ValueIsObject, ValueIsArray,\n  ValueIsListSatisfying,\n  ValueIsOneOf,\n  ValueIsColor, ValueIsURL,\n  ValidatorForClassifier, acceptNil, rejectNil,\n  allowBoolean, expectBoolean,\n  allowNumber, expectNumber, allowNumberInRange, expectNumberInRange,\n  allowInteger, expectInteger, allowIntegerInRange, expectIntegerInRange,\n  allowString, expectString, allowStringMatching, expectStringMatching,\n    allowText, expectText, allowTextline, expectTextline, expectedTextline,\n  expectFunction,\n  allowList, expectList, allowListSatisfying, expectListSatisfying,\n  expectInstanceOf,\n  allowOneOf, allowedOneOf, expectOneOf,\n  allowColor, expectColor,\n  allowURL, expectURL,\n  HexColor,\n} from 'javascript-interface-library'\n\nimport { render, html, Component } from 'htm/preact'\n\nimport hyperactiv from 'hyperactiv'\nconst { observe, computed, dispose } = hyperactiv\n\n/**** hide all undefined custom elements (to avoid initial flashing) ****/\n\n  const Stylesheet = document.createElement('style')\n    Stylesheet.innerHTML = ':not(:defined) { visibility:hidden }'\n  document.head.appendChild(Stylesheet)\n\n/**** make some existing types indexable ****/\n\n  interface Indexable { [Key:string]:any }\n\n  type indexableFunction    = Function    & Indexable\n  type indexableElement     = Element     & Indexable\n  type indexableHTMLElement = HTMLElement & Indexable\n  type indexableEvent       = Event       & Indexable\n\nnamespace RSC {\n  export const assign = JIL.ObjectMergedWith\n\n  assign(RSC,{ render, html, Component }, { observe, computed, dispose })\n\n  let RSC_isRunning:boolean = false               // has to be initialized early\n\n//------------------------------------------------------------------------------\n//--                             Type Definitions                             --\n//------------------------------------------------------------------------------\n\n  export type Textline = string              // mainly for illustrative purposes\n  export type Text     = string                                          // dto.\n  export type URL      = string                                          // dto.\n\n  export type RSC_UUID = string                                          // dto.\n  export type RSC_Name = string                                          // dto.\n\n/**** throwReadOnlyError ****/\n\n// @ts-ignore TS2534 why is TS complaining here?\n  export function throwReadOnlyError (Name:string):never {\n    throwError(\n      'ReadOnlyProperty: property ' + quoted(Name) + ' must not be set'\n    )\n  }\n\n//------------------------------------------------------------------------------\n//--                 Classification and Validation Functions                  --\n//------------------------------------------------------------------------------\n\n/**** ValueIsDOMElement ****/\n\n  export function ValueIsDOMElement (Value:any):boolean {\n    return (Value instanceof Element)\n  }\n\n/**** allow/expect[ed]DOMElement ****/\n\n  export const allowDOMElement = ValidatorForClassifier(\n    ValueIsDOMElement, acceptNil, 'DOM element'\n  ), allowedDOMElement = allowDOMElement\n\n  export const expectDOMElement = ValidatorForClassifier(\n    ValueIsDOMElement, rejectNil, 'DOM element'\n  ), expectedDOMElement = expectDOMElement\n\n/**** ValueIsVisual ****/\n\n  export function ValueIsVisual (Value:any):boolean {\n    return (Value instanceof RSC_Visual)\n  }\n\n/**** allow/expect[ed]Visual ****/\n\n  export const allowVisual = ValidatorForClassifier(\n    ValueIsVisual, acceptNil, 'RSC visual'\n  ), allowedVisual = allowVisual\n\n  export const expectVisual = ValidatorForClassifier(\n    ValueIsVisual, rejectNil, 'RSC visual'\n  ), expectedVisual = expectVisual\n\n/**** ValueIsName ****/\n\n  const RSC_NamePattern = /^[a-z$_][a-z$_0-9]*(-[a-z$_0-9]+)*$/i\n\n  export function ValueIsName (Value:any):boolean {\n    return ValueIsStringMatching(Value, RSC_NamePattern)\n  }\n\n/**** allow/expect[ed]Name ****/\n\n  export const allowName = ValidatorForClassifier(\n    ValueIsName, acceptNil, 'RSC name'\n  ), allowedName = allowName\n\n  export const expectName = ValidatorForClassifier(\n    ValueIsName, rejectNil, 'RSC name'\n  ), expectedName = expectName\n\n/**** ValueIsErrorInfo ****/\n\n  export function ValueIsErrorInfo (Value:any):boolean {\n    return (\n      ValueIsObject(Value) &&\n      ValueIsTextline(Value.Title) &&\n      ValueIsText(Value.Message)\n    )\n  }\n\n/**** allow/expect[ed]ErrorInfo ****/\n\n  export const allowErrorInfo = ValidatorForClassifier(\n    ValueIsErrorInfo, acceptNil, 'RSC error information record'\n  ), allowedErrorInfo = allowErrorInfo\n\n  export const expectErrorInfo = ValidatorForClassifier(\n    ValueIsErrorInfo, rejectNil, 'RSC error information record'\n  ), expectedErrorInfo = expectErrorInfo\n\n/**** newUUID ****/\n\n  export function newUUID ():RSC_UUID {\n    let Id = '', IdPart\n    IdPart = Math.round(Math.random()*0xffffffff).toString(16)\n      Id += IdPart + '00000000'.slice(IdPart.length) + '-'\n      IdPart = Math.round(Math.random()*0xffff).toString(16)\n      Id += IdPart + '0000'.slice(IdPart.length) + '-4'\n      IdPart = Math.round(Math.random()*0xfff).toString(16)\n      Id += IdPart + '000'.slice(IdPart.length) + '-'\n      IdPart = Math.round(Math.random()*0x3fff+0x8000).toString(16)\n      Id += IdPart + '-'\n      IdPart = Math.round(Math.random()*0xffffffffffff).toString(16)\n      Id += IdPart + '000000000000'.slice(IdPart.length)\n    return Id.toLowerCase()\n  }\n\n//------------------------------------------------------------------------------\n//--                      Initialization Marker Handling                      --\n//------------------------------------------------------------------------------\n\n  const InitializationMarkerForVisual:WeakMap<RSC_Visual,boolean> = new WeakMap()\n\n/**** VisualWasInitialized ****/\n\n  function VisualWasInitialized (Visual:RSC_Visual):boolean {\n    return (InitializationMarkerForVisual.get(Visual) === true)\n  }\n\n/**** markVisualAsInitialized ****/\n\n  function markVisualAsInitialized (Visual:RSC_Visual):void {\n    InitializationMarkerForVisual.set(Visual,true)\n  }\n\n//------------------------------------------------------------------------------\n//--                           Containment Handling                           --\n//------------------------------------------------------------------------------\n\n/**** outerVisualOf ****/\n\n  export function outerVisualOf (DOMElement:HTMLElement):RSC_Visual|undefined {\n    expectDOMElement('element',DOMElement)\n\n    DOMElement = DOMElement.parentElement as HTMLElement\n    while (DOMElement != null) {\n      if (ValueIsVisual(DOMElement)) {\n        return DOMElement as RSC_Visual\n      }\n      DOMElement = DOMElement.parentElement as HTMLElement\n    }\n\n    return undefined\n  }\n\n  export const VisualContaining = outerVisualOf\n\n/**** outermostVisualOf ****/\n\n  export function outermostVisualOf (DOMElement:HTMLElement):RSC_Visual|undefined {\n    expectDOMElement('element',DOMElement)\n\n    let outermostVisual:RSC_Visual|undefined = undefined\n      DOMElement = DOMElement.parentElement as HTMLElement\n      while (DOMElement != null) {\n        if (ValueIsVisual(DOMElement)) {\n          outermostVisual = DOMElement as RSC_Visual\n        }\n        DOMElement = DOMElement.parentElement as HTMLElement\n      }\n    return outermostVisual\n  }\n\n/**** closestVisualWithBehaviour ****/\n\n  export function closestVisualWithBehaviour (\n    DOMElement:HTMLElement, BehaviourName:RSC_Name\n  ):RSC_Visual|undefined {\n    expectDOMElement ('element',DOMElement)\n    expectName('behaviour name',BehaviourName)\n\n    const normalizedName = normalizedBehaviourName(BehaviourName)\n    while (DOMElement != null) {\n      if (\n        ValueIsVisual(DOMElement) &&\n        (normalizedBehaviourName(BehaviourNameOfVisual(DOMElement as RSC_Visual) || '') === normalizedName)\n      ) {\n        return DOMElement as RSC_Visual\n      }\n      DOMElement = outerVisualOf(DOMElement) as HTMLElement\n    }\n    return undefined\n  }\n\n/**** closestVisualMatching ****/\n\n  export function closestVisualMatching (\n    DOMElement:HTMLElement, Selector:Textline\n  ):RSC_Visual|undefined {\n    expectDOMElement   ('element',DOMElement)\n    expectTextline('CSS selector',Selector)\n\n    while (DOMElement != null) {\n      if (ValueIsVisual(DOMElement) && DOMElement.matches(Selector)) {\n        return DOMElement as RSC_Visual\n      }\n      DOMElement = outerVisualOf(DOMElement) as HTMLElement\n    }\n    return undefined\n  }\n\n/**** innerElementsOf ****/\n\n  function innerElementsOf (DOMElement:HTMLElement):Element[] {\n    return Array.from(DOMElement.children)\n  }\n\n/**** innerVisualsOf ****/\n\n  export function innerVisualsOf (DOMElement:HTMLElement):RSC_Visual[] {\n    expectDOMElement('element',DOMElement)\n\n    const innerVisuals = Array.from(DOMElement.children)\n      .filter((innerElement) => ValueIsVisual(innerElement))\n    return innerVisuals as RSC_Visual[]\n  }\n\n//------------------------------------------------------------------------------\n//--                           Behaviour Management                           --\n//------------------------------------------------------------------------------\n\n  type RSC_BehaviourInfo = {\n    Name:RSC_Name,\n    AttributeSet:{[normalizedName:RSC_Name]:RSC_Name},\n    Source?:Text,\n    Executable?:Function,\n    Error?:RSC_ErrorInfo\n  }\n\n  type RSC_BehaviourRegistry = {\n    [normalizedName:RSC_Name]:RSC_BehaviourInfo\n  }\n\n/**** Behaviours are global ****/\n\n  const BehaviourRegistry:RSC_BehaviourRegistry = Object.create(null)\n\n/**** InfoForBehaviour ****/\n\n  function InfoForBehaviour (Name:RSC_Name):RSC_BehaviourInfo|undefined {\n    return BehaviourRegistry[normalizedBehaviourName(Name)]\n  }\n\n/**** registerBehaviour ****/\n\n  export function registerBehaviour (\n    Name:RSC_Name, SourceOrExecutable:Text|Function|undefined,\n    observedAttributes:RSC_Name[] = []\n  ):void {\n    expectName('behaviour name',Name)\nconsole.log('registering behaviour',Name)\n\n    if ((SourceOrExecutable != null) && ! ValueIsFunction(SourceOrExecutable)) {\n      expectText('behaviour script',SourceOrExecutable)\n      if ((SourceOrExecutable as string).trim() === '') { SourceOrExecutable = undefined }\n    }\n\n    allowListSatisfying(\n      'list of observed element attributes', observedAttributes, ValueIsName\n    )\n\n    let normalizedName = normalizedBehaviourName(Name)\n\n    const AttributeSet = Object.create(null)\n    if (observedAttributes != null) {\n      observedAttributes.forEach(\n        (internalName) => AttributeSet[normalizedAttributeName(internalName)] = internalName\n      )\n      observedAttributes = observedAttributes.map((Name) => normalizedAttributeName(Name))\n    }\n\n    if ((SourceOrExecutable == null) || ValueIsFunction(SourceOrExecutable)) {\n      BehaviourRegistry[normalizedName] = {\n        Name, AttributeSet, Executable:SourceOrExecutable as Function\n      }\n    } else {\n      if (normalizedName in BehaviourRegistry) {\n        const BehaviourInfo = BehaviourRegistry[normalizedName]\n        if (BehaviourInfo.Source == null) throwError(\n          'ForbiddenOperation: cannot overwrite intrinsic behaviour ' + quoted(Name)\n        )\n\n// @ts-ignore we know that \"BehaviourInfo.Source != null\"\n        if (BehaviourInfo.Source.trim() !== (SourceOrExecutable as Text).trim()) throwError(\n          'ForbiddenOperation: cannot overwrite existing behaviour ' + quoted(Name)\n        )\n      } else {\n        let Source = SourceOrExecutable as Text\n\n        let Executable:Function\n        try {\n          Executable = compiledScript(Source)\n        } catch (Signal) {\n          console.error(\n            `CompilationError: compilation of behaviour ${quoted(Name)} failed. ` +\n            'Reason: ' + Signal\n          )\n\n          BehaviourRegistry[normalizedName] = {\n            Name, AttributeSet, Source, Error:{\n              Title:'Compilation Failure',\n              Message:`Compilation of behaviour ${quoted(Name)} failed.\\n\\n` +\n                'Reason:' + Signal\n            }\n          }\n          return\n        }\n\n        BehaviourRegistry[normalizedName] = {\n          Name, AttributeSet, Source, Executable\n        }\n      }\n    }\n\n  /**** install a custom element for the given behaviour ****/\n\n    const customizedVisual = class extends RSC_Visual {\n      static observedAttributes:string[] = observedAttributes\n    }\n    customElements.define('rsc-' + normalizedName, customizedVisual)\n  }\n\n  BehaviourRegistry['visual'] = {\n    Name:'Visual', AttributeSet:{ value:'Value' }\n  }\n\n  BehaviourRegistry['applet'] = {\n    Name:'Applet', AttributeSet:{ value:'Value' }\n  }\n\n/**** registerBehaviourFromElement ****/\n\n  function registerBehaviourFromElement (ScriptElement:Element):void {\n    let Name = expectedName(\n      'behaviour name',ScriptElement.getAttribute('for-behaviour')\n    )\n    if (normalizedBehaviourName(Name) === 'visual') throwError(\n      'ReservedName: behaviour name \"visual\" is reserved for internal use'\n    )\n\n    let Source = ScriptElement.innerHTML\n\n    let observedAttributes:RSC_Name[] = (\n      (ScriptElement.getAttribute('observed-attributes') || '')\n      .split(/\\s*(?:,|$)\\s*/).filter((Name) => (Name || '').trim() !== '')\n    )\n    if (! ValueIsListSatisfying(observedAttributes,ValueIsName)) throwError(\n      'Invalidargument: attribute \"observed-attributes\" does not contain a ' +\n      'list of valid RSC attribute names'\n    )\n\n    registerBehaviour(Name,Source,observedAttributes)\n\n    permitVisualsWithinBehaviour(\n      Name, ScriptElement.getAttribute('permitted-contents') || ''\n    )\n\n    forbidVisualsWithinBehaviour(\n      Name, ScriptElement.getAttribute('forbidden-contents') || ''\n    )\n  }\n\n/**** registerAllBehavioursFoundInHeadAndBody ****/\n\n  function registerAllBehavioursFoundInHeadAndBody ():void {\n    innerElementsOf(document.head).forEach((Element) => {\n      if (Element.matches('script[type=\"rsc-script\"][for-behaviour]')) {\n        registerBehaviourFromElement(Element)\n      }\n    })\n\n    innerElementsOf(document.body).forEach((Element) => {\n      if (Element.matches('script[type=\"rsc-script\"][for-behaviour]')) {\n        registerBehaviourFromElement(Element)\n      }\n    })\n  }\n\n/**** registerAllBehavioursFoundInVisual ****/\n\n  function registerAllBehavioursFoundInVisual (Visual:RSC_Visual):void {\n    innerElementsOf(Visual).forEach((Element) => {\n      if (Element.matches('script[type=\"rsc-script\"][for-behaviour]')) {\n        registerBehaviourFromElement(Element)\n      }\n    })\n  }\n\n/**** normalizedBehaviourName ****/\n\n  function normalizedBehaviourName (originalName:string):string {\n    return originalName.toLowerCase()\n  }\n\n//registerAllBehavioursFoundInHead()           // not yet, only after RSC_Visual\n\n/**** BehaviourNameOfVisual ****/\n\n  function BehaviourNameOfVisual (Visual:RSC_Visual):RSC_Name|undefined {\n    let BehaviourName = Visual.tagName.slice(4).toLowerCase()\n    if (BehaviourName === 'visual') {\n      BehaviourName = Visual.getAttribute('behaviour') as string\n      return (ValueIsName(BehaviourName) ? BehaviourName : 'visual')\n    } else {\n      return InfoForBehaviour(BehaviourName)?.Name || BehaviourName\n    }\n  }\n\n//------------------------------------------------------------------------------\n//--                    Content and Containment Validation                    --\n//------------------------------------------------------------------------------\n\n  type RSC_SelectorSet = {[BehaviourName:RSC_Name]:string}\n\n  const permittedVisualsSelectorWithinBehaviour:RSC_SelectorSet = Object.create(null)\n  const forbiddenVisualsSelectorWithinBehaviour:RSC_SelectorSet = Object.create(null)\n\n/**** permitVisualsWithinBehaviour ****/\n\n  function permitVisualsWithinBehaviour (\n    BehaviourName:RSC_Name, Selector:string\n  ):void {\n    Selector = Selector.trim()\n    if (Selector !== '') {\n      const normalizedName = normalizedBehaviourName(BehaviourName)\n      permittedVisualsSelectorWithinBehaviour[normalizedName] = Selector\n    }\n  }\n\n/**** forbidVisualsWithinBehaviour ****/\n\n  function forbidVisualsWithinBehaviour (\n    BehaviourName:RSC_Name, Selector:string\n  ):void {\n    Selector = Selector.trim()\n    if (Selector !== '') {\n      const normalizedName = normalizedBehaviourName(BehaviourName)\n      forbiddenVisualsSelectorWithinBehaviour[normalizedName] = Selector\n    }\n  }\n\n/**** validateContentsOfVisual ****/\n\n  function validateContentsOfVisual (Visual:RSC_Visual):void {\n    const BehaviourName = BehaviourNameOfVisual(Visual)\n    if (BehaviourName == null) { return }\n\n    const normalizedName = normalizedBehaviourName(BehaviourName)\n    let permittedVisualsSelector = permittedVisualsSelectorWithinBehaviour[normalizedName]\n    let forbiddenVisualsSelector = forbiddenVisualsSelectorWithinBehaviour[normalizedName]\n\n    if ((permittedVisualsSelector != null) || (forbiddenVisualsSelector != null)) {\n      innerVisualsOf(Visual).forEach((innerVisual) => {\n        if ((\n          (permittedVisualsSelector != null) &&\n          ! innerVisual.matches(permittedVisualsSelector)\n        ) || (\n          (forbiddenVisualsSelector != null) &&\n          innerVisual.matches(forbiddenVisualsSelector)\n        )) {\nconsole.log('removing inner visual',innerVisual,'from',Visual)\n          innerVisual.remove()\n        }\n      })\n    }\n  }\n\n/**** validateContainerOfVisual ****/\n\n  function validateContainerOfVisual (Visual:RSC_Visual):void {\n    const Container = outerVisualOf(Visual)\n    if (Container == null) { return }\n\n    const BehaviourName = BehaviourNameOfVisual(Container)\n    if (BehaviourName == null) { return }\n\n    const normalizedName = normalizedBehaviourName(BehaviourName)\n\n    let permittedVisualsSelector = permittedVisualsSelectorWithinBehaviour[normalizedName]\n    if (permittedVisualsSelector != null) {\n      if (! Visual.matches(permittedVisualsSelector)) throwError(\n        'InacceptableInnerVisual: the given visual is not allowed to become a ' +\n        'part of its container'\n      )\n    }\n\n    let forbiddenVisualsSelector = forbiddenVisualsSelectorWithinBehaviour[normalizedName]\n    if (forbiddenVisualsSelector != null) {\n      if (Visual.matches(forbiddenVisualsSelector)) throwError(\n        'InacceptableInnerVisual: the given visual is not allowed to become a ' +\n        'part of its container'\n      )\n    }\n  }\n\n//------------------------------------------------------------------------------\n//--                       Script Delegation Management                       --\n//------------------------------------------------------------------------------\n\n  type RSC_Selector = Textline\n\n  type RSC_ScriptDelegationInfo = {\n    Selector:RSC_Selector,\n    Source:Text,\n    Executable:Function,\n    Error?:RSC_ErrorInfo\n  }\n\n  type RSC_ScriptDelegationSet = {[Selector:RSC_Selector]:RSC_ScriptDelegationInfo}\n\n  const ScriptDelegationSetForVisual:WeakMap<RSC_Visual,RSC_ScriptDelegationSet> = new WeakMap()\n\n/**** registerDelegatedScriptInVisual ****/\n\n  function registerDelegatedScriptInVisual (\n    Visual:RSC_Visual, Selector:RSC_Selector, Source:Text\n  ):void {\n    let ScriptDelegationSet = ScriptDelegationSetForVisual.get(Visual)\n    if (ScriptDelegationSet == null) {\n      ScriptDelegationSetForVisual.set(Visual,ScriptDelegationSet = Object.create(null))\n    }\n\n    if (Selector in (ScriptDelegationSet as RSC_ScriptDelegationSet)) throwError(\n      'ForbiddenOperation: a script for elements matching selector ' +\n      quoted(Selector) + ' exists already'\n    )\n\n    let Executable:Function\n    try {\n      Executable = compiledScript(Source)\n    } catch (Signal) {\n      throwError(\n        'CompilationError: compilation of delegated script for elements ' +\n        'matching selector ' + quoted(Selector) + ' failed. ' +\n        'Reason: ' + Signal\n      )\n    }\n\n// @ts-ignore TS2454 we know that \"Executable != null\"\n    (ScriptDelegationSet as RSC_ScriptDelegationSet)[Selector] = { Selector, Source, Executable }\n  }\n\n/**** registerDelegatedScriptFromElement ****/\n\n  function registerDelegatedScriptFromElement (\n    Visual:RSC_Visual, ScriptElement:Element\n  ):void {\n    let Selector = expectedTextline(\n      'element selector',ScriptElement.getAttribute('for')\n    )\n\n    let Script = ScriptElement.innerHTML\n\n    registerDelegatedScriptInVisual(Visual, Selector, Script)\n  }\n\n/**** registerAllDelegatedScriptsFoundInVisual ****/\n\n  function registerAllDelegatedScriptsFoundInVisual (Visual:RSC_Visual):void {\n    innerElementsOf(Visual).forEach((Element) => {\n      if (Element.matches('script[type=\"rsc-script\"][for]')) {\n        registerDelegatedScriptFromElement(Visual,Element)\n      }\n    })\n  }\n\n/**** delegatedScriptInfoForVisual ****/\n\n  function delegatedScriptInfoForVisual (\n    Visual:RSC_Visual\n  ):RSC_ScriptDelegationInfo|undefined {\n    let ScriptContainer = Visual\n    while (ScriptContainer != null) {\n      let ScriptDelegationSet = ScriptDelegationSetForVisual.get(ScriptContainer)\n      if (ScriptDelegationSet != null) {\n        for (const Selector in ScriptDelegationSet) {\n          if (Visual.matches(Selector)) {\n            return ScriptDelegationSet[Selector]\n          }\n        }\n      }\n\n      ScriptContainer = outerVisualOf(ScriptContainer) as RSC_Visual\n    }\n  }\n\n//------------------------------------------------------------------------------\n//--                             Script Handling                              --\n//------------------------------------------------------------------------------\n\n/**** ScriptOfVisual ****/\n\n  function ScriptOfVisual (Visual:RSC_Visual):Text|undefined {\n    let Script = Visual.getAttribute('script') || ''\n    return (Script.trim() === '' ? undefined : Script)\n  }\n\n/**** ScriptInVisual ****/\n\n  function ScriptInVisual (Visual:RSC_Visual):Text|undefined {\n    const ScriptList = innerElementsOf(Visual)\n    for (let i = 0, l = ScriptList.length; i < l; i++) {\n      let Candidate = ScriptList[i]\n      if (\n        (Candidate.tagName === 'SCRIPT') &&\n        ((Candidate.getAttribute('type') || '') === 'rsc-script') &&\n        ! Candidate.hasAttribute('for') && ! Candidate.hasAttribute('for-behaviour')\n      ) { return Candidate.innerHTML }\n    }\n  }\n\n/**** compiledScript - throws on failure ****/\n\n  function compiledScript (Script:Text):Function {\n    return new Function(\n      'my,me, RSC,JIL, onAttributeChange, onAttachment,onDetachment, ' +\n      'toRender, html, on,once,off,trigger, reactively, ShadowRoot',\n      Script || ''\n    )                                                                // may fail!\n  }\n\n/**** applyExecutable - throws on failure ****/\n\n  function applyExecutable (Visual:RSC_Visual, Executable:Function):void {\n    const onAttributeChange = Visual.onAttributeChange.bind(Visual)\n    const onAttachment      = Visual.onAttachment     .bind(Visual)\n    const onDetachment      = Visual.onDetachment     .bind(Visual)\n    const toRender          = Visual.toRender         .bind(Visual)\n    const ShadowRoot        = ShadowRootForVisual.get(Visual)\n\n  /**** on ****/\n\n    function on (\n      Events:string, SelectorOrHandler:string|String|null|Function,\n      DataOrHandler?:any, Handler?:Function\n    ):void {\n      registerEventHandlerForVisual(\n        Visual, Events,SelectorOrHandler,DataOrHandler,Handler\n      )\n    }\n\n  /**** once ****/\n\n    function once (\n      Events:string, SelectorOrHandler:string|String|null|Function,\n      DataOrHandler?:any, Handler?:Function\n    ):void {\n      registerEventHandlerForVisual(\n        Visual, Events,SelectorOrHandler,DataOrHandler,Handler, 'once'\n      )\n    }\n\n  /**** off ****/\n\n    function off (\n      Events?:string, SelectorOrHandler?:string|String|null|Function,\n      Handler?:Function\n    ):void {\n      let ArgList = Array.prototype.slice.call(arguments,1)\n\n      Events = (Events || '').trim().replace(/\\s+/g,' ')\n      if (Events === '') {\n        unregisterAllMatchingEventHandlersFromVisual(Visual)\n        return\n      }\n\n      let Selector:string = (\n        ValueIsString(ArgList[0])\n        ? (ArgList.shift() as string).trim()\n        : (ArgList[0] === null ? ArgList.shift() || '' : undefined)\n      )          // \"null\" means: no selector, \"undefined\" means: any selector\n\n      Handler = ArgList.shift()\n      if (Handler == null) {\n        unregisterAllMatchingEventHandlersFromVisual(Visual,Events,Selector)\n      } else {\n        unregisterAllMatchingEventHandlersFromVisual(Visual,Events,Selector,Handler)\n      }\n    }\n\n  /**** trigger ****/\n\n    function trigger (\n      EventToTrigger:string|Event, Arguments:any[] = [],\n      bubbles = true\n    ):boolean {\n      Arguments = (ValueIsArray(Arguments) ? Arguments.slice() : [Arguments])\n\n      switch (true) {\n        case ValueIsString(EventToTrigger):\n          EventToTrigger = new CustomEvent(\n            (EventToTrigger as string).toLowerCase(), {\n              bubbles, cancelable:true, detail:{ Arguments }\n            }\n          )\n          break\n        case (EventToTrigger instanceof Event):\n          EventToTrigger = new CustomEvent((EventToTrigger as Event).type,\n            Object.assign({}, EventToTrigger, {\n              bubbles, cancelable:true , detail:{ Arguments }\n            })\n          )\n          break\n        default: throwError(\n          'InvalidArgument: Event instance or literal event type expected'\n        )\n      }\n\n      Visual.dispatchEvent(EventToTrigger as CustomEvent)\n\n      const EventDetails = (EventToTrigger as CustomEvent).detail\n      if (EventDetails?.Error == null) {\n        return EventDetails?.Result\n      } else {\n        throw EventDetails?.Error\n      }\n    }\n\n  /**** reactively ****/\n\n    function reactively (reactiveFunction:Function) {\n      expectFunction('reactive function',reactiveFunction)\n// @ts-ignore we definitely want the function argument to be accepted\n      registerReactiveFunctionIn(Visual,computed(reactiveFunction))\n    }\n\n  /**** run \"Executable\" in the context of \"Visual\" ****/\n\n    Executable.apply(Visual, [\n      Visual,Visual, RSC,JIL, onAttributeChange, onAttachment,onDetachment,\n      toRender, html, on,once,off,trigger, reactively, ShadowRoot\n    ])\n  }\n\n/**** applyBehaviourScriptOfVisual ****/\n\n  function applyBehaviourScriptOfVisual (Visual:RSC_Visual):void {\n    const BehaviourName = BehaviourNameOfVisual(Visual)\n    if (BehaviourName == null) { return }\n\n    const BehaviourInfo = InfoForBehaviour(BehaviourName)\n    if (BehaviourInfo == null) {\n      setErrorOfVisual(Visual,{\n        Title:'Missing Behaviour',\n        Message:'Behaviour ' + quoted(BehaviourName) + ' could not be found'\n      })\n      return\n    }\n\n    if (BehaviourInfo.Error != null) {\n      setErrorOfVisual(Visual,BehaviourInfo.Error)\n      return\n    }\n\n    const Executable = BehaviourInfo.Executable as Function\n    if (Executable == null) { return }\n\n    try {\n      applyExecutable(Visual,Executable)\n    } catch (Signal) {\nconsole.error('behaviour script execution failure',Signal)\n      setErrorOfVisual(Visual,{\n        Title:'Execution Failure',\n        Message:'Script of behaviour ' + quoted(BehaviourName) + ' could not ' +\n                'be executed.\\n\\nReason:\\n' + Signal\n      })\n      return\n    }\n  }\n\n/**** applyElementScriptOfVisual ****/\n\n  function applyElementScriptOfVisual (Visual:RSC_Visual):void {\n    const Script = ScriptOfVisual(Visual) || ScriptInVisual(Visual)\n    if (Script != null) {\n      let Executable\n      try {\n        Executable = compiledScript(Script)\n      } catch (Signal) {\nconsole.error('element script compilation failure',Signal)\n        setErrorOfVisual(Visual,{\n          Title:'Compilation Failure',\n          Message:'Visual script could not be compiled.\\n\\nReason:\\n' + Signal\n        })\n      }\n\n      try {\n        applyExecutable(Visual,Executable as Function)\n      } catch (Signal) {\nconsole.error('element script execution failure',Signal)\n        setErrorOfVisual(Visual,{\n          Title:'Execution Failure',\n          Message:'Visual script could not be executed.\\n\\nReason:\\n' + Signal\n        })\n      }\n      return\n    }\n\n    const ScriptDelegationInfo = delegatedScriptInfoForVisual(Visual)\n    if (ScriptDelegationInfo != null) {\n      if (ScriptDelegationInfo.Error != null) {\nconsole.error('element script compilation failure',ScriptDelegationInfo.Error)\n        setErrorOfVisual(Visual,ScriptDelegationInfo.Error)\n        return\n      }\n\n      try {\n        applyExecutable(Visual,ScriptDelegationInfo.Executable)\n      } catch (Signal) {\nconsole.error('element script execution failure',Signal)\n        setErrorOfVisual(Visual,{\n          Title:'Execution Failure',\n          Message:'delegated visual script with selector ' +\n            quoted(ScriptDelegationInfo.Selector) + ' could not be ' +\n            'executed.\\n\\nReason:\\n' + Signal\n        })\n        return\n      }\n    }\n  }\n\n//------------------------------------------------------------------------------\n//--                              Event Handling                              --\n//------------------------------------------------------------------------------\n\n/**** ValueIsEventNameWithSelector ****/\n\n  const RSC_NameWithSelectorPattern = /^[a-z$_][a-z$_0-9]*([-.:][a-z$_0-9]+)*@.*$/i\n\n  function ValueIsEventNameWithSelector (Value:any):boolean {\n    return ValueIsStringMatching(Value,RSC_NameWithSelectorPattern)\n  }\n\n/**** registerEventHandlerForVisual ****/\n\n  function registerEventHandlerForVisual (\n    Visual:RSC_Visual,\n    Events:string, SelectorOrHandler?:string|String|null|Function,\n    DataOrHandler?:any, Handler?:Function, once?:'once'\n  ):void {\n    let ArgList = Array.prototype.slice.call(arguments,1)\n\n    Events = ArgList.shift().trim().replace(/\\s+/g,' ')\n    if (Events === '') { return }\n\n    let Selector:string = (\n      ValueIsString(ArgList[0])\n      ? (ArgList.shift() as string).trim()\n      : (ArgList[0] == null ? ArgList.shift() || '' : '')\n    )                                                   // '' means: no selector\n\n    let Data:any = (\n      typeof ArgList[1] === 'function'\n      ? ArgList.shift()\n      : undefined\n    )\n\n    Handler = ArgList.shift() as Function\n\n    _registerEventHandlerForVisual(\n      Visual, Events.toLowerCase(),Selector,Data,Handler, once\n    )\n  }\n\n/**** _registerEventHandlerForVisual ****/\n\n  const EventRegistryForVisual:WeakMap<RSC_Visual,object> = new WeakMap()\n\n  function _registerEventHandlerForVisual (\n    Visual:RSC_Visual,\n    Events:string, Selector:string|String, Data:any,\n    Handler:Function, once?:'once'\n  ):void {\n  /**** actualHandler ****/\n\n    function actualHandler (Event:indexableEvent):void {\n      switch (Selector) {\n        case '':\n          break\n        case '@this':\n          if (Event.target !== Event.currentTarget) { return }\n          break\n        default:\n          if (! (Event.target as Element).matches(Selector as string)) { return }\n      }\n\n      if (Data != null) { Event.data = Data }\n\n      if (once) {\n        unregisterAllMatchingEventHandlersFromVisual(\n          Visual, Event.type,Selector,Handler\n        )\n      }\n\n      let ArgList = [Event].concat(Event.detail?.Arguments || [])\n      try {\n        const Result = Handler.apply(Visual,ArgList)\n        if (Result !== undefined) {\n          ;(Event.detail || {}).Result = Result\n\n          Event.stopImmediatePropagation()\n          Event.preventDefault()\n        }\n      } catch (Signal) {\n        ;(Event.detail || {}).Error = Signal\n\n        Event.stopImmediatePropagation()\n        Event.preventDefault()\n      }\n    }\n    ;(actualHandler as indexableFunction)['isFor'] = Handler\n\n    let EventList:string[]\n    if (ValueIsEventNameWithSelector(Events)) {\n      let AtIndex = Events.indexOf('@')\n      EventList = [Events.slice(0,AtIndex)]\n      Selector  = Events.slice(AtIndex+1)\n        if (Selector === 'this') { Selector = '@this' }          // special case\n    } else {\n      EventList = Events.split(' ')\n    }\n\n    let EventRegistry:Indexable = EventRegistryForVisual.get(Visual) as Indexable\n    if (EventRegistry == null) {\n      EventRegistryForVisual.set(Visual,EventRegistry = Object.create(null))\n    }\n\n    EventList.forEach((Event:string) => {\n      Event = Event.toLowerCase()\n\n      let EntriesForEvent:Indexable = (EventRegistry as Indexable)[Event]\n      if (EntriesForEvent == null) {\n        EntriesForEvent = (EventRegistry as Indexable)[Event] = Object.create(null)\n      }\n\n      let EntriesForSelector:Function[] = EntriesForEvent[Selector as string]\n      if (EntriesForSelector == null) {\n        EntriesForSelector = EntriesForEvent[Selector as string] = []\n      }\n\n      EntriesForSelector.push(actualHandler)\n      Visual.addEventListener(Event,actualHandler)\n    })\n  }\n\n/**** unregisterAllMatchingEventHandlersFromVisual ****/\n\n  function unregisterAllMatchingEventHandlersFromVisual (\n    Visual:RSC_Visual,\n    Events?:string, Selector?:string|String|null, Handler?:Function\n  ):void {\n    let EventList:string[]\n    if (ValueIsEventNameWithSelector(Events)) {\n      let AtIndex = (Events as string).indexOf('@')\n      EventList = [(Events as string).slice(0,AtIndex)]\n      Selector  = (Events as string).slice(AtIndex+1)\n    } else {\n      EventList = (Events == null ? [] : Events.split(' '))\n    }\n\n    const EventRegistry = EventRegistryForVisual.get(Visual)\n    if (EventRegistry == null) { return }\n\n    if (EventList.length === 0) {               // unregister any event handlers\n      for (let Event in EventRegistry) {\n        unregisterMatchingEventHandlersFromVisual(\n          Visual, Event,Selector,Handler\n        )\n      }\n    } else {                    // unregister handlers for the given events only\n      EventList.forEach((Event:string) => {\n        unregisterMatchingEventHandlersFromVisual(\n          Visual, Event,Selector,Handler\n        )\n      })\n    }\n  }\n\n/**** unregisterMatchingEventHandlersFromVisual ****/\n\n  function unregisterMatchingEventHandlersFromVisual (\n    Visual:RSC_Visual,\n    Event:string, Selector?:string|String|null, Handler?:Function\n  ):void {\n    const EventRegistry:Indexable = EventRegistryForVisual.get(Visual) as Indexable\n    if (EventRegistry == null) { return }\n\n    let EntriesForEvent:Indexable = EventRegistry[Event]\n    if (EntriesForEvent != null) {\n      if (Selector == null) {\n        for (let Selector in EntriesForEvent) {\n          unregisterMatchingEventSelectorHandlersFromVisual(\n            Visual, EntriesForEvent, Event,Selector,Handler\n          )\n        }\n      } else {\n        unregisterMatchingEventSelectorHandlersFromVisual(\n          Visual, EntriesForEvent, Event,Selector,Handler\n        )\n      }\n\n      if (ObjectIsEmpty(EntriesForEvent)) {\n        delete EventRegistry[Event]\n      }\n    }\n  }\n\n/**** unregisterMatchingEventSelectorHandlersFromVisual ****/\n\n  function unregisterMatchingEventSelectorHandlersFromVisual (\n    Visual:RSC_Visual,\n    EntriesForEvent:any, Event:string, Selector:string|String, Handler?:Function\n  ):void {\n    let EntriesForSelector:Function[] = EntriesForEvent[Selector as string]\n    if (EntriesForSelector != null) {\n      if (Handler == null) {\n        EntriesForSelector.forEach((actualHandler:Function) => {\n// @ts-ignore TypeScript does not allow JS functions here, but that's wrong\n          Visual.removeEventListener(Event,actualHandler)\n        })\n        EntriesForSelector.length = 0\n      } else {\n        EntriesForSelector.every((actualHandler:indexableFunction, Index:number) => {\n          if (actualHandler['isFor'] === Handler) {\n// @ts-ignore TypeScript does not allow JS functions here, but that's wrong\n            Visual.removeEventListener(Event,actualHandler)\n            EntriesForSelector.splice(Index,1)\n            return false\n          }\n          return true\n        })\n      }\n\n      if (EntriesForSelector.length === 0) {\n        delete EntriesForEvent[Selector as string]\n      }\n    }\n  }\n\n//------------------------------------------------------------------------------\n//--                           Reactivity Handling                            --\n//------------------------------------------------------------------------------\n\n  const reactiveFunctionsForVisual:WeakMap<RSC_Visual,Function[]>  = new WeakMap()\n  const reactiveAttributesForVisual:WeakMap<RSC_Visual,Function[]> = new WeakMap()\n\n  const ignoredAttributesForVisual:WeakMap<RSC_Visual,Indexable> = new WeakMap()\n\n/**** observed/unobserved ****/\n\n  const globalObservables = observe({},{ deep:false, batch:true })\n  const globalInternals   = {}\n\n  export var observed:Indexable   = {}           // will be replaced in a moment\n  export var unobserved:Indexable = {}                                   // dto.\n\n  assign(RSC,{\n    get observed ():Indexable  { return globalObservables },\n    set observed (_:Indexable) { throwReadOnlyError('observed') },\n\n    get unobserved ():Indexable  { return globalInternals },\n    set unobserved (_:Indexable) { throwReadOnlyError('unobserved') },\n  })\n\n/**** ObservablesOfVisual ****/\n\n  const ObservablesForVisual:WeakMap<RSC_Visual,Indexable> = new WeakMap()\n\n  function ObservablesOfVisual (Visual:RSC_Visual):Indexable {\n    let Observables = ObservablesForVisual.get(Visual)\n    if (Observables == null) {\n      ObservablesForVisual.set(Visual, Observables = observe({},{ deep:false }))\n    }\n    return Observables as Indexable\n  }\n\n/**** InternalsOfVisual ****/\n\n  const InternalsForVisual:WeakMap<RSC_Visual,Indexable> = new WeakMap()\n\n  function InternalsOfVisual (Visual:RSC_Visual):Indexable {\n    let Internals = InternalsForVisual.get(Visual)\n    if (Internals == null) {\n      InternalsForVisual.set(Visual, Internals = {})\n    }\n    return Internals as Indexable\n  }\n\n/**** startReactiveRenderingOfVisual ****/\n\n  const reactiveRendererForVisual:WeakMap<RSC_Visual,Function> = new WeakMap()\n\n  function startReactiveRenderingOfVisual (Visual:RSC_Visual):void {\n    reactiveRendererForVisual.set(Visual,computed(Visual.render.bind(Visual)))\n  }\n\n/**** stopReactiveRenderingOfVisual ****/\n\n  function stopReactiveRenderingOfVisual (Visual:RSC_Visual):void {\n    const Renderer = reactiveRendererForVisual.get(Visual)\n    if (Renderer != null) {\n      dispose(Renderer)\n      reactiveRendererForVisual.delete(Visual)\n    }\n  }\n\n/**** ValueIsReactiveAttributeName ****/\n\n  function ValueIsReactiveAttributeName (Value:any):boolean {\n    return (\n      ValueIsString(Value) && (\n        Value.startsWith('$')  && ValueIsName(Value.slice(1)) ||\n        Value.startsWith('$$') && ValueIsName(Value.slice(2))\n      )\n    )\n  }\n\n/**** updateAttributeOfVisual (non-reactive attributes only) ****/\n\n  function updateAttributeOfVisual (\n    Visual:RSC_Visual, normalizedName:RSC_Name, newValue:string|undefined\n  ):void {\n    let AttributeChangeHandler = AttributeChangeHandlerForVisual.get(Visual)\n    if (AttributeChangeHandler != null) {\n      try {\n        const AttributeWasProcessed = AttributeChangeHandler.call(\n          Visual, normalizedName, newValue\n        )\n        if (AttributeWasProcessed == true) { return }\n      } catch (Signal) {\nconsole.error('attribute change handler failure',Signal)\n        setErrorOfVisual(Visual,{\n          Title:'Attribute Change Handler Failure',\n          Message:'Running the configured attribute change handler failed\\n\\n' +\n                  'Reason: ' + Signal\n        })\n        return\n      }\n    }\n\n  /**** perform automatic attribute mapping ****/\n\n    const BehaviourName = BehaviourNameOfVisual(Visual)\n    if (BehaviourName == null) { return }\n\n    const Behaviour = InfoForBehaviour(BehaviourName)\n    if (Behaviour == null) { return }\n\n    const AttributeSet = Behaviour.AttributeSet\n    if (normalizedName in AttributeSet) {\n      const originalName = AttributeSet[normalizedName]\n      try {\n        Visual.observed[originalName] = newValue\n      } catch (Signal) {\nconsole.error('attribute change failure',Signal)\n        setErrorOfVisual(Visual,{\n          Title:'Attribute Change Failure',\n          Message:(\n            'could not update observed property \"' +\n            quoted(originalName) + '\" upon a change of attribute \"' +\n            quoted(normalizedName) + '\"'\n          )\n        })\n      }\n    }\n  }\n\n/**** updateAllAttributesOfVisual (non-reactive attributes only) ****/\n\n  function updateAllAttributesOfVisual (Visual:RSC_Visual):void {\n    Array.from(Visual.attributes).forEach((Attribute) => {\n      const normalizedName = Attribute.name\n      if (ValueIsName(normalizedName)) {      // ignores all reactive attributes\n        updateAttributeOfVisual(Visual,normalizedName,Attribute.value)\n      }\n    })\n  }\n\n/**** registerAllReactiveAttributesOfVisual ****/\n\n  function registerAllReactiveAttributesOfVisual (Visual:RSC_Visual):void {\n    Array.from(Visual.attributes).forEach((Attribute) => {\n      const reactiveName = Attribute.name\n      if (ValueIsReactiveAttributeName(reactiveName)) {\n        const BehaviourName = BehaviourNameOfVisual(Visual)\n        if (BehaviourName == null) { return }\n\n        const Behaviour = InfoForBehaviour(BehaviourName)\n        if (Behaviour == null) { return }\n\n        const normalizedName = reactiveName.replace(/^[$]{1,2}/,'')\n\n        const AttributeSet = Behaviour.AttributeSet\n        if (normalizedName in AttributeSet) {\n          const originalName = AttributeSet[normalizedName]\n\n          const { Base,PathList } = parsedAccessPathFromVisual(\n            Visual, Attribute.value\n          )\n\n          let HandlerList:Function[] = reactiveAttributesForVisual.get(Visual) as Function[]\n          if (HandlerList == null) {\n            reactiveAttributesForVisual.set(Visual,HandlerList = [])\n          }\n\n          if (! VisualAttributeIsIgnored(Visual,reactiveName)) {\n            const Handler = computed(() => {\n              Visual.observed[originalName] = ValueOfReactiveVariable(Base, PathList)\n            })\n            HandlerList.push(Handler)\n          }\n\n          if (reactiveName.startsWith('$$')) {\n            const Handler = computed(() => {\n              setValueOfReactiveVariable(\n                Base, PathList, Visual.observed[originalName]\n              )\n            })\n            HandlerList.push(Handler)\n          }\n        }\n      }\n    })\n  }\n\n/**** parsedAccessPathFromVisual ****/\n\n  type RSC_AccessPath = {\n    Base:RSC_Visual|typeof RSC,\n    PathList:string[]\n  }\n\n  const    dottedIndexPattern = /^\\s*[.]([^.\\[]+)/\n  const  unquotedIndexPattern = /^\\s*\\[([^'\"\\]]+)\\]/\n  const sglquotedIndexPattern = /^\\s*\\[\\s*'(([^'\\\\]|\\\\([\"'\\\\\\/bfnrt]|x[0-9a-f]{2}|u[0-9a-f]{4}))*)'\\s*\\]/i\n  const dblquotedIndexPattern = /^\\s*\\[\\s*\"(([^\"\\\\]|\\\\([\"'\\\\\\/bfnrt]|x[0-9a-f]{2}|u[0-9a-f]{4}))*)\"\\s*\\]/i\n\n  function parsedAccessPathFromVisual (\n    Visual:RSC_Visual, literalPath:string\n  ):RSC_AccessPath {\n    const SplitIndex = literalPath.indexOf(':observed')\n    if (SplitIndex < 0) throwError(\n      'InvalidAccessPath:invalid access path ' + quoted(literalPath)\n    )\n\n    let Base:RSC_Visual|typeof RSC\n\n    let Selector = literalPath.slice(0,SplitIndex)\n    if (Selector === 'RSC') {\n      Base = RSC\n    } else {\n      if (ValueIsName(Selector)) {\n        const normalizedName = Selector.toLowerCase()\n        Selector = `rsc-${normalizedName},[behaviour=\"${normalizedName}\"]`\n      }\n\n      Base = closestVisualMatching(Visual,Selector) as RSC_Visual\n      if (Base == null) throwError(\n        'NoSuchVisual:could not find a close visual matching CSS selector' +\n        quoted(Selector)\n      )\n    }\n\n    let AccessPath = literalPath.slice(SplitIndex + 9).trim()\n\n    const PathList:string[] = []; let Match\n    while (AccessPath !== '') {\n      switch (true) {\n        case (Match =   dottedIndexPattern.exec(AccessPath)) != null:\n        case (Match = unquotedIndexPattern.exec(AccessPath)) != null:\n// @ts-ignore 18048: we know that Match is not null\n          PathList.push(Match[1].trim())\n// @ts-ignore 18048: we know that Match is not null\n          AccessPath = AccessPath.slice(Match[0].length).trim()\n          break\n        case (Match = sglquotedIndexPattern.exec(AccessPath)) != null:\n        case (Match = dblquotedIndexPattern.exec(AccessPath)) != null:\n// @ts-ignore 18048: we know that Match is not null\n          PathList.push(Match[1])\n// @ts-ignore 18048: we know that Match is not null\n          AccessPath = AccessPath.slice(Match[0].length).trim()\n          break\n        default:\n          throwError('InvalidAccessPath:invalid access path ' + quoted(literalPath))\n      }\n    }\n\n    return { Base,PathList }\n  }\n\n/**** ValueOfReactiveVariable ****/\n\n  function ValueOfReactiveVariable (\n    Base:RSC_Visual|typeof RSC, PathList:string[]\n  ):any {\n    let Value:any = Base.observed[PathList[0]]\n      for (let i = 1, l = PathList.length; i < l; i++) {\n        if (Value == null) throwError(\n          'InvalidAccess:cannot access variable bound to reactive attribute'\n        )\n        Value = Value[PathList[i]]\n      }\n    return Value\n  }\n\n/**** setValueOfReactiveVariable ****/\n\n  function setValueOfReactiveVariable (\n    Base:RSC_Visual|typeof RSC, PathList:string[], Value:any\n  ):void {\n    let Variable:Indexable = Base.observed\n      for (let i = 0, l = PathList.length-1; i < l; i++) {\n        if (Variable == null) throwError(\n          'InvalidAccess:cannot access variable bound to reactive attribute'\n        )\n        Variable = Variable[PathList[i]]\n      }\n\n    Variable[PathList[PathList.length-1]] = Value\n\n    if (PathList.length > 1) {// explicitly trigger change of outermost variable\n      const observed = Base.observed\n      if (Array.isArray(PathList[0])) {\n        observed[PathList[0]] = [...observed[PathList[0]]]\n      } else {\n        observed[PathList[0]] = {...observed[PathList[0]]}\n      }\n    }\n  }\n\n/**** unregisterAllReactiveAttributesOfVisual ****/\n\n  function unregisterAllReactiveAttributesOfVisual (Visual:RSC_Visual):void {\n    let HandlerList:Function[] = reactiveAttributesForVisual.get(Visual) as Function[]\n    if (HandlerList == null) { return }\n\n    HandlerList.forEach((Handler) => {\n      dispose(Handler)\n    })\n  }\n\n/**** normalizedAttributeName ****/\n\n  function normalizedAttributeName (originalName:string):string {\n    let Result = originalName.replace(/^[$]{1,2}/,'')\n    return (\n      Result[0].toLowerCase() +\n      Result.slice(1).replace(/[A-Z]+/g,function (Match) {\n        return (\n          Match.length === 1\n          ? '-' + Match.toLowerCase()\n          : Match.slice(0,-1).toLowerCase() + '-' + Match.slice(-1).toLowerCase()\n        )\n      })\n    )\n  }\n\n/**** ignoreAttributeOfVisual (i.e., attribute should only be reactively read) ****/\n\n  function ignoreAttributeOfVisual (Visual:RSC_Visual, Attribute:string):void {\n    Attribute = Attribute.replace(/^[$]{1,2}/,'')\n\n    let ignoredAttributes = ignoredAttributesForVisual.get(Visual)\n    if (ignoredAttributes == null) {\n      ignoredAttributesForVisual.set(Visual, ignoredAttributes = Object.create(null))\n    }\n    (ignoredAttributes as Indexable)[Attribute] = true\n  }\n\n/**** VisualAttributeIsIgnored ****/\n\n  function VisualAttributeIsIgnored (Visual:RSC_Visual, Attribute:string):boolean {\n    Attribute = Attribute.replace(/^[$]{1,2}/,'')\n    return (ignoredAttributesForVisual.get(Visual)?.[Attribute] == true)\n  }\n\n/**** registerReactiveFunctionIn ****/\n\n  function registerReactiveFunctionIn (\n    Visual:RSC_Visual, reactiveFunction:Function\n  ):void {\n    let reactiveFunctions = reactiveFunctionsForVisual.get(Visual)\n    if (reactiveFunctions == null) {\n      reactiveFunctionsForVisual.set(Visual,reactiveFunctions = [])\n    }\n    reactiveFunctions.push(reactiveFunction)\n  }\n\n/**** unregisterAllReactiveFunctionsFrom ****/\n\n  function unregisterAllReactiveFunctionsFrom (Visual:RSC_Visual):void {\n    let reactiveFunctions = reactiveFunctionsForVisual.get(Visual)\n    if (reactiveFunctions == null) { return }\n\n    reactiveFunctions.forEach((reactiveFunction) => {\n      dispose(reactiveFunction)\n    })\n  }\n\n//------------------------------------------------------------------------------\n//--                              Error Handling                              --\n//------------------------------------------------------------------------------\n\n  type RSC_ErrorInfo = {\n    Title:Textline,\n    Message:Text\n  }\n\n  const ErrorInfoForVisual:WeakMap<RSC_Visual,RSC_ErrorInfo> = new WeakMap()\n\n/**** setErrorOfVisual ****/\n\n  function setErrorOfVisual (\n    Visual:RSC_Visual, ErrorInfo:RSC_ErrorInfo|undefined\n  ):void {\n    expectErrorInfo('RSC error info record',ErrorInfo)\n\n    if (ErrorInfoForVisual.get(Visual) == null) {\n      ErrorInfoForVisual.set(Visual,ErrorInfo as RSC_ErrorInfo)\n      Visual.render()\n    }\n  }\n\n/**** ErrorOfVisual ****/\n\n  function ErrorOfVisual (Visual:RSC_Visual):RSC_ErrorInfo|undefined {\n    return ErrorInfoForVisual.get(Visual)\n  }\n\n/**** RSC_ErrorIndicator ****/\n\n  function RSC_ErrorIndicator (PropSet:Indexable) {\n    const Visual = PropSet.visual\n\n    function onClick (Event:Event) {\n      showErrorInfoForVisual(Visual)\n    }\n\n    return html`\n      <style>\n        .RSC-ErrorIndicator {\n          display:block; position:absolute; overflow:hidden;\n          left:0px; top:0px; width:24px; height:24px;\n          background:url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='utf-8'%3F%3E%3Csvg width='24px' height='24px' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 17.0001H12.01M12 10.0001V14.0001M6.41209 21.0001H17.588C19.3696 21.0001 20.2604 21.0001 20.783 20.6254C21.2389 20.2985 21.5365 19.7951 21.6033 19.238C21.6798 18.5996 21.2505 17.819 20.3918 16.2579L14.8039 6.09805C13.8897 4.4359 13.4326 3.60482 12.8286 3.32987C12.3022 3.09024 11.6978 3.09024 11.1714 3.32987C10.5674 3.60482 10.1103 4.4359 9.19614 6.09805L3.6082 16.2579C2.74959 17.819 2.32028 18.5996 2.39677 19.238C2.46351 19.7951 2.76116 20.2985 3.21709 20.6254C3.7396 21.0001 4.63043 21.0001 6.41209 21.0001Z' stroke='orange' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' fill='white'/%3E%3C/svg%3E\");\n          pointer-events:auto;\n        }\n      </style>\n      <div class=\"RSC-ErrorIndicator\" onClick=${onClick}></div>\n    `\n  }\n\n/**** showErrorInfoForVisual ****/\n\n  function showErrorInfoForVisual (Visual:RSC_Visual):void {\n    const { Title,Message } = ErrorOfVisual(Visual) as RSC_ErrorInfo\n    window.alert(Title + '\\n\\n' + Message)\n  }\n\n//------------------------------------------------------------------------------\n//--                                RSC_Visual                                --\n//------------------------------------------------------------------------------\n\n  const ShadowRootForVisual:WeakMap<RSC_Visual,any> = new WeakMap()\n\n  const AttributeChangeHandlerForVisual:WeakMap<RSC_Visual,Function> = new WeakMap()\n  const AttachmentHandlerForVisual:WeakMap<RSC_Visual,Function>      = new WeakMap()\n  const DetachmentHandlerForVisual:WeakMap<RSC_Visual,Function>      = new WeakMap()\n  const RendererForVisual:WeakMap<RSC_Visual,Function>               = new WeakMap()\n\n  const DummyHandler = () => {}\n\n  class RSC_Visual extends HTMLElement {\n    static observedAttributes:string[] = ['value']         // may be overwritten\n\n  /**** constructor ****/\n\n    public constructor () {       // already with all attributes and inner nodes\n      super()\n\n      const ShadowRoot = this.attachShadow({ mode:'closed' })\n      ShadowRootForVisual.set(this,ShadowRoot)\n    }\n\n  /**** connectedCallback - elements are added from the outside in ****/\n\n    public connectedCallback () {\n      if (RSC_isRunning) { startVisual(this) }\n    }\n\n  /**** disconnectedCallback - elements are removed from the outside in ****/\n\n    public disconnectedCallback () {\n      startReactiveRenderingOfVisual(this)\n\n//    unregisterAllReactiveFunctionsFrom(this) // TODO: better before removal\n      unregisterAllReactiveAttributesOfVisual(this)\n\n      let DetachmentHandler = DetachmentHandlerForVisual.get(this)\n      if (DetachmentHandler != null) {\n        try {\n          DetachmentHandler.call(this)\n        } catch (Signal) {\nconsole.error('detachment handler failure',Signal)\n          setErrorOfVisual(this,{\n            Title:'Detachment Handler Failure',\n            Message:'Running the configured detachment handler failed\\n\\n' +\n                    'Reason: ' + Signal\n          })\n        }\n      }\n    }\n\n  /**** attributeChangedCallback ****/\n\n    public attributeChangedCallback (\n      normalizedName:string, oldValue:string, newValue:string\n    ) {\n      if (VisualWasInitialized(this) && ! ValueIsReactiveAttributeName(normalizedName)) {\n        updateAttributeOfVisual(this, normalizedName, newValue)\n      }\n    }\n\n  /**** observed ****/\n\n    public get observed ():Indexable  { return ObservablesOfVisual(this) }\n    public set observed (_:Indexable) { throwReadOnlyError('observed') }\n\n  /**** unobserved ****/\n\n    public get unobserved ():Indexable  { return InternalsOfVisual(this) }\n    public set unobserved (_:Indexable) { throwReadOnlyError('unobserved') }\n\n  /**** onAttributeChange (originalName, newValue) ****/\n\n    public onAttributeChange (newHandler:Function):void {\n      expectFunction('visual attribute change handler',newHandler)\n      AttributeChangeHandlerForVisual.set(this,newHandler)\n    }\n\n  /**** onAttachment () ****/\n\n    public onAttachment (newHandler:Function):void {\n      expectFunction('visual attachment handler',newHandler)\n      AttachmentHandlerForVisual.set(this,newHandler)\n    }\n\n  /**** onDetachment () ****/\n\n    public onDetachment (newHandler:Function):void {\n      expectFunction('visual detachment handler',newHandler)\n      DetachmentHandlerForVisual.set(this,newHandler) || DummyHandler\n    }\n\n  /**** Renderer ****/\n\n    public toRender (newHandler:Function) {\n      expectFunction('visual renderer',newHandler)\n      RendererForVisual.set(this,newHandler)\n    }\n\n  /**** render ****/\n\n    public render ():void {\n      if (VisualWasInitialized(this)) {\n        let Rendering\n        if (! this.hasError) {\n          const Renderer = RendererForVisual.get(this)\n          if (Renderer == null) {\n            Rendering = html`\n              <style>\n                :host { display:inline-block; position:relative }\n              </style>\n              ${this.observed.Value}\n              <slot/>\n            `\n          } else {\n            try {\n              Rendering = Renderer.call(this)\n            } catch (Signal) {\nconsole.error('rendering failure',Signal)\n              setErrorOfVisual(this,{\n                Title:'Rendering Failure',\n                Message:'Running the configured renderer failed, reason: ' + Signal\n              })\n            }\n          }\n        }\n\n        const ShadowRoot = ShadowRootForVisual.get(this)\n        if (this.hasError) {\n          render(html`<${RSC_ErrorIndicator} visual=${this}/>`,ShadowRoot)\n        } else {\n          render(html`${Rendering}`,ShadowRoot)\n        }\n      }\n    }\n\n  /**** hasError ****/\n\n    public get hasError ():boolean  { return (this.Error != null) }\n    public set hasError (_:boolean) { throwReadOnlyError('hasError') }\n\n  /**** Error ****/\n\n    public get Error ():RSC_ErrorInfo|undefined {\n      return ErrorOfVisual(this)\n    }\n    public set Error (ErrorInfo:RSC_ErrorInfo|undefined) {\n      setErrorOfVisual(this,ErrorInfo)\n    }  /**** Applet ****/\n\n    public get Applet ():RSC_Visual|undefined {\n      return closestVisualWithBehaviour(this,'Applet')\n    }\n    public set Applet (_:RSC_Visual|undefined) { throwReadOnlyError('Applet') }\n\n  /**** Card ****/\n\n    public get Card ():RSC_Visual|undefined {\n      return closestVisualWithBehaviour(this,'Card')\n    }\n    public set Card (_:RSC_Visual|undefined) { throwReadOnlyError('Card') }\n\n  /**** outerVisual ****/\n\n    public get outerVisual ():RSC_Visual|undefined {\n      return outerVisualOf(this)\n    }\n    public set outerVisual (_:RSC_Visual|undefined) { throwReadOnlyError('outerVisual') }\n\n  /**** outermostVisual ****/\n\n    public get outermostVisual ():RSC_Visual|undefined {\n      return outermostVisualOf(this)\n    }\n    public set outermostVisual (_:RSC_Visual|undefined) { throwReadOnlyError('outermostVisual') }\n\n  /**** innerVisuals ****/\n\n    public get innerVisuals ():RSC_Visual[] {\n      return innerVisualsOf(this)\n    }\n    public set innerVisuals (_:RSC_Visual[]) { throwReadOnlyError('innerVisuals') }\n\n  /**** innerElements ****/\n\n    public get innerElements ():Element[] {\n      return innerElementsOf(this)\n    }\n    public set innerElements (_:Element[]) { throwReadOnlyError('innerElements') }\n\n  /**** closestVisualWithBehaviour ****/\n\n    public closestVisualWithBehaviour (BehaviourName:RSC_Name):RSC_Visual|undefined {\n      return closestVisualWithBehaviour(this,BehaviourName)\n    }\n\n  /**** closestOuterVisualWithBehaviour ****/\n\n    public closestOuterVisualWithBehaviour (BehaviourName:RSC_Name):RSC_Visual|undefined {\n      const outerVisual = outerVisualOf(this)\n      return (\n        outerVisual == null\n        ? undefined\n        : closestVisualWithBehaviour(outerVisual,BehaviourName)\n      )\n    }\n\n  /**** closestVisualMatching ****/\n\n    public closestVisualMatching (Selector:Textline):RSC_Visual|undefined {\n      return closestVisualMatching(this,Selector)\n    }\n\n  /**** closestOuterVisualMatching ****/\n\n    public closestOuterVisualMatching (Selector:Textline):RSC_Visual|undefined {\n      const outerVisual = outerVisualOf(this)\n      return (\n        outerVisual == null\n        ? undefined\n        : closestVisualMatching(outerVisual,Selector)\n      )\n    }\n\n  /**** innerVisualsWithBehaviour ****/\n\n    public innerVisualsWithBehaviour (BehaviourName:RSC_Name):RSC_Visual[] {\n      expectName('behaviour name',BehaviourName)\n\n      return innerVisualsOf(this).filter(\n        (Visual) => BehaviourNameOfVisual(Visual) === BehaviourName\n      )\n    }\n\n  /**** innerVisualsMatching ****/\n\n    public innerVisualsMatching (Selector:Textline):RSC_Visual[] {\n      expectTextline('CSS selector',Selector)\n\n      return innerVisualsOf(this).filter(\n        (Visual) => Visual.matches(Selector)\n      )\n    }\n\n  /**** innerElementsMatching ****/\n\n    public innerElementsMatching (Selector:Textline):Element[] {\n      expectTextline('CSS selector',Selector)\n\n      return innerElementsOf(this).filter(\n        (Element) => Element.matches(Selector)\n      )\n    }\n  }\n\n  customElements.define('rsc-visual', RSC_Visual)\n\n//------------------------------------------------------------------------------\n//--                                RSC_Applet                                --\n//------------------------------------------------------------------------------\n\n  class RSC_Applet extends RSC_Visual {\n    static observedAttributes:string[] = ['value']         // may be overwritten\n\n    public constructor () {       // already with all attributes and inner nodes\n      super()\n      RendererForVisual.set(this, function render () {\n        return html`\n          <style>\n            :host {\n              display:block; position:relative;\n              background:white; color:black;\n              font-size:14px; font-weight:normal; line-height:1.4;\n            }\n          </style>\n          <slot/>\n        `\n      })\n    }\n  }\n\n  customElements.define('rsc-applet', RSC_Applet)\n\n//------------------------------------------------------------------------------\n//--                      Property Convenience Functions                      --\n//------------------------------------------------------------------------------\n\n/**** BooleanProperty ****/\n\n  export function BooleanProperty (\n    my:RSC_Visual, PropertyName:string, Default?:boolean,\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():boolean { return my.unobserved[PropertyName] },\n        set: (readonly\n          ? function (_:boolean) { throwReadOnlyError(PropertyName) }\n          : function (newValue:boolean) {\n              ;(Default === undefined ? expectBoolean : allowBoolean)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue\n              )\n              my.unobserved[PropertyName] = (newValue == null ? Default : newValue)\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** BooleanListProperty ****/\n\n  export function BooleanListProperty (\n    my:RSC_Visual, PropertyName:string, Default?:boolean[],\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():boolean[] {\n          let Value = my.unobserved[PropertyName]\n          return (Value == null ? [] : Value.slice())\n        },\n        set: (readonly\n          ? function (_:boolean[]) { throwReadOnlyError(PropertyName) }\n          : function (newValue:boolean[]) {\n              ;(Default === undefined ? expectListSatisfying : allowListSatisfying)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue, ValueIsBoolean\n              )\n              my.unobserved[PropertyName] = ((\n                newValue == null ? Default : newValue\n              ) as boolean[]).slice()\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** NumberProperty ****/\n\n  export function NumberProperty (\n    my:RSC_Visual, PropertyName:string, Default?:number,\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():number { return my.unobserved[PropertyName] },\n        set: (readonly\n          ? function (_:number) { throwReadOnlyError(PropertyName) }\n          : function (newValue:number) {\n              ;(Default === undefined ? expectNumber : allowNumber)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue\n              )\n              my.unobserved[PropertyName] = (newValue == null ? Default : newValue)\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** NumberListProperty ****/\n\n  export function NumberListProperty (\n    my:RSC_Visual, PropertyName:string, Default?:number[],\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():number[] {\n          let Value = my.unobserved[PropertyName]\n          return (Value == null ? [] : Value.slice())\n        },\n        set: (readonly\n          ? function (_:number[]) { throwReadOnlyError(PropertyName) }\n          : function (newValue:number[]) {\n              ;(Default === undefined ? expectListSatisfying : allowListSatisfying)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue, ValueIsNumber\n              )\n              my.unobserved[PropertyName] = ((\n                newValue == null ? Default : newValue\n              ) as number[]).slice()\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** NumberPropertyInRange ****/\n\n  export function NumberPropertyInRange (\n    my:RSC_Visual, PropertyName:string,\n    lowerLimit?:number, upperLimit?:number, withLower:boolean = false, withUpper:boolean = false,\n    Default?:number, Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():number { return my.unobserved[PropertyName] },\n        set: (readonly\n          ? function (_:number) { throwReadOnlyError(PropertyName) }\n          : function (newValue:number) {\n              ;(Default === undefined ? expectNumberInRange : allowNumberInRange)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue,\n                lowerLimit,upperLimit, withLower,withUpper\n              )\n              my.unobserved[PropertyName] = (newValue == null ? Default : newValue)\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** NumberListPropertyInRange ****/\n\n  export function NumberListPropertyInRange (\n    my:RSC_Visual, PropertyName:string,\n    lowerLimit?:number, upperLimit?:number, withLower:boolean = false, withUpper:boolean = false,\n    Default?:number[], Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():number[] {\n          let Value = my.unobserved[PropertyName]\n          return (Value == null ? [] : Value.slice())\n        },\n        set: (readonly\n          ? function (_:number[]) { throwReadOnlyError(PropertyName) }\n          : function (newValue:number[]) {\n              ;(Default === undefined ? expectListSatisfying : allowListSatisfying)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue, (Value) => {\n                  return ValueIsNumberInRange(Value, lowerLimit,upperLimit, withLower,withUpper)\n                }\n              )\n              my.unobserved[PropertyName] = ((\n                newValue == null ? Default : newValue\n              ) as number[]).slice()\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** IntegerProperty ****/\n\n  export function IntegerProperty (\n    my:RSC_Visual, PropertyName:string, Default?:number,\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():number { return my.unobserved[PropertyName] },\n        set: (readonly\n          ? function (_:number) { throwReadOnlyError(PropertyName) }\n          : function (newValue:number) {\n              ;(Default === undefined ? expectInteger : allowInteger)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue\n              )\n              my.unobserved[PropertyName] = (newValue == null ? Default : newValue)\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** IntegerListProperty ****/\n\n  export function IntegerListProperty (\n    my:RSC_Visual, PropertyName:string, Default?:number[],\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():number[] {\n          let Value = my.unobserved[PropertyName]\n          return (Value == null ? [] : Value.slice())\n        },\n        set: (readonly\n          ? function (_:number[]) { throwReadOnlyError(PropertyName) }\n          : function (newValue:number[]) {\n              ;(Default === undefined ? expectListSatisfying : allowListSatisfying)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue, ValueIsInteger\n              )\n              my.unobserved[PropertyName] = ((\n                newValue == null ? Default : newValue\n              ) as number[]).slice()\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** IntegerPropertyInRange ****/\n\n  export function IntegerPropertyInRange (\n    my:RSC_Visual, PropertyName:string,\n    lowerLimit?:number, upperLimit?:number, Default?:number,\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():number { return my.unobserved[PropertyName] },\n        set: (readonly\n          ? function (_:number) { throwReadOnlyError(PropertyName) }\n          : function (newValue:number) {\n              ;(Default === undefined ? expectIntegerInRange : allowIntegerInRange)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue,\n                lowerLimit,upperLimit\n              )\n              my.unobserved[PropertyName] = (newValue == null ? Default : newValue)\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** IntegerListPropertyInRange ****/\n\n  export function IntegerListPropertyInRange (\n    my:RSC_Visual, PropertyName:string,\n    lowerLimit?:number, upperLimit?:number, Default?:number[],\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():number[] {\n          let Value = my.unobserved[PropertyName]\n          return (Value == null ? [] : Value.slice())\n        },\n        set: (readonly\n          ? function (_:number[]) { throwReadOnlyError(PropertyName) }\n          : function (newValue:number[]) {\n              ;(Default === undefined ? expectListSatisfying : allowListSatisfying)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue, (Value) => {\n                  return ValueIsIntegerInRange(Value, lowerLimit,upperLimit)\n                }\n              )\n              my.unobserved[PropertyName] = ((\n                newValue == null ? Default : newValue\n              ) as number[]).slice()\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** StringProperty ****/\n\n  export function StringProperty (\n    my:RSC_Visual, PropertyName:string, Default?:string,\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():string { return my.unobserved[PropertyName] },\n        set: (readonly\n          ? function (_:string) { throwReadOnlyError(PropertyName) }\n          : function (newValue:string) {\n              ;(Default === undefined ? expectString : allowString)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue\n              )\n              my.unobserved[PropertyName] = (newValue == null ? Default : newValue)\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** StringListProperty ****/\n\n  export function StringListProperty (\n    my:RSC_Visual, PropertyName:string, Default?:string[],\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():string[] {\n          let Value = my.unobserved[PropertyName]\n          return (Value == null ? [] : Value.slice())\n        },\n        set: (readonly\n          ? function (_:string[]) { throwReadOnlyError(PropertyName) }\n          : function (newValue:string[]) {\n              ;(Default === undefined ? expectListSatisfying : allowListSatisfying)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue, ValueIsString\n              )\n              my.unobserved[PropertyName] = ((\n                newValue == null ? Default : newValue\n              ) as string[]).slice()\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** StringPropertyMatching ****/\n\n  export function StringPropertyMatching (\n    my:RSC_Visual, PropertyName:string, Pattern:RegExp, Default?:string,\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():string { return my.unobserved[PropertyName] },\n        set: (readonly\n          ? function (_:string) { throwReadOnlyError(PropertyName) }\n          : function (newValue:string) {\n              ;(Default === undefined ? expectStringMatching : allowStringMatching)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue, Pattern\n              )\n              my.unobserved[PropertyName] = (newValue == null ? Default : newValue)\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** StringListPropertyMatching ****/\n\n  export function StringListPropertyMatching (\n    my:RSC_Visual, PropertyName:string, Pattern:RegExp, Default?:string[],\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():string[] {\n          let Value = my.unobserved[PropertyName]\n          return (Value == null ? [] : Value.slice())\n        },\n        set: (readonly\n          ? function (_:string[]) { throwReadOnlyError(PropertyName) }\n          : function (newValue:string[]) {\n              ;(Default === undefined ? expectListSatisfying : allowListSatisfying)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue, (Value) => {\n                  return ValueIsStringMatching(Value,Pattern)\n                }\n              )\n              my.unobserved[PropertyName] = ((\n                newValue == null ? Default : newValue\n              ) as string[]).slice()\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** TextProperty ****/\n\n  export function TextProperty (\n    my:RSC_Visual, PropertyName:string, Default?:string,\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():string { return my.unobserved[PropertyName] },\n        set: (readonly\n          ? function (_:string) { throwReadOnlyError(PropertyName) }\n          : function (newValue:string) {\n              ;(Default === undefined ? expectText : allowText)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue\n              )\n              my.unobserved[PropertyName] = (newValue == null ? Default : newValue)\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** TextlineProperty ****/\n\n  export function TextlineProperty (\n    my:RSC_Visual, PropertyName:string, Default?:string,\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():string { return my.unobserved[PropertyName] },\n        set: (readonly\n          ? function (_:string) { throwReadOnlyError(PropertyName) }\n          : function (newValue:string) {\n              ;(Default === undefined ? expectTextline : allowTextline)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue\n              )\n              my.unobserved[PropertyName] = (newValue == null ? Default : newValue)\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** ListProperty ****/\n\n  export function ListProperty (\n    my:RSC_Visual, PropertyName:string, Default?:string,\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():string { return (my.unobserved[PropertyName] || []).slice() },\n        set: (readonly\n          ? function (_:string) { throwReadOnlyError(PropertyName) }\n          : function (newValue:string) {\n              ;(Default === undefined ? expectList : allowList)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue\n              )\n              my.unobserved[PropertyName] = (newValue == null ? Default : newValue.slice())\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** ListSatisfyingProperty ****/\n\n  export function ListSatisfyingProperty (\n    my:RSC_Visual, PropertyName:string, Validator:(Value:any) => boolean,\n    Default?:string, Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():string { return (my.unobserved[PropertyName] || []).slice() },\n        set: (readonly\n          ? function (_:string) { throwReadOnlyError(PropertyName) }\n          : function (newValue:string) {\n              ;(Default === undefined ? expectListSatisfying : allowListSatisfying)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue,\n                Validator\n              )\n              my.unobserved[PropertyName] = (newValue == null ? Default : newValue.slice())\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** OneOfProperty ****/\n\n  export function OneOfProperty (\n    my:RSC_Visual, PropertyName:string, allowedValues:string[], Default?:string,\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():string { return my.unobserved[PropertyName] },\n        set: (readonly\n          ? function (_:string) { throwReadOnlyError(PropertyName) }\n          : function (newValue:string) {\n              ;(Default === undefined ? expectOneOf : allowOneOf)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue, allowedValues\n              )\n              my.unobserved[PropertyName] = (newValue == null ? Default : newValue)\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** OneOfListProperty ****/\n\n  export function OneOfListProperty (\n    my:RSC_Visual, PropertyName:string, allowedValues:string[], Default?:string[],\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():string[] {\n          let Value = my.unobserved[PropertyName]\n          return (Value == null ? [] : Value.slice())\n        },\n        set: (readonly\n          ? function (_:string[]) { throwReadOnlyError(PropertyName) }\n          : function (newValue:string[]) {\n              ;(Default === undefined ? expectListSatisfying : allowListSatisfying)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue, (Value) => {\n                  return ValueIsOneOf(Value,allowedValues)\n                }\n              )\n              my.unobserved[PropertyName] = ((\n                newValue == null ? Default : newValue\n              ) as string[]).slice()\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** ColorProperty ****/\n\n  export function ColorProperty (\n    my:RSC_Visual, PropertyName:string, Default?:string,\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():string { return my.unobserved[PropertyName] },\n        set: (readonly\n          ? function (_:string) { throwReadOnlyError(PropertyName) }\n          : function (newValue:string) {\n              ;(Default === undefined ? expectColor : allowColor)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue\n              )\n              my.unobserved[PropertyName] = (\n                newValue == null ? Default : HexColor(newValue)\n              )\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** ColorListProperty ****/\n\n  export function ColorListProperty (\n    my:RSC_Visual, PropertyName:string, Default?:string[],\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():string[] {\n          let Value = my.unobserved[PropertyName]\n          return (Value == null ? [] : Value.slice())\n        },\n        set: (readonly\n          ? function (_:string[]) { throwReadOnlyError(PropertyName) }\n          : function (newValue:string[]) {\n              ;(Default === undefined ? expectListSatisfying : allowListSatisfying)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue, ValueIsColor\n              )\n              my.unobserved[PropertyName] = ((\n                newValue == null ? Default : newValue\n              ) as string[]).map((Color) => HexColor(Color))\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** URLProperty ****/\n\n  export function URLProperty (\n    my:RSC_Visual, PropertyName:string, Default?:string,\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():string { return my.unobserved[PropertyName] },\n        set: (readonly\n          ? function (_:string) { throwReadOnlyError(PropertyName) }\n          : function (newValue:string) {\n              ;(Default === undefined ? expectURL : allowURL)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue\n              )\n              my.unobserved[PropertyName] = (newValue == null ? Default : newValue)\n            }\n        )\n      })\n    return Descriptor\n  }\n\n/**** URLListProperty ****/\n\n  export function URLListProperty (\n    my:RSC_Visual, PropertyName:string, Default?:string[],\n    Description?:string, readonly:boolean = false\n  ):object {\n    let Descriptor = {}\n      Object.defineProperty(Descriptor, PropertyName, {\n        configurable:true, enumerable:true,\n        get: function ():string[] {\n          let Value = my.unobserved[PropertyName]\n          return (Value == null ? [] : Value.slice())\n        },\n        set: (readonly\n          ? function (_:string[]) { throwReadOnlyError(PropertyName) }\n          : function (newValue:string[]) {\n              ;(Default === undefined ? expectListSatisfying : allowListSatisfying)(\n                Description || ('\"' + PropertyName + '\" setting'), newValue, ValueIsURL\n              )\n              my.unobserved[PropertyName] = ((\n                newValue == null ? Default : newValue\n              ) as string[]).slice()\n            }\n        )\n      })\n    return Descriptor\n  }\n\n//------------------------------------------------------------------------------\n//--                     Attribute Convenience Functions                      --\n//------------------------------------------------------------------------------\n\n/**** handleEventAttributes ****/\n\n  export function handleEventAttribute (\n    reportedName:string, reportedValue:string|undefined,\n    my:RSC_Visual, ...EventNames:string[]\n  ):boolean {\n    let foundSomething = false\n      EventNames.forEach((EventName) => {\n        const AttributeName = EventName.toLowerCase()\n        if (\n          (reportedName === 'on'  + AttributeName) ||\n          (reportedName === 'on-' + AttributeName)\n        ) {\n          foundSomething = true\n\n          if (reportedValue == null) {\n            unregisterAllMatchingEventHandlersFromVisual(my,EventName)\n          } else {\n            let compiledFunction:Function|undefined = undefined\n            try {\n              compiledFunction = new Function('Event',reportedValue)\n            } catch (Signal) {\n              throwError(\n                'CompilationFailure: could not compile handler for event \"' +\n                EventName + '\" from Attribute \"' + reportedName + '\", reason: ' +\n                Signal\n              )\n            }\n\n            registerEventHandlerForVisual(my, EventName, compiledFunction)\n          }\n        }\n      })\n    return foundSomething\n  }\n  export const handleEventAttributes = handleEventAttribute\n\n/**** ignoreAttribute (i.e., attribute should only be reactively read) ****/\n\n  export function ignoreAttribute (\n    reportedName:string, reportedValue:string|undefined,\n    my:RSC_Visual, Name:string, PropertyName?:string\n  ):boolean {\n    const AttributeName = normalizedAttributeName(Name)\n    ignoreAttributeOfVisual(my,AttributeName)\n\n    return (reportedName === AttributeName)\n  }\n\n/**** handleBooleanAttribute ****/\n\n  export function handleBooleanAttribute (\n    reportedName:string, reportedValue:string|undefined,\n    my:RSC_Visual, Name:string, PropertyName?:string\n  ):boolean {\n    const AttributeName = normalizedAttributeName(Name)\n    if (reportedName === AttributeName) {\n      allowOneOf('\"' + AttributeName + '\" attribute',reportedValue,[\n        AttributeName, '', 'true', 'false'\n      ])\n\n      let newValue = (reportedValue != null) && (reportedValue !== 'false')\n      my.observed[PropertyName || Name] = newValue\n\n      return true                      // because the attribute has been handled\n    } else {\n      return false\n    }\n  }\n\n/**** handleBooleanListAttribute ****/\n\n  export function handleBooleanListAttribute (\n    reportedName:string, reportedValue:string|undefined,\n    my:RSC_Visual, Name:string, PropertyName?:string\n  ):boolean {\n    const AttributeName = normalizedAttributeName(Name)\n    if (reportedName === AttributeName) {\n      let newValue = (reportedValue || '').trim().split(/\\s*,\\s*|\\n/)\n        .map((Value,i) => allowedOneOf(\n          '\"' + AttributeName + '\" attribute entry #' + (i+1),\n          Value.trim(), ['true', 'false']\n        ) === 'true')\n      my.observed[PropertyName || Name] = newValue\n\n      return true                      // because the attribute has been handled\n    } else {\n      return false\n    }\n  }\n\n/**** handleNumericAttribute ****/\n\n  export function handleNumericAttribute (\n    reportedName:string, reportedValue:string|undefined,\n    my:RSC_Visual, Name:string, PropertyName?:string\n  ):boolean {\n    const AttributeName = normalizedAttributeName(Name)\n    if (reportedName === AttributeName) {\n      if (reportedValue == null) {\n        my.observed[PropertyName || Name] = undefined\n      } else {\n        let newValue = parseFloat(reportedValue)\n        if (isNaN(newValue)) throwError(\n          'InvalidAttribute: invalid \"' + AttributeName + '\" attribute given'\n        )\n\n        my.observed[PropertyName || Name] = newValue\n      }\n      return true                      // because the attribute has been handled\n    } else {\n      return false\n    }\n  }\n\n/**** handleNumericListAttribute ****/\n\n  export function handleNumericListAttribute (\n    reportedName:string, reportedValue:string|undefined,\n    my:RSC_Visual, Name:string, PropertyName?:string\n  ):boolean {\n    const AttributeName = normalizedAttributeName(Name)\n    if (reportedName === AttributeName) {\n      let newValue = (reportedValue || '').trim().split(/\\s*,\\s*|\\n/)\n        .map((Value,i) => {\n          let newValue = parseFloat(Value)\n            if (isNaN(newValue)) throwError(\n              'InvalidAttribute: \"' + AttributeName + '\" attribute entry #' +\n              (i+1) + ' is not a valid number'\n            )\n          return newValue\n        })\n      my.observed[PropertyName || Name] = newValue\n\n      return true                      // because the attribute has been handled\n    } else {\n      return false\n    }\n  }\n\n/**** handleLiteralAttribute ****/\n\n  export function handleLiteralAttribute (\n    reportedName:string, reportedValue:string|undefined,\n    my:RSC_Visual, Name:string, PropertyName?:string\n  ):boolean {\n    const AttributeName = normalizedAttributeName(Name)\n    if (reportedName === AttributeName) {\n      my.observed[PropertyName || Name] = reportedValue\n      return true                      // because the attribute has been handled\n    } else {\n      return false\n    }\n  }\n\n/**** handleLiteralListAttribute (allows empty entries) ****/\n\n  export function handleLiteralListAttribute (\n    reportedName:string, reportedValue:string|undefined,\n    my:RSC_Visual, Name:string, PropertyName?:string\n  ):boolean {\n    const AttributeName = normalizedAttributeName(Name)\n    if (reportedName === AttributeName) {\n      let newValue = (reportedValue || '').trim().split(/\\s*,\\s*|\\n/)\n        .map((Line) => Line.trim())\n      my.observed[PropertyName || Name] = newValue\n\n      return true                      // because the attribute has been handled\n    } else {\n      return false\n    }\n  }\n\n/**** handleLiteralLinesAttribute (allows empty entries) ****/\n\n  export function handleLiteralLinesAttribute (\n    reportedName:string, reportedValue:string|undefined,\n    my:RSC_Visual, Name:string, PropertyName?:string\n  ):boolean {\n    const AttributeName = normalizedAttributeName(Name)\n    if (reportedName === AttributeName) {\n      let newValue = (reportedValue || '').trim().split(/\\n/)\n        .map((Line) => Line.trim())\n      my.observed[PropertyName || Name] = newValue\n\n      return true                      // because the attribute has been handled\n    } else {\n      return false\n    }\n  }\n\n/**** handleSettingOrKeywordAttribute ****/\n\n  export function handleSettingOrKeywordAttribute (\n    reportedName:string, reportedValue:string|undefined,\n    my:RSC_Visual, Name:string,\n    permittedValues:string[], permittedKeywords?:string[],\n    PropertyName?:string,\n  ):boolean {\n    const AttributeName = normalizedAttributeName(Name)\n\n  /**** take care of removed attributes ****/\n\n    let foundSomething = (reportedName == AttributeName)\n    if (! foundSomething) {\n      (permittedKeywords || permittedValues).forEach((Keyword) => {\n        let KeywordName = normalizedAttributeName(Keyword)\n        if (reportedName === KeywordName) { foundSomething = true }\n      })\n    }\n    if (! foundSomething) { return false }\n\n  /**** compare all related values ****/\n\n    let newSetting:string|undefined|null = undefined\n      if (my.hasAttribute(AttributeName)) {\n        const AttributeValue = my.getAttribute(AttributeName)\n        allowOneOf('\"' + AttributeName + '\" attribute',AttributeValue, permittedValues)\n\n        newSetting     = AttributeValue             // may event set \"undefined\"\n        foundSomething = true\n      }\n\n      (permittedKeywords || permittedValues).forEach((Keyword) => {\n        let KeywordName = normalizedAttributeName(Keyword)\n        if (my.hasAttribute(KeywordName)) {\n          const KeywordValue = my.getAttribute(KeywordName)\n          allowOneOf('\"' + KeywordName + '\" attribute',KeywordValue,[\n            KeywordName, '', 'true', 'false'\n          ])\n\n          if (KeywordValue !== 'false') {\n            switch (true) {\n              case newSetting == null:     newSetting = Keyword; break\n              case newSetting === Keyword: break\n              default: throwError(\n                'ConflictingAttributes: conflicting \"' + AttributeName + '\" attribute found'\n              )\n            }\n          }\n        }\n      })\n    my.observed[PropertyName || Name] = newSetting\n    return true                        // because the attribute has been handled\n  }\n\n/**** handleJSONAttribute ****/\n\n  export function handleJSONAttribute (\n    reportedName:string, reportedValue:string|undefined,\n    my:RSC_Visual, Name:string, PropertyName?:string\n  ):boolean {\n    const AttributeName = normalizedAttributeName(Name)\n    if (reportedName === AttributeName) {\n      let JSONObject\n        if ((reportedValue != null) && (reportedValue.trim() === '')) {\n          reportedValue = undefined\n        }\n\n        if (reportedValue != null) {\n          try {\n            JSONObject = JSON.parse(reportedValue)\n          } catch (Signal) {\n            throwError(\n              'InvalidAttribute: the given \"' + AttributeName + '\" ' +\n              'attribute is not a valid JSON string'\n            )\n          }\n        }\n      my.observed[PropertyName || Name] = JSONObject\n      return true                      // because the attribute has been handled\n    } else {\n      return false\n    }\n  }\n\n/**** handleJSONLinesAttribute ****/\n\n  export function handleJSONLinesAttribute (\n    reportedName:string, reportedValue:string|undefined,\n    my:RSC_Visual, Name:string, PropertyName?:string\n  ):boolean {\n    const AttributeName = normalizedAttributeName(Name)\n    if (reportedName === AttributeName) {\n      let JSONLines\n        if (reportedValue != null) {\n          JSONLines = reportedValue.trim().split('\\n').map((Line,i) => {\n            try {\n              return JSON.parse(reportedValue)\n            } catch (Signal) {\n              throwError(\n                'InvalidAttribute: line #' + (i+1) + ' in the given ' +\n                '\"' + AttributeName + '\" attribute is not a valid JSON string'\n              )\n            }\n          })\n        }\n      my.observed[PropertyName || Name] = JSONLines\n      return true                      // because the attribute has been handled\n    } else {\n      return false\n    }\n  }\n\n/**** isRunning ****/\n\n  export function isRunning () { return RSC_isRunning }\n\n/**** runAllScriptsInHeadAndBody ****/\n\n  function runAllScriptsInHeadAndBody ():void {\n    innerElementsOf(document.head).forEach((Element) => {\n      if (Element.matches('script[type=\"rsc-script\"]')) {\n        if (Element.hasAttribute('for'))           { return }\n        if (Element.hasAttribute('for-behaviour')) { return }\n\n        runScriptFromElement(Element)\n      }\n    })\n\n    innerElementsOf(document.body).forEach((Element) => {\n      if (Element.matches('script[type=\"rsc-script\"]')) {\n        if (Element.hasAttribute('for'))           { return }\n        if (Element.hasAttribute('for-behaviour')) { return }\n\n        runScriptFromElement(Element)\n      }\n    })\n  }\n\n/**** runScriptFromElement ****/\n\n  function runScriptFromElement (ScriptElement:Element):void {\n    let Source = ScriptElement.innerHTML\n\n    let Executable:Function\n    try {\n      Executable = new Function(\n        'RSC,JIL, observe,computed,dispose', Source\n      )\n    } catch (Signal) {\n      console.error('RSC script compilation failure',Signal)\n      return\n    }\n\n    try {\n      Executable(RSC,JIL, observe,computed,dispose)\n    } catch (Signal) {\n      console.error('RSC script execution failure',Signal)\n      return\n    }\n  }\n\n/**** startAllAppletsInDocument ****/\n\n  function startAllAppletsInDocument ():void {\n    document.body.querySelectorAll('rsc-applet,[behaviour=\"applet\"]').forEach(\n      (DOMElement) => {\n        if (ValueIsVisual(DOMElement)) {\n          let Applet = DOMElement as RSC_Visual\n\n          let VisualToStart = outermostVisualOf(Applet) || Applet\n          if (! VisualWasInitialized(VisualToStart)) {\n            startVisual(VisualToStart)\n          }\n        }\n      }\n    )\n  }\n\n/**** startAllVisualsIn ****/\n\n  function startAllVisualsIn (DOMElement:Element):void {\n    Array.from(DOMElement.children).forEach((innerElement) => {\n      if (ValueIsVisual(innerElement)) { startVisual(innerElement as RSC_Visual) }\n      startAllVisualsIn(innerElement)\n    })\n  }\n\n/**** startVisual ****/\n\n  function startVisual (Visual:RSC_Visual):void {\n    validateContainerOfVisual(Visual)    // throws if inacceptable for container\n\n    if (VisualWasInitialized(Visual)) {\n      unregisterAllReactiveAttributesOfVisual(Visual)\n      registerAllReactiveAttributesOfVisual(Visual)\n    } else {\n//    registerAllBehavioursFoundInVisual(Visual)\n      registerAllDelegatedScriptsFoundInVisual(Visual)\n\n      validateContentsOfVisual(Visual)\n\n      applyBehaviourScriptOfVisual(Visual)\n      applyElementScriptOfVisual(Visual)\n\n      updateAllAttributesOfVisual(Visual)    // setters should be defined by now\n      registerAllReactiveAttributesOfVisual(Visual)\n\n      markVisualAsInitialized(Visual)             // outer visuals are now known\n    }\n\n    startReactiveRenderingOfVisual(Visual)                   // also renders now\n\n    let AttachmentHandler = AttachmentHandlerForVisual.get(Visual)\n    if (AttachmentHandler != null) {\n      try {\n        AttachmentHandler.call(Visual)\n      } catch (Signal) {\nconsole.error('attachment handler failure',Signal)\n        setErrorOfVisual(Visual,{\n          Title:'Attachment Handler Failure',\n          Message:'Running the configured attachment handler failed\\n\\n' +\n                  'Reason: ' + Signal\n        })\n      }\n    }\n\n    startAllVisualsIn(Visual)\n  }\n\n/**** start-up in a well-defined way ****/\n\n  function startRSC () {\n    registerAllBehavioursFoundInHeadAndBody()\n    runAllScriptsInHeadAndBody()\n\n    RSC_isRunning = true\n    startAllAppletsInDocument()\n  }\n\n  if (document.readyState === 'complete') {\n    startRSC()\nconsole.log('RSC was started')\n  } else {\nconsole.log('waiting for document to become \"complete\"')\n    document.addEventListener(\"readystatechange\", (Event) => {\n      if (document.readyState === 'complete') {\n        startRSC()\nconsole.log('RSC was finally started')\n      }\n    })\n  }\n}\n\nconst global = (new Function('return this'))()\nglobal.RSC = RSC\n\nexport const {\n  assign, isRunning,\n  throwReadOnlyError,\n  ValueIsDOMElement, allowDOMElement, allowedDOMElement, expectDOMElement, expectedDOMElement,\n  ValueIsVisual, allowVisual, allowedVisual, expectVisual, expectedVisual,\n  ValueIsName, allowName, allowedName, expectName, expectedName,\n  ValueIsErrorInfo, allowErrorInfo, allowedErrorInfo, expectErrorInfo, expectedErrorInfo,\n  newUUID,\n  outerVisualOf,VisualContaining, outermostVisualOf,\n  closestVisualWithBehaviour, closestVisualMatching,\n  innerVisualsOf,\n  registerBehaviour,\n  observed, unobserved,\n  BooleanProperty, BooleanListProperty,\n  NumberProperty, NumberListProperty, NumberPropertyInRange, NumberListPropertyInRange,\n  IntegerProperty, IntegerListProperty, IntegerPropertyInRange, IntegerListPropertyInRange,\n  StringProperty, StringListProperty, StringPropertyMatching, StringListPropertyMatching,\n  TextProperty, TextlineProperty, ListProperty,\n  OneOfProperty, OneOfListProperty,\n  URLProperty, URLListProperty,\n  handleEventAttribute, handleEventAttributes,\n  handleBooleanAttribute, handleBooleanListAttribute,\n  handleNumericAttribute, handleNumericListAttribute,\n  handleLiteralAttribute, handleLiteralListAttribute, handleLiteralLinesAttribute,\n  handleSettingOrKeywordAttribute,\n  handleJSONAttribute, handleJSONLinesAttribute,\n} = RSC\n","import { data } from './data.js'\n\n/**\n * Will remove the computed function from the reactive Maps (the next time an bound observer property is called) allowing garbage collection.\n *\n * @param {Function} computedFunction\n */\nexport function dispose(computedFunction) {\n  computedFunction[data.trackerSymbol] = null\n  return computedFunction.__disposed = true\n}\n"],"names":["global","Function","Object_hasOwnProperty","Value","PropertyName","hasOwnProperty","Object","prototype","call","Object_isPrototypeOf","Candidate","isPrototypeOf","ObjectMergedWith","TargetObject","otherObjectList","_i","arguments","length","i","l","otherObject","Key","Descriptor","getOwnPropertyDescriptor","defineProperty","throwError","Message","Match","exec","Error","namedError","name","ValueIsBoolean","Boolean","ValueIsNumber","Number","ValueIsFiniteNumber","isFinite","valueOf","ValueIsNaN","isNaN","ValueIsNumberInRange","minValue","maxValue","withMin","withMax","ValueIsInteger","Math","round","ValueIsIntegerInRange","ValueIsOrdinal","ValueIsCardinal","ValueIsString","String","emptyStringPattern","ValueIsNonEmptyString","test","ValueIsStringMatching","Pattern","noCtrlCharsButCRLFPattern","ValueIsText","noCtrlCharsPattern","ValueIsTextline","ValueIsFunction","ValueIsAnonymousFunction","ValueIsNamedFunction","ValueIsNativeFunction","toString","ValueIsScriptedFunction","ValueIsObject","ValueIsPlainObject","getPrototypeOf","ValueIsVanillaObject","ValueIsArray","Array","isArray","ValueIsList","minLength","maxLength","undefined","ValueIsListSatisfying","Validator","Signal","ValueIsDate","Date","ValueIsError","ValueIsPromise","then","ValueIsRegExp","RegExp","ValueIsOneOf","ValueList","indexOf","ValueIsColor","ColorSet","EMailAddressPattern","ValueIsEMailAddress","noCtrlCharsOrWhitespacePattern","ValueIsURL","URL","rejectNil","acceptNil","validatedArgument","Description","Argument","ValueIsValid","NilIsAcceptable","Expectation","concat","escaped","ValidatorForClassifier","Classifier","ClassifierName","FunctionWithName","replace","originalFunction","desiredName","value","signal","renamed","expectValue","expectedValue","allowBoolean","allowedBoolean","expectBoolean","expectedBoolean","allowNumber","allowedNumber","expectNumber","expectedNumber","allowFiniteNumber","allowedFiniteNumber","expectFiniteNumber","expectedFiniteNumber","allowNaN","allowedNaN","expectNaN","expectedNaN","allowNumberInRange","expectedNumberInRange","allowedNumberInRange","expectNumberInRange","RangeError","allowInteger","allowedInteger","expectInteger","expectedInteger","allowIntegerInRange","expectedIntegerInRange","allowedIntegerInRange","expectIntegerInRange","allowOrdinal","allowedOrdinal","expectOrdinal","expectedOrdinal","allowCardinal","allowedCardinal","expectCardinal","expectedCardinal","allowString","allowedString","expectString","expectedString","allowNonEmptyString","allowedNonEmptyString","expectNonEmptyString","expectedNonEmptyString","allowStringMatching","expectedStringMatching","allowedStringMatching","expectStringMatching","allowText","allowedText","expectText","expectedText","allowTextline","allowedTextline","expectTextline","expectedTextline","allowFunction","allowedFunction","expectFunction","expectedFunction","allowAnonymousFunction","allowedAnonymousFunction","expectAnonymousFunction","expectedAnonymousFunction","allowNamedFunction","allowedNamedFunction","expectNamedFunction","expectedNamedFunction","allowNativeFunction","allowedNativeFunction","expectNativeFunction","expectedNativeFunction","allowScriptedFunction","allowedScriptedFunction","expectScriptedFunction","expectedScriptedFunction","allowObject","allowedObject","expectObject","expectedObject","allowPlainObject","allowedPlainObject","expectPlainObject","expectedPlainObject","allowVanillaObject","allowedVanillaObject","expectVanillaObject","expectedVanillaObject","allowArray","expectedArray","allowedArray","expectArray","allowList","expectedList","allowedList","expectList","allowListSatisfying","expectedListSatisfying","allowedListSatisfying","expectListSatisfying","allowInstanceOf","constructor","expectedInstanceOf","allowedInstanceOf","expectInstanceOf","allowValueInheritingFrom","expectedValueInheritingFrom","allowedValueInheritingFrom","expectValueInheritingFrom","allowDate","allowedDate","expectDate","expectedDate","allowError","allowedError","expectError","expectedError","allowPromise","allowedPromise","expectPromise","expectedPromise","allowRegExp","allowedRegExp","expectRegExp","expectedRegExp","allowOneOf","expectedOneOf","allowedOneOf","expectOneOf","allowColor","allowedColor","expectColor","expectedColor","allowEMailAddress","allowedEMailAddress","expectEMailAddress","expectedEMailAddress","allowURL","allowedURL","expectURL","Text","HexCode","charCodeAt","slice","quotable","Quote","quoted","HTMLsafe","EOLReplacement","trim","Result","substring","ValuesDiffer","thisValue","otherValue","Mode","thisType","abs","EPSILON","thisArray","otherArray","ArraysDiffer","thisObject","key","ObjectsDiffer","ObjectIsEmpty","StringIsEmpty","transparent","aliceblue","lightpink","antiquewhite","lightsalmon","aqua","lightseagreen","aquamarine","lightskyblue","azure","lightslategray","beige","lightslategrey","bisque","lightsteelblue","black","lightyellow","blanchedalmond","lime","blue","limegreen","blueviolet","linen","brown","magenta","burlywood","maroon","cadetblue","mediumaquamarine","chartreuse","mediumblue","chocolate","mediumorchid","coral","mediumpurple","cornflowerblue","mediumseagreen","cornsilk","mediumslateblue","crimson","mediumspringgreen","cyan","mediumturquoise","darkblue","mediumvioletred","darkcyan","midnightblue","darkgoldenrod","mintcream","darkgray","mistyrose","darkgreen","moccasin","darkgrey","navajowhite","darkkhaki","navy","darkmagenta","oldlace","darkolivegreen","olive","darkorange","olivedrab","darkorchid","orange","darkred","orangered","darksalmon","orchid","darkseagreen","palegoldenrod","darkslateblue","palegreen","darkslategray","paleturquoise","darkslategrey","palevioletred","darkturquoise","papayawhip","darkviolet","peachpuff","deeppink","peru","deepskyblue","pink","dimgray","plum","dimgrey","powderblue","dodgerblue","purple","firebrick","red","floralwhite","rosybrown","forestgreen","royalblue","fuchsia","saddlebrown","gainsboro","salmon","ghostwhite","sandybrown","gold","seagreen","goldenrod","seashell","gray","sienna","green","silver","greenyellow","skyblue","grey","slateblue","honeydew","slategray","hotpink","slategrey","indianred","snow","indigo","springgreen","ivory","steelblue","khaki","tan","lavender","teal","lavenderblush","thistle","lawngreen","tomato","lemonchiffon","turquoise","lightblue","violet","lightcoral","wheat","lightcyan","white","lightgoldenrodyellow","whitesmoke","lightgray","yellow","lightgreen","yellowgreen","lightgrey","HexColor","Color","lowerColor","toLowerCase","HexDigit","dec2hex","trunc","parseInt","parseFloat","n","u","o","r","f","propertyIsEnumerable","toLocaleString","Prototype","Constructor","Minimum","Maximum","Infinity","max","min","CharCode","fromCharCode","c","s","a","h","v","p","parentNode","removeChild","y","t","children","defaultProps","d","type","props","ref","__k","__","__b","__e","__d","__c","__v","__i","__u","vnode","g","b","this","context","m","k","base","w","push","x","__r","debounceRendering","e","sort","shift","__P","L","__n","ownerSVGElement","M","C","_","P","z","S","nextSibling","H","N","insertBefore","I","setProperty","T","style","cssText","now","addEventListener","D","A","removeEventListener","removeAttribute","setAttribute","event","$","contextType","__E","render","O","sub","state","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","forEach","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","j","diffed","some","localName","nodeType","document","createTextNode","createElementNS","createElement","is","data","childNodes","attributes","__html","innerHTML","current","unmount","componentWillUnmount","q","firstChild","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","Promise","bind","resolve","setTimeout","assign","apply","Map","get","set","BIND_IGNORED","isObj","object","setHiddenKey","enumerable","configurable","defineBubblingProperties","parent","computedStack","trackerSymbol","Symbol","queue","__batched","process","task","enqueue","batch","queueMicrotask","observedSymbol","RSC","observe","obj","options","ignore","deep","bubble","isWatched","prop","includes","entries","val","propertiesMap","proxy","Proxy","computedFn","tracker","trackerSet","Set","add","propertiesSet","deeper","oldValue","ancestry","__handler","__key","__parent","unshift","dependents","dependent","trackedObj","tracked","has","__disposed","delete","descriptor","Reflect","deleteProperty","getOwnPropertyNames","filter","computed","wrappedFunction","autoRun","callback","disableTracking","observeComputation","fun","argsList","target","wrapper","WeakMap","computeAsyncArg","result","computeAsync","dispose","computedFunction","Stylesheet","head","appendChild","JIL","html","Component","RSC_isRunning","throwReadOnlyError","Name","ValueIsDOMElement","Element","ValueIsVisual","RSC_Visual","allowDOMElement","allowedDOMElement","expectDOMElement","expectedDOMElement","allowVisual","allowedVisual","expectVisual","expectedVisual","RSC_NamePattern","ValueIsName","ValueIsErrorInfo","Title","allowName","allowedName","expectName","expectedName","allowErrorInfo","allowedErrorInfo","expectErrorInfo","expectedErrorInfo","newUUID","IdPart","Id","random","InitializationMarkerForVisual","VisualWasInitialized","Visual","outerVisualOf","DOMElement","parentElement","outermostVisualOf","outermostVisual","closestVisualWithBehaviour","BehaviourName","normalizedName","normalizedBehaviourName","BehaviourNameOfVisual","closestVisualMatching","Selector","matches","innerElementsOf","from","innerVisualsOf","innerElement","VisualContaining","BehaviourRegistry","create","InfoForBehaviour","registerBehaviour","SourceOrExecutable","observedAttributes","_class","console","log","AttributeSet","internalName","normalizedAttributeName","map","Executable","BehaviourInfo","Source","compiledScript","error","customizedVisual","_RSC_Visual","_inheritsLoose","customElements","define","registerBehaviourFromElement","ScriptElement","getAttribute","split","permittedVisualsSelectorWithinBehaviour","permitVisualsWithinBehaviour","forbiddenVisualsSelectorWithinBehaviour","forbidVisualsWithinBehaviour","originalName","_InfoForBehaviour","tagName","ScriptDelegationSetForVisual","Script","applyExecutable","onAttributeChange","onAttachment","onDetachment","toRender","ShadowRoot","ShadowRootForVisual","Events","SelectorOrHandler","DataOrHandler","Handler","registerEventHandlerForVisual","ArgList","unregisterAllMatchingEventHandlersFromVisual","EventToTrigger","Arguments","bubbles","CustomEvent","cancelable","detail","Event","dispatchEvent","EventDetails","reactiveFunction","reactiveFunctions","reactiveFunctionsForVisual","registerReactiveFunctionIn","RSC_NameWithSelectorPattern","ValueIsEventNameWithSelector","once","Data","actualHandler","_Event$detail","currentTarget","stopImmediatePropagation","preventDefault","EventList","AtIndex","EventRegistry","EventRegistryForVisual","EntriesForEvent","EntriesForSelector","_registerEventHandlerForVisual","unregisterMatchingEventHandlersFromVisual","unregisterMatchingEventSelectorHandlersFromVisual","every","Index","splice","reactiveAttributesForVisual","ignoredAttributesForVisual","globalObservables","globalInternals","observed","unobserved","ObservablesForVisual","InternalsForVisual","reactiveRendererForVisual","startReactiveRenderingOfVisual","ValueIsReactiveAttributeName","startsWith","updateAttributeOfVisual","newValue","AttributeChangeHandler","AttributeChangeHandlerForVisual","setErrorOfVisual","Behaviour","registerAllReactiveAttributesOfVisual","Attribute","reactiveName","_parsedAccessPathFrom","literalPath","Base","SplitIndex","AccessPath","PathList","dottedIndexPattern","unquotedIndexPattern","sglquotedIndexPattern","dblquotedIndexPattern","parsedAccessPathFromVisual","HandlerList","_ignoredAttributesFor","VisualAttributeIsIgnored","ValueOfReactiveVariable","Variable","_extends","setValueOfReactiveVariable","unregisterAllReactiveAttributesOfVisual","ErrorInfoForVisual","ErrorInfo","ErrorOfVisual","RSC_ErrorIndicator","PropSet","visual","_templateObject","_taggedTemplateLiteralLoose","onClick","_ErrorOfVisual","window","alert","showErrorInfoForVisual","AttachmentHandlerForVisual","DetachmentHandlerForVisual","RendererForVisual","_HTMLElement","_this","attachShadow","mode","_assertThisInitialized","_proto","connectedCallback","startVisual","disconnectedCallback","DetachmentHandler","attributeChangedCallback","newHandler","Rendering","hasError","Renderer","_templateObject2","_templateObject3","_templateObject4","closestOuterVisualWithBehaviour","outerVisual","closestOuterVisualMatching","innerVisualsWithBehaviour","innerVisualsMatching","innerElementsMatching","Observables","Internals","_wrapNativeSuper","HTMLElement","RSC_Applet","_RSC_Visual2","_this2","_templateObject5","handleEventAttribute","reportedName","reportedValue","my","foundSomething","EventName","AttributeName","compiledFunction","runScriptFromElement","startAllVisualsIn","Container","permittedVisualsSelector","forbiddenVisualsSelector","validateContainerOfVisual","ScriptDelegationSet","registerDelegatedScriptInVisual","registerDelegatedScriptFromElement","registerAllDelegatedScriptsFoundInVisual","innerVisual","remove","validateContentsOfVisual","applyBehaviourScriptOfVisual","ScriptOfVisual","ScriptList","hasAttribute","ScriptInVisual","ScriptDelegationInfo","ScriptContainer","delegatedScriptInfoForVisual","applyElementScriptOfVisual","updateAllAttributesOfVisual","markVisualAsInitialized","AttachmentHandler","startRSC","body","querySelectorAll","Applet","VisualToStart","BooleanProperty","Default","readonly","BooleanListProperty","NumberProperty","NumberListProperty","NumberPropertyInRange","lowerLimit","upperLimit","withLower","withUpper","NumberListPropertyInRange","IntegerProperty","IntegerListProperty","IntegerPropertyInRange","IntegerListPropertyInRange","StringProperty","StringListProperty","StringPropertyMatching","StringListPropertyMatching","TextProperty","TextlineProperty","ListProperty","ListSatisfyingProperty","OneOfProperty","allowedValues","OneOfListProperty","ColorProperty","ColorListProperty","URLProperty","URLListProperty","handleEventAttributes","ignoreAttribute","ignoredAttributes","ignoreAttributeOfVisual","handleBooleanAttribute","handleBooleanListAttribute","handleNumericAttribute","handleNumericListAttribute","handleLiteralAttribute","handleLiteralListAttribute","Line","handleLiteralLinesAttribute","handleSettingOrKeywordAttribute","permittedValues","permittedKeywords","Keyword","KeywordName","newSetting","AttributeValue","KeywordValue","handleJSONAttribute","JSONObject","JSON","parse","handleJSONLinesAttribute","JSONLines","isRunning","readyState"],"mappings":"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"}